var iP=Object.defineProperty;var cv=t=>{throw TypeError(t)};var rP=(t,e,n)=>e in t?iP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var oe=(t,e,n)=>rP(t,typeof e!="symbol"?e+"":e,n),Bf=(t,e,n)=>e.has(t)||cv("Cannot "+n);var A=(t,e,n)=>(Bf(t,e,"read from private field"),n?n.call(t):e.get(t)),ge=(t,e,n)=>e.has(t)?cv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),re=(t,e,n,i)=>(Bf(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),ct=(t,e,n)=>(Bf(t,e,"access private method"),n);var vc=(t,e,n,i)=>({set _(r){re(t,e,r,n)},get _(){return A(t,e,i)}});function sP(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Bm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $x={exports:{}},Rd={},Vx={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=Symbol.for("react.element"),oP=Symbol.for("react.portal"),aP=Symbol.for("react.fragment"),lP=Symbol.for("react.strict_mode"),cP=Symbol.for("react.profiler"),uP=Symbol.for("react.provider"),dP=Symbol.for("react.context"),fP=Symbol.for("react.forward_ref"),hP=Symbol.for("react.suspense"),pP=Symbol.for("react.memo"),mP=Symbol.for("react.lazy"),uv=Symbol.iterator;function gP(t){return t===null||typeof t!="object"?null:(t=uv&&t[uv]||t["@@iterator"],typeof t=="function"?t:null)}var Ux={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yx=Object.assign,Kx={};function Yo(t,e,n){this.props=t,this.context=e,this.refs=Kx,this.updater=n||Ux}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gx(){}Gx.prototype=Yo.prototype;function Hm(t,e,n){this.props=t,this.context=e,this.refs=Kx,this.updater=n||Ux}var Wm=Hm.prototype=new Gx;Wm.constructor=Hm;Yx(Wm,Yo.prototype);Wm.isPureReactComponent=!0;var dv=Array.isArray,qx=Object.prototype.hasOwnProperty,$m={current:null},Qx={key:!0,ref:!0,__self:!0,__source:!0};function Xx(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qx.call(e,i)&&!Qx.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Vl,type:t,key:s,ref:o,props:r,_owner:$m.current}}function yP(t,e){return{$$typeof:Vl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vl}function vP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fv=/\/+/g;function Hf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vP(""+t.key):e.toString(36)}function su(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vl:case oP:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Hf(o,0):i,dv(r)?(n="",t!=null&&(n=t.replace(fv,"$&/")+"/"),su(r,e,n,"",function(c){return c})):r!=null&&(Vm(r)&&(r=yP(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(fv,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",dv(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Hf(s,a);o+=su(s,e,n,l,r)}else if(l=gP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Hf(s,a++),o+=su(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _c(t,e,n){if(t==null)return t;var i=[],r=0;return su(t,i,"","",function(s){return e.call(n,s,r++)}),i}function _P(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},ou={transition:null},wP={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:ou,ReactCurrentOwner:$m};function Zx(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:_c,forEach:function(t,e,n){_c(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _c(t,function(){e++}),e},toArray:function(t){return _c(t,function(e){return e})||[]},only:function(t){if(!Vm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Yo;he.Fragment=aP;he.Profiler=cP;he.PureComponent=Hm;he.StrictMode=lP;he.Suspense=hP;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wP;he.act=Zx;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Yx({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$m.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)qx.call(e,l)&&!Qx.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Vl,type:t.type,key:r,ref:s,props:i,_owner:o}};he.createContext=function(t){return t={$$typeof:dP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uP,_context:t},t.Consumer=t};he.createElement=Xx;he.createFactory=function(t){var e=Xx.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:fP,render:t}};he.isValidElement=Vm;he.lazy=function(t){return{$$typeof:mP,_payload:{_status:-1,_result:t},_init:_P}};he.memo=function(t,e){return{$$typeof:pP,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=ou.transition;ou.transition={};try{t()}finally{ou.transition=e}};he.unstable_act=Zx;he.useCallback=function(t,e){return Pt.current.useCallback(t,e)};he.useContext=function(t){return Pt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Pt.current.useEffect(t,e)};he.useId=function(){return Pt.current.useId()};he.useImperativeHandle=function(t,e,n){return Pt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Pt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Pt.current.useReducer(t,e,n)};he.useRef=function(t){return Pt.current.useRef(t)};he.useState=function(t){return Pt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Pt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Pt.current.useTransition()};he.version="18.3.1";Vx.exports=he;var S=Vx.exports;const H=Bm(S),Jx=sP({__proto__:null,default:H},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP=S,bP=Symbol.for("react.element"),SP=Symbol.for("react.fragment"),EP=Object.prototype.hasOwnProperty,CP=xP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TP={key:!0,ref:!0,__self:!0,__source:!0};function eb(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)EP.call(e,i)&&!TP.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:bP,type:t,key:s,ref:o,props:r,_owner:CP.current}}Rd.Fragment=SP;Rd.jsx=eb;Rd.jsxs=eb;$x.exports=Rd;var P=$x.exports,tb={exports:{}},rn={},nb={exports:{}},ib={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,D){var $=M.length;M.push(D);e:for(;0<$;){var X=$-1>>>1,K=M[X];if(0<r(K,D))M[X]=D,M[$]=K,$=X;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var D=M[0],$=M.pop();if($!==D){M[0]=$;e:for(var X=0,K=M.length,ne=K>>>1;X<ne;){var J=2*(X+1)-1,xe=M[J],Ee=J+1,te=M[Ee];if(0>r(xe,$))Ee<K&&0>r(te,xe)?(M[X]=te,M[Ee]=$,X=Ee):(M[X]=xe,M[J]=$,X=J);else if(Ee<K&&0>r(te,$))M[X]=te,M[Ee]=$,X=Ee;else break e}}return D}function r(M,D){var $=M.sortIndex-D.sortIndex;return $!==0?$:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,m=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var D=n(c);D!==null;){if(D.callback===null)i(c);else if(D.startTime<=M)i(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(c)}}function b(M){if(p=!1,_(M),!m)if(n(l)!==null)m=!0,Y(E);else{var D=n(c);D!==null&&q(b,D.startTime-M)}}function E(M,D){m=!1,p&&(p=!1,g(I),I=-1),h=!0;var $=f;try{for(_(D),d=n(l);d!==null&&(!(d.expirationTime>D)||M&&!j());){var X=d.callback;if(typeof X=="function"){d.callback=null,f=d.priorityLevel;var K=X(d.expirationTime<=D);D=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&i(l),_(D)}else i(l);d=n(l)}if(d!==null)var ne=!0;else{var J=n(c);J!==null&&q(b,J.startTime-D),ne=!1}return ne}finally{d=null,f=$,h=!1}}var T=!1,k=null,I=-1,R=5,O=-1;function j(){return!(t.unstable_now()-O<R)}function L(){if(k!==null){var M=t.unstable_now();O=M;var D=!0;try{D=k(!0,M)}finally{D?Q():(T=!1,k=null)}}else T=!1}var Q;if(typeof v=="function")Q=function(){v(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=L,Q=function(){G.postMessage(null)}}else Q=function(){y(L,0)};function Y(M){k=M,T||(T=!0,Q())}function q(M,D){I=y(function(){M(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,Y(E))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var $=f;f=D;try{return M()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var $=f;f=M;try{return D()}finally{f=$}},t.unstable_scheduleCallback=function(M,D,$){var X=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,M){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=$+K,M={id:u++,callback:D,priorityLevel:M,startTime:$,expirationTime:K,sortIndex:-1},$>X?(M.sortIndex=$,e(c,M),n(l)===null&&M===n(c)&&(p?(g(I),I=-1):p=!0,q(b,$-X))):(M.sortIndex=K,e(l,M),m||h||(m=!0,Y(E))),M},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(M){var D=f;return function(){var $=f;f=D;try{return M.apply(this,arguments)}finally{f=$}}}})(ib);nb.exports=ib;var kP=nb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP=S,nn=kP;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rb=new Set,il={};function Os(t,e){No(t,e),No(t+"Capture",e)}function No(t,e){for(il[t]=e,t=0;t<e.length;t++)rb.add(e[t])}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xh=Object.prototype.hasOwnProperty,IP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hv={},pv={};function NP(t){return Xh.call(pv,t)?!0:Xh.call(hv,t)?!1:IP.test(t)?pv[t]=!0:(hv[t]=!0,!1)}function RP(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MP(t,e,n,i){if(e===null||typeof e>"u"||RP(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function It(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new It(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new It(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new It(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new It(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new It(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new It(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new It(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new It(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new It(t,5,!1,t.toLowerCase(),null,!1,!1)});var Um=/[\-:]([a-z])/g;function Ym(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Um,Ym);lt[e]=new It(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Um,Ym);lt[e]=new It(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Um,Ym);lt[e]=new It(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new It(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new It(t,1,!1,t.toLowerCase(),null,!0,!0)});function Km(t,e,n,i){var r=lt.hasOwnProperty(e)?lt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MP(e,n,r,i)&&(n=null),i||r===null?NP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ui=PP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wc=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),qs=Symbol.for("react.fragment"),Gm=Symbol.for("react.strict_mode"),Zh=Symbol.for("react.profiler"),sb=Symbol.for("react.provider"),ob=Symbol.for("react.context"),qm=Symbol.for("react.forward_ref"),Jh=Symbol.for("react.suspense"),ep=Symbol.for("react.suspense_list"),Qm=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),ab=Symbol.for("react.offscreen"),mv=Symbol.iterator;function la(t){return t===null||typeof t!="object"?null:(t=mv&&t[mv]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Wf;function ka(t){if(Wf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wf=e&&e[1]||""}return`
`+Wf+t}var $f=!1;function Vf(t,e){if(!t||$f)return"";$f=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$f=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ka(t):""}function AP(t){switch(t.tag){case 5:return ka(t.type);case 16:return ka("Lazy");case 13:return ka("Suspense");case 19:return ka("SuspenseList");case 0:case 2:case 15:return t=Vf(t.type,!1),t;case 11:return t=Vf(t.type.render,!1),t;case 1:return t=Vf(t.type,!0),t;default:return""}}function tp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qs:return"Fragment";case Gs:return"Portal";case Zh:return"Profiler";case Gm:return"StrictMode";case Jh:return"Suspense";case ep:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ob:return(t.displayName||"Context")+".Consumer";case sb:return(t._context.displayName||"Context")+".Provider";case qm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qm:return e=t.displayName||null,e!==null?e:tp(t.type)||"Memo";case rr:e=t._payload,t=t._init;try{return tp(t(e))}catch{}}return null}function OP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tp(e);case 8:return e===Gm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DP(t){var e=lb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xc(t){t._valueTracker||(t._valueTracker=DP(t))}function cb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=lb(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Cu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function np(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gv(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ub(t,e){e=e.checked,e!=null&&Km(t,"checked",e,!1)}function ip(t,e){ub(t,e);var n=Nr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rp(t,e.type,n):e.hasOwnProperty("defaultValue")&&rp(t,e.type,Nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rp(t,e,n){(e!=="number"||Cu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pa=Array.isArray;function co(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Nr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function sp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Pa(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nr(n)}}function db(t,e){var n=Nr(e.value),i=Nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function _v(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function op(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bc,hb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bc=bc||document.createElement("div"),bc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LP=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(t){LP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oa[e]=Oa[t]})});function pb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Oa.hasOwnProperty(t)&&Oa[t]?(""+e).trim():e+"px"}function mb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=pb(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var FP=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ap(t,e){if(e){if(FP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function lp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cp=null;function Xm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var up=null,uo=null,fo=null;function wv(t){if(t=Kl(t)){if(typeof up!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Ld(e),up(t.stateNode,t.type,e))}}function gb(t){uo?fo?fo.push(t):fo=[t]:uo=t}function yb(){if(uo){var t=uo,e=fo;if(fo=uo=null,wv(t),e)for(t=0;t<e.length;t++)wv(e[t])}}function vb(t,e){return t(e)}function _b(){}var Uf=!1;function wb(t,e,n){if(Uf)return t(e,n);Uf=!0;try{return vb(t,e,n)}finally{Uf=!1,(uo!==null||fo!==null)&&(_b(),yb())}}function sl(t,e){var n=t.stateNode;if(n===null)return null;var i=Ld(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var dp=!1;if(Li)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){dp=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{dp=!1}function zP(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Da=!1,Tu=null,ku=!1,fp=null,jP={onError:function(t){Da=!0,Tu=t}};function BP(t,e,n,i,r,s,o,a,l){Da=!1,Tu=null,zP.apply(jP,arguments)}function HP(t,e,n,i,r,s,o,a,l){if(BP.apply(this,arguments),Da){if(Da){var c=Tu;Da=!1,Tu=null}else throw Error(z(198));ku||(ku=!0,fp=c)}}function Ds(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function xb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xv(t){if(Ds(t)!==t)throw Error(z(188))}function WP(t){var e=t.alternate;if(!e){if(e=Ds(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return xv(r),t;if(s===i)return xv(r),e;s=s.sibling}throw Error(z(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==i)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function bb(t){return t=WP(t),t!==null?Sb(t):null}function Sb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sb(t);if(e!==null)return e;t=t.sibling}return null}var Eb=nn.unstable_scheduleCallback,bv=nn.unstable_cancelCallback,$P=nn.unstable_shouldYield,VP=nn.unstable_requestPaint,We=nn.unstable_now,UP=nn.unstable_getCurrentPriorityLevel,Zm=nn.unstable_ImmediatePriority,Cb=nn.unstable_UserBlockingPriority,Pu=nn.unstable_NormalPriority,YP=nn.unstable_LowPriority,Tb=nn.unstable_IdlePriority,Md=null,ai=null;function KP(t){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(Md,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:QP,GP=Math.log,qP=Math.LN2;function QP(t){return t>>>=0,t===0?32:31-(GP(t)/qP|0)|0}var Sc=64,Ec=4194304;function Ia(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Iu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Ia(a):(s&=o,s!==0&&(i=Ia(s)))}else o=n&~r,o!==0?i=Ia(o):s!==0&&(i=Ia(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Ln(e),r=1<<n,i|=t[n],e&=~r;return i}function XP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZP(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ln(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=XP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function hp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kb(){var t=Sc;return Sc<<=1,!(Sc&4194240)&&(Sc=64),t}function Yf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ul(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function JP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Ln(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Jm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ln(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var we=0;function Pb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ib,eg,Nb,Rb,Mb,pp=!1,Cc=[],vr=null,_r=null,wr=null,ol=new Map,al=new Map,or=[],eI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sv(t,e){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(e.pointerId)}}function ua(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Kl(e),e!==null&&eg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function tI(t,e,n,i,r){switch(e){case"focusin":return vr=ua(vr,t,e,n,i,r),!0;case"dragenter":return _r=ua(_r,t,e,n,i,r),!0;case"mouseover":return wr=ua(wr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return ol.set(s,ua(ol.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,al.set(s,ua(al.get(s)||null,t,e,n,i,r)),!0}return!1}function Ab(t){var e=ss(t.target);if(e!==null){var n=Ds(e);if(n!==null){if(e=n.tag,e===13){if(e=xb(n),e!==null){t.blockedOn=e,Mb(t.priority,function(){Nb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function au(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);cp=i,n.target.dispatchEvent(i),cp=null}else return e=Kl(n),e!==null&&eg(e),t.blockedOn=n,!1;e.shift()}return!0}function Ev(t,e,n){au(t)&&n.delete(e)}function nI(){pp=!1,vr!==null&&au(vr)&&(vr=null),_r!==null&&au(_r)&&(_r=null),wr!==null&&au(wr)&&(wr=null),ol.forEach(Ev),al.forEach(Ev)}function da(t,e){t.blockedOn===e&&(t.blockedOn=null,pp||(pp=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,nI)))}function ll(t){function e(r){return da(r,t)}if(0<Cc.length){da(Cc[0],t);for(var n=1;n<Cc.length;n++){var i=Cc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(vr!==null&&da(vr,t),_r!==null&&da(_r,t),wr!==null&&da(wr,t),ol.forEach(e),al.forEach(e),n=0;n<or.length;n++)i=or[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<or.length&&(n=or[0],n.blockedOn===null);)Ab(n),n.blockedOn===null&&or.shift()}var ho=Ui.ReactCurrentBatchConfig,Nu=!0;function iI(t,e,n,i){var r=we,s=ho.transition;ho.transition=null;try{we=1,tg(t,e,n,i)}finally{we=r,ho.transition=s}}function rI(t,e,n,i){var r=we,s=ho.transition;ho.transition=null;try{we=4,tg(t,e,n,i)}finally{we=r,ho.transition=s}}function tg(t,e,n,i){if(Nu){var r=mp(t,e,n,i);if(r===null)nh(t,e,i,Ru,n),Sv(t,i);else if(tI(r,t,e,n,i))i.stopPropagation();else if(Sv(t,i),e&4&&-1<eI.indexOf(t)){for(;r!==null;){var s=Kl(r);if(s!==null&&Ib(s),s=mp(t,e,n,i),s===null&&nh(t,e,i,Ru,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else nh(t,e,i,null,n)}}var Ru=null;function mp(t,e,n,i){if(Ru=null,t=Xm(i),t=ss(t),t!==null)if(e=Ds(t),e===null)t=null;else if(n=e.tag,n===13){if(t=xb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ru=t,null}function Ob(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UP()){case Zm:return 1;case Cb:return 4;case Pu:case YP:return 16;case Tb:return 536870912;default:return 16}default:return 16}}var hr=null,ng=null,lu=null;function Db(){if(lu)return lu;var t,e=ng,n=e.length,i,r="value"in hr?hr.value:hr.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return lu=r.slice(t,1<i?1-i:void 0)}function cu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tc(){return!0}function Cv(){return!1}function sn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tc:Cv,this.isPropagationStopped=Cv,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tc)},persist:function(){},isPersistent:Tc}),e}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ig=sn(Ko),Yl=Fe({},Ko,{view:0,detail:0}),sI=sn(Yl),Kf,Gf,fa,Ad=Fe({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fa&&(fa&&t.type==="mousemove"?(Kf=t.screenX-fa.screenX,Gf=t.screenY-fa.screenY):Gf=Kf=0,fa=t),Kf)},movementY:function(t){return"movementY"in t?t.movementY:Gf}}),Tv=sn(Ad),oI=Fe({},Ad,{dataTransfer:0}),aI=sn(oI),lI=Fe({},Yl,{relatedTarget:0}),qf=sn(lI),cI=Fe({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),uI=sn(cI),dI=Fe({},Ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fI=sn(dI),hI=Fe({},Ko,{data:0}),kv=sn(hI),pI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gI[t])?!!e[t]:!1}function rg(){return yI}var vI=Fe({},Yl,{key:function(t){if(t.key){var e=pI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rg,charCode:function(t){return t.type==="keypress"?cu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_I=sn(vI),wI=Fe({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pv=sn(wI),xI=Fe({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rg}),bI=sn(xI),SI=Fe({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),EI=sn(SI),CI=Fe({},Ad,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TI=sn(CI),kI=[9,13,27,32],sg=Li&&"CompositionEvent"in window,La=null;Li&&"documentMode"in document&&(La=document.documentMode);var PI=Li&&"TextEvent"in window&&!La,Lb=Li&&(!sg||La&&8<La&&11>=La),Iv=" ",Nv=!1;function Fb(t,e){switch(t){case"keyup":return kI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function II(t,e){switch(t){case"compositionend":return zb(e);case"keypress":return e.which!==32?null:(Nv=!0,Iv);case"textInput":return t=e.data,t===Iv&&Nv?null:t;default:return null}}function NI(t,e){if(Qs)return t==="compositionend"||!sg&&Fb(t,e)?(t=Db(),lu=ng=hr=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lb&&e.locale!=="ko"?null:e.data;default:return null}}var RI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RI[t.type]:e==="textarea"}function jb(t,e,n,i){gb(i),e=Mu(e,"onChange"),0<e.length&&(n=new ig("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Fa=null,cl=null;function MI(t){Qb(t,0)}function Od(t){var e=Js(t);if(cb(e))return t}function AI(t,e){if(t==="change")return e}var Bb=!1;if(Li){var Qf;if(Li){var Xf="oninput"in document;if(!Xf){var Mv=document.createElement("div");Mv.setAttribute("oninput","return;"),Xf=typeof Mv.oninput=="function"}Qf=Xf}else Qf=!1;Bb=Qf&&(!document.documentMode||9<document.documentMode)}function Av(){Fa&&(Fa.detachEvent("onpropertychange",Hb),cl=Fa=null)}function Hb(t){if(t.propertyName==="value"&&Od(cl)){var e=[];jb(e,cl,t,Xm(t)),wb(MI,e)}}function OI(t,e,n){t==="focusin"?(Av(),Fa=e,cl=n,Fa.attachEvent("onpropertychange",Hb)):t==="focusout"&&Av()}function DI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Od(cl)}function LI(t,e){if(t==="click")return Od(e)}function FI(t,e){if(t==="input"||t==="change")return Od(e)}function zI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bn=typeof Object.is=="function"?Object.is:zI;function ul(t,e){if(Bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Xh.call(e,r)||!Bn(t[r],e[r]))return!1}return!0}function Ov(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dv(t,e){var n=Ov(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ov(n)}}function Wb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $b(){for(var t=window,e=Cu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cu(t.document)}return e}function og(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jI(t){var e=$b(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Wb(n.ownerDocument.documentElement,n)){if(i!==null&&og(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Dv(n,s);var o=Dv(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BI=Li&&"documentMode"in document&&11>=document.documentMode,Xs=null,gp=null,za=null,yp=!1;function Lv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yp||Xs==null||Xs!==Cu(i)||(i=Xs,"selectionStart"in i&&og(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),za&&ul(za,i)||(za=i,i=Mu(gp,"onSelect"),0<i.length&&(e=new ig("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Xs)))}function kc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zs={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionend:kc("Transition","TransitionEnd")},Zf={},Vb={};Li&&(Vb=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function Dd(t){if(Zf[t])return Zf[t];if(!Zs[t])return t;var e=Zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Vb)return Zf[t]=e[n];return t}var Ub=Dd("animationend"),Yb=Dd("animationiteration"),Kb=Dd("animationstart"),Gb=Dd("transitionend"),qb=new Map,Fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(t,e){qb.set(t,e),Os(e,[t])}for(var Jf=0;Jf<Fv.length;Jf++){var eh=Fv[Jf],HI=eh.toLowerCase(),WI=eh[0].toUpperCase()+eh.slice(1);$r(HI,"on"+WI)}$r(Ub,"onAnimationEnd");$r(Yb,"onAnimationIteration");$r(Kb,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(Gb,"onTransitionEnd");No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$I=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function zv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,HP(i,e,void 0,t),t.currentTarget=null}function Qb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;zv(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;zv(r,a,c),s=l}}}if(ku)throw t=fp,ku=!1,fp=null,t}function Ne(t,e){var n=e[bp];n===void 0&&(n=e[bp]=new Set);var i=t+"__bubble";n.has(i)||(Xb(e,t,2,!1),n.add(i))}function th(t,e,n){var i=0;e&&(i|=4),Xb(n,t,i,e)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function dl(t){if(!t[Pc]){t[Pc]=!0,rb.forEach(function(n){n!=="selectionchange"&&($I.has(n)||th(n,!1,t),th(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pc]||(e[Pc]=!0,th("selectionchange",!1,e))}}function Xb(t,e,n,i){switch(Ob(e)){case 1:var r=iI;break;case 4:r=rI;break;default:r=tg}n=r.bind(null,e,n,t),r=void 0,!dp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function nh(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ss(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}wb(function(){var c=s,u=Xm(n),d=[];e:{var f=qb.get(t);if(f!==void 0){var h=ig,m=t;switch(t){case"keypress":if(cu(n)===0)break e;case"keydown":case"keyup":h=_I;break;case"focusin":m="focus",h=qf;break;case"focusout":m="blur",h=qf;break;case"beforeblur":case"afterblur":h=qf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=aI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=bI;break;case Ub:case Yb:case Kb:h=uI;break;case Gb:h=EI;break;case"scroll":h=sI;break;case"wheel":h=TI;break;case"copy":case"cut":case"paste":h=fI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Pv}var p=(e&4)!==0,y=!p&&t==="scroll",g=p?f!==null?f+"Capture":null:f;p=[];for(var v=c,_;v!==null;){_=v;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,g!==null&&(b=sl(v,g),b!=null&&p.push(fl(v,b,_)))),y)break;v=v.return}0<p.length&&(f=new h(f,m,null,n,u),d.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==cp&&(m=n.relatedTarget||n.fromElement)&&(ss(m)||m[Fi]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?ss(m):null,m!==null&&(y=Ds(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(p=Tv,b="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(p=Pv,b="onPointerLeave",g="onPointerEnter",v="pointer"),y=h==null?f:Js(h),_=m==null?f:Js(m),f=new p(b,v+"leave",h,n,u),f.target=y,f.relatedTarget=_,b=null,ss(u)===c&&(p=new p(g,v+"enter",m,n,u),p.target=_,p.relatedTarget=y,b=p),y=b,h&&m)t:{for(p=h,g=m,v=0,_=p;_;_=Us(_))v++;for(_=0,b=g;b;b=Us(b))_++;for(;0<v-_;)p=Us(p),v--;for(;0<_-v;)g=Us(g),_--;for(;v--;){if(p===g||g!==null&&p===g.alternate)break t;p=Us(p),g=Us(g)}p=null}else p=null;h!==null&&jv(d,f,h,p,!1),m!==null&&y!==null&&jv(d,y,m,p,!0)}}e:{if(f=c?Js(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=AI;else if(Rv(f))if(Bb)E=FI;else{E=DI;var T=OI}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=LI);if(E&&(E=E(t,c))){jb(d,E,n,u);break e}T&&T(t,f,c),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&rp(f,"number",f.value)}switch(T=c?Js(c):window,t){case"focusin":(Rv(T)||T.contentEditable==="true")&&(Xs=T,gp=c,za=null);break;case"focusout":za=gp=Xs=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,Lv(d,n,u);break;case"selectionchange":if(BI)break;case"keydown":case"keyup":Lv(d,n,u)}var k;if(sg)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Qs?Fb(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Lb&&n.locale!=="ko"&&(Qs||I!=="onCompositionStart"?I==="onCompositionEnd"&&Qs&&(k=Db()):(hr=u,ng="value"in hr?hr.value:hr.textContent,Qs=!0)),T=Mu(c,I),0<T.length&&(I=new kv(I,t,null,n,u),d.push({event:I,listeners:T}),k?I.data=k:(k=zb(n),k!==null&&(I.data=k)))),(k=PI?II(t,n):NI(t,n))&&(c=Mu(c,"onBeforeInput"),0<c.length&&(u=new kv("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}Qb(d,e)})}function fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=sl(t,n),s!=null&&i.unshift(fl(t,s,r)),s=sl(t,e),s!=null&&i.push(fl(t,s,r))),t=t.return}return i}function Us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jv(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=sl(n,s),l!=null&&o.unshift(fl(n,l,a))):r||(l=sl(n,s),l!=null&&o.push(fl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VI=/\r\n?/g,UI=/\u0000|\uFFFD/g;function Bv(t){return(typeof t=="string"?t:""+t).replace(VI,`
`).replace(UI,"")}function Ic(t,e,n){if(e=Bv(e),Bv(t)!==e&&n)throw Error(z(425))}function Au(){}var vp=null,_p=null;function wp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xp=typeof setTimeout=="function"?setTimeout:void 0,YI=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,KI=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(t){return Hv.resolve(null).then(t).catch(GI)}:xp;function GI(t){setTimeout(function(){throw t})}function ih(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),ll(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);ll(e)}function xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Go=Math.random().toString(36).slice(2),si="__reactFiber$"+Go,hl="__reactProps$"+Go,Fi="__reactContainer$"+Go,bp="__reactEvents$"+Go,qI="__reactListeners$"+Go,QI="__reactHandles$"+Go;function ss(t){var e=t[si];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fi]||n[si]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wv(t);t!==null;){if(n=t[si])return n;t=Wv(t)}return e}t=n,n=t.parentNode}return null}function Kl(t){return t=t[si]||t[Fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Ld(t){return t[hl]||null}var Sp=[],eo=-1;function Vr(t){return{current:t}}function Me(t){0>eo||(t.current=Sp[eo],Sp[eo]=null,eo--)}function ke(t,e){eo++,Sp[eo]=t.current,t.current=e}var Rr={},vt=Vr(Rr),Bt=Vr(!1),bs=Rr;function Ro(t,e){var n=t.type.contextTypes;if(!n)return Rr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ht(t){return t=t.childContextTypes,t!=null}function Ou(){Me(Bt),Me(vt)}function $v(t,e,n){if(vt.current!==Rr)throw Error(z(168));ke(vt,e),ke(Bt,n)}function Zb(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(z(108,OP(t)||"Unknown",r));return Fe({},n,i)}function Du(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rr,bs=vt.current,ke(vt,t),ke(Bt,Bt.current),!0}function Vv(t,e,n){var i=t.stateNode;if(!i)throw Error(z(169));n?(t=Zb(t,e,bs),i.__reactInternalMemoizedMergedChildContext=t,Me(Bt),Me(vt),ke(vt,t)):Me(Bt),ke(Bt,n)}var Ti=null,Fd=!1,rh=!1;function Jb(t){Ti===null?Ti=[t]:Ti.push(t)}function XI(t){Fd=!0,Jb(t)}function Ur(){if(!rh&&Ti!==null){rh=!0;var t=0,e=we;try{var n=Ti;for(we=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ti=null,Fd=!1}catch(r){throw Ti!==null&&(Ti=Ti.slice(t+1)),Eb(Zm,Ur),r}finally{we=e,rh=!1}}return null}var to=[],no=0,Lu=null,Fu=0,hn=[],pn=0,Ss=null,Ni=1,Ri="";function es(t,e){to[no++]=Fu,to[no++]=Lu,Lu=t,Fu=e}function e1(t,e,n){hn[pn++]=Ni,hn[pn++]=Ri,hn[pn++]=Ss,Ss=t;var i=Ni;t=Ri;var r=32-Ln(i)-1;i&=~(1<<r),n+=1;var s=32-Ln(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ni=1<<32-Ln(e)+r|n<<r|i,Ri=s+t}else Ni=1<<s|n<<r|i,Ri=t}function ag(t){t.return!==null&&(es(t,1),e1(t,1,0))}function lg(t){for(;t===Lu;)Lu=to[--no],to[no]=null,Fu=to[--no],to[no]=null;for(;t===Ss;)Ss=hn[--pn],hn[pn]=null,Ri=hn[--pn],hn[pn]=null,Ni=hn[--pn],hn[pn]=null}var Jt=null,Zt=null,Ae=!1,Rn=null;function t1(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Uv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jt=t,Zt=xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jt=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:Ni,overflow:Ri}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jt=t,Zt=null,!0):!1;default:return!1}}function Ep(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cp(t){if(Ae){var e=Zt;if(e){var n=e;if(!Uv(t,e)){if(Ep(t))throw Error(z(418));e=xr(n.nextSibling);var i=Jt;e&&Uv(t,e)?t1(i,n):(t.flags=t.flags&-4097|2,Ae=!1,Jt=t)}}else{if(Ep(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ae=!1,Jt=t}}}function Yv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function Nc(t){if(t!==Jt)return!1;if(!Ae)return Yv(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wp(t.type,t.memoizedProps)),e&&(e=Zt)){if(Ep(t))throw n1(),Error(z(418));for(;e;)t1(t,e),e=xr(e.nextSibling)}if(Yv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=xr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=Jt?xr(t.stateNode.nextSibling):null;return!0}function n1(){for(var t=Zt;t;)t=xr(t.nextSibling)}function Mo(){Zt=Jt=null,Ae=!1}function cg(t){Rn===null?Rn=[t]:Rn.push(t)}var ZI=Ui.ReactCurrentBatchConfig;function ha(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var i=n.stateNode}if(!i)throw Error(z(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Rc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kv(t){var e=t._init;return e(t._payload)}function i1(t){function e(g,v){if(t){var _=g.deletions;_===null?(g.deletions=[v],g.flags|=16):_.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function i(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function r(g,v){return g=Cr(g,v),g.index=0,g.sibling=null,g}function s(g,v,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<v?(g.flags|=2,v):_):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,_,b){return v===null||v.tag!==6?(v=dh(_,g.mode,b),v.return=g,v):(v=r(v,_),v.return=g,v)}function l(g,v,_,b){var E=_.type;return E===qs?u(g,v,_.props.children,b,_.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rr&&Kv(E)===v.type)?(b=r(v,_.props),b.ref=ha(g,v,_),b.return=g,b):(b=gu(_.type,_.key,_.props,null,g.mode,b),b.ref=ha(g,v,_),b.return=g,b)}function c(g,v,_,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=fh(_,g.mode,b),v.return=g,v):(v=r(v,_.children||[]),v.return=g,v)}function u(g,v,_,b,E){return v===null||v.tag!==7?(v=_s(_,g.mode,b,E),v.return=g,v):(v=r(v,_),v.return=g,v)}function d(g,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=dh(""+v,g.mode,_),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wc:return _=gu(v.type,v.key,v.props,null,g.mode,_),_.ref=ha(g,null,v),_.return=g,_;case Gs:return v=fh(v,g.mode,_),v.return=g,v;case rr:var b=v._init;return d(g,b(v._payload),_)}if(Pa(v)||la(v))return v=_s(v,g.mode,_,null),v.return=g,v;Rc(g,v)}return null}function f(g,v,_,b){var E=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:a(g,v,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wc:return _.key===E?l(g,v,_,b):null;case Gs:return _.key===E?c(g,v,_,b):null;case rr:return E=_._init,f(g,v,E(_._payload),b)}if(Pa(_)||la(_))return E!==null?null:u(g,v,_,b,null);Rc(g,_)}return null}function h(g,v,_,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(_)||null,a(v,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wc:return g=g.get(b.key===null?_:b.key)||null,l(v,g,b,E);case Gs:return g=g.get(b.key===null?_:b.key)||null,c(v,g,b,E);case rr:var T=b._init;return h(g,v,_,T(b._payload),E)}if(Pa(b)||la(b))return g=g.get(_)||null,u(v,g,b,E,null);Rc(v,b)}return null}function m(g,v,_,b){for(var E=null,T=null,k=v,I=v=0,R=null;k!==null&&I<_.length;I++){k.index>I?(R=k,k=null):R=k.sibling;var O=f(g,k,_[I],b);if(O===null){k===null&&(k=R);break}t&&k&&O.alternate===null&&e(g,k),v=s(O,v,I),T===null?E=O:T.sibling=O,T=O,k=R}if(I===_.length)return n(g,k),Ae&&es(g,I),E;if(k===null){for(;I<_.length;I++)k=d(g,_[I],b),k!==null&&(v=s(k,v,I),T===null?E=k:T.sibling=k,T=k);return Ae&&es(g,I),E}for(k=i(g,k);I<_.length;I++)R=h(k,g,I,_[I],b),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?I:R.key),v=s(R,v,I),T===null?E=R:T.sibling=R,T=R);return t&&k.forEach(function(j){return e(g,j)}),Ae&&es(g,I),E}function p(g,v,_,b){var E=la(_);if(typeof E!="function")throw Error(z(150));if(_=E.call(_),_==null)throw Error(z(151));for(var T=E=null,k=v,I=v=0,R=null,O=_.next();k!==null&&!O.done;I++,O=_.next()){k.index>I?(R=k,k=null):R=k.sibling;var j=f(g,k,O.value,b);if(j===null){k===null&&(k=R);break}t&&k&&j.alternate===null&&e(g,k),v=s(j,v,I),T===null?E=j:T.sibling=j,T=j,k=R}if(O.done)return n(g,k),Ae&&es(g,I),E;if(k===null){for(;!O.done;I++,O=_.next())O=d(g,O.value,b),O!==null&&(v=s(O,v,I),T===null?E=O:T.sibling=O,T=O);return Ae&&es(g,I),E}for(k=i(g,k);!O.done;I++,O=_.next())O=h(k,g,I,O.value,b),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?I:O.key),v=s(O,v,I),T===null?E=O:T.sibling=O,T=O);return t&&k.forEach(function(L){return e(g,L)}),Ae&&es(g,I),E}function y(g,v,_,b){if(typeof _=="object"&&_!==null&&_.type===qs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case wc:e:{for(var E=_.key,T=v;T!==null;){if(T.key===E){if(E=_.type,E===qs){if(T.tag===7){n(g,T.sibling),v=r(T,_.props.children),v.return=g,g=v;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rr&&Kv(E)===T.type){n(g,T.sibling),v=r(T,_.props),v.ref=ha(g,T,_),v.return=g,g=v;break e}n(g,T);break}else e(g,T);T=T.sibling}_.type===qs?(v=_s(_.props.children,g.mode,b,_.key),v.return=g,g=v):(b=gu(_.type,_.key,_.props,null,g.mode,b),b.ref=ha(g,v,_),b.return=g,g=b)}return o(g);case Gs:e:{for(T=_.key;v!==null;){if(v.key===T)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(g,v.sibling),v=r(v,_.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=fh(_,g.mode,b),v.return=g,g=v}return o(g);case rr:return T=_._init,y(g,v,T(_._payload),b)}if(Pa(_))return m(g,v,_,b);if(la(_))return p(g,v,_,b);Rc(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(g,v.sibling),v=r(v,_),v.return=g,g=v):(n(g,v),v=dh(_,g.mode,b),v.return=g,g=v),o(g)):n(g,v)}return y}var Ao=i1(!0),r1=i1(!1),zu=Vr(null),ju=null,io=null,ug=null;function dg(){ug=io=ju=null}function fg(t){var e=zu.current;Me(zu),t._currentValue=e}function Tp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function po(t,e){ju=t,ug=io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(ug!==t)if(t={context:t,memoizedValue:e,next:null},io===null){if(ju===null)throw Error(z(308));io=t,ju.dependencies={lanes:0,firstContext:t}}else io=io.next=t;return e}var os=null;function hg(t){os===null?os=[t]:os.push(t)}function s1(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,hg(e)):(n.next=r.next,r.next=n),e.interleaved=n,zi(t,i)}function zi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sr=!1;function pg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function br(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,me&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,zi(t,n)}return r=i.interleaved,r===null?(e.next=e,hg(i)):(e.next=r.next,r.next=e),i.interleaved=e,zi(t,n)}function uu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Jm(t,n)}}function Gv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bu(t,e,n,i){var r=t.updateQueue;sr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,p=a;switch(f=e,h=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=Fe({},d,f);break e;case 2:sr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Cs|=o,t.lanes=o,t.memoizedState=d}}function qv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(z(191,r));r.call(i)}}}var Gl={},li=Vr(Gl),pl=Vr(Gl),ml=Vr(Gl);function as(t){if(t===Gl)throw Error(z(174));return t}function mg(t,e){switch(ke(ml,e),ke(pl,t),ke(li,Gl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:op(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=op(e,t)}Me(li),ke(li,e)}function Oo(){Me(li),Me(pl),Me(ml)}function a1(t){as(ml.current);var e=as(li.current),n=op(e,t.type);e!==n&&(ke(pl,t),ke(li,n))}function gg(t){pl.current===t&&(Me(li),Me(pl))}var Oe=Vr(0);function Hu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sh=[];function yg(){for(var t=0;t<sh.length;t++)sh[t]._workInProgressVersionPrimary=null;sh.length=0}var du=Ui.ReactCurrentDispatcher,oh=Ui.ReactCurrentBatchConfig,Es=0,De=null,Ue=null,et=null,Wu=!1,ja=!1,gl=0,JI=0;function ut(){throw Error(z(321))}function vg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bn(t[n],e[n]))return!1;return!0}function _g(t,e,n,i,r,s){if(Es=s,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,du.current=t===null||t.memoizedState===null?iN:rN,t=n(i,r),ja){s=0;do{if(ja=!1,gl=0,25<=s)throw Error(z(301));s+=1,et=Ue=null,e.updateQueue=null,du.current=sN,t=n(i,r)}while(ja)}if(du.current=$u,e=Ue!==null&&Ue.next!==null,Es=0,et=Ue=De=null,Wu=!1,e)throw Error(z(300));return t}function wg(){var t=gl!==0;return gl=0,t}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?De.memoizedState=et=t:et=et.next=t,et}function wn(){if(Ue===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=et===null?De.memoizedState:et.next;if(e!==null)et=e,Ue=t;else{if(t===null)throw Error(z(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},et===null?De.memoizedState=et=t:et=et.next=t}return et}function yl(t,e){return typeof e=="function"?e(t):e}function ah(t){var e=wn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=Ue,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Es&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,De.lanes|=u,Cs|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Bn(i,e.memoizedState)||(zt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,De.lanes|=s,Cs|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lh(t){var e=wn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Bn(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function l1(){}function c1(t,e){var n=De,i=wn(),r=e(),s=!Bn(i.memoizedState,r);if(s&&(i.memoizedState=r,zt=!0),i=i.queue,xg(f1.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,vl(9,d1.bind(null,n,i,r,e),void 0,null),nt===null)throw Error(z(349));Es&30||u1(n,e,r)}return r}function u1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function d1(t,e,n,i){e.value=n,e.getSnapshot=i,h1(e)&&p1(t)}function f1(t,e,n){return n(function(){h1(e)&&p1(t)})}function h1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bn(t,n)}catch{return!0}}function p1(t){var e=zi(t,1);e!==null&&Fn(e,t,1,-1)}function Qv(t){var e=Zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:t},e.queue=t,t=t.dispatch=nN.bind(null,De,t),[e.memoizedState,t]}function vl(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function m1(){return wn().memoizedState}function fu(t,e,n,i){var r=Zn();De.flags|=t,r.memoizedState=vl(1|e,n,void 0,i===void 0?null:i)}function zd(t,e,n,i){var r=wn();i=i===void 0?null:i;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,i!==null&&vg(i,o.deps)){r.memoizedState=vl(e,n,s,i);return}}De.flags|=t,r.memoizedState=vl(1|e,n,s,i)}function Xv(t,e){return fu(8390656,8,t,e)}function xg(t,e){return zd(2048,8,t,e)}function g1(t,e){return zd(4,2,t,e)}function y1(t,e){return zd(4,4,t,e)}function v1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _1(t,e,n){return n=n!=null?n.concat([t]):null,zd(4,4,v1.bind(null,e,t),n)}function bg(){}function w1(t,e){var n=wn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&vg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function x1(t,e){var n=wn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&vg(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function b1(t,e,n){return Es&21?(Bn(n,e)||(n=kb(),De.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function eN(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var i=oh.transition;oh.transition={};try{t(!1),e()}finally{we=n,oh.transition=i}}function S1(){return wn().memoizedState}function tN(t,e,n){var i=Er(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},E1(t))C1(e,n);else if(n=s1(t,e,n,i),n!==null){var r=kt();Fn(n,t,i,r),T1(n,e,i)}}function nN(t,e,n){var i=Er(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(E1(t))C1(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Bn(a,o)){var l=e.interleaved;l===null?(r.next=r,hg(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=s1(t,e,r,i),n!==null&&(r=kt(),Fn(n,t,i,r),T1(n,e,i))}}function E1(t){var e=t.alternate;return t===De||e!==null&&e===De}function C1(t,e){ja=Wu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function T1(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Jm(t,n)}}var $u={readContext:_n,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},iN={readContext:_n,useCallback:function(t,e){return Zn().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:Xv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fu(4194308,4,v1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fu(4194308,4,t,e)},useInsertionEffect:function(t,e){return fu(4,2,t,e)},useMemo:function(t,e){var n=Zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Zn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=tN.bind(null,De,t),[i.memoizedState,t]},useRef:function(t){var e=Zn();return t={current:t},e.memoizedState=t},useState:Qv,useDebugValue:bg,useDeferredValue:function(t){return Zn().memoizedState=t},useTransition:function(){var t=Qv(!1),e=t[0];return t=eN.bind(null,t[1]),Zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=De,r=Zn();if(Ae){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),nt===null)throw Error(z(349));Es&30||u1(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Xv(f1.bind(null,i,s,t),[t]),i.flags|=2048,vl(9,d1.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Zn(),e=nt.identifierPrefix;if(Ae){var n=Ri,i=Ni;n=(i&~(1<<32-Ln(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=gl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rN={readContext:_n,useCallback:w1,useContext:_n,useEffect:xg,useImperativeHandle:_1,useInsertionEffect:g1,useLayoutEffect:y1,useMemo:x1,useReducer:ah,useRef:m1,useState:function(){return ah(yl)},useDebugValue:bg,useDeferredValue:function(t){var e=wn();return b1(e,Ue.memoizedState,t)},useTransition:function(){var t=ah(yl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:l1,useSyncExternalStore:c1,useId:S1,unstable_isNewReconciler:!1},sN={readContext:_n,useCallback:w1,useContext:_n,useEffect:xg,useImperativeHandle:_1,useInsertionEffect:g1,useLayoutEffect:y1,useMemo:x1,useReducer:lh,useRef:m1,useState:function(){return lh(yl)},useDebugValue:bg,useDeferredValue:function(t){var e=wn();return Ue===null?e.memoizedState=t:b1(e,Ue.memoizedState,t)},useTransition:function(){var t=lh(yl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:l1,useSyncExternalStore:c1,useId:S1,unstable_isNewReconciler:!1};function Tn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function kp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jd={isMounted:function(t){return(t=t._reactInternals)?Ds(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=kt(),r=Er(t),s=Ai(i,r);s.payload=e,n!=null&&(s.callback=n),e=br(t,s,r),e!==null&&(Fn(e,t,r,i),uu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=kt(),r=Er(t),s=Ai(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=br(t,s,r),e!==null&&(Fn(e,t,r,i),uu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),i=Er(t),r=Ai(n,i);r.tag=2,e!=null&&(r.callback=e),e=br(t,r,i),e!==null&&(Fn(e,t,i,n),uu(e,t,i))}};function Zv(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!ul(n,i)||!ul(r,s):!0}function k1(t,e,n){var i=!1,r=Rr,s=e.contextType;return typeof s=="object"&&s!==null?s=_n(s):(r=Ht(e)?bs:vt.current,i=e.contextTypes,s=(i=i!=null)?Ro(t,r):Rr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jd,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Jv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&jd.enqueueReplaceState(e,e.state,null)}function Pp(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},pg(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=_n(s):(s=Ht(e)?bs:vt.current,r.context=Ro(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kp(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&jd.enqueueReplaceState(r,r.state,null),Bu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Do(t,e){try{var n="",i=e;do n+=AP(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function ch(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ip(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var oN=typeof WeakMap=="function"?WeakMap:Map;function P1(t,e,n){n=Ai(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Uu||(Uu=!0,jp=i),Ip(t,e)},n}function I1(t,e,n){n=Ai(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Ip(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ip(t,e),typeof i!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function e_(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new oN;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=wN.bind(null,t,e,n),e.then(t,t))}function t_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n_(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ai(-1,1),e.tag=2,br(n,e,1))),n.lanes|=1),t)}var aN=Ui.ReactCurrentOwner,zt=!1;function St(t,e,n,i){e.child=t===null?r1(e,null,n,i):Ao(e,t.child,n,i)}function i_(t,e,n,i,r){n=n.render;var s=e.ref;return po(e,r),i=_g(t,e,n,i,s,r),n=wg(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ji(t,e,r)):(Ae&&n&&ag(e),e.flags|=1,St(t,e,i,r),e.child)}function r_(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Ng(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,N1(t,e,s,i,r)):(t=gu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ul,n(o,i)&&t.ref===e.ref)return ji(t,e,r)}return e.flags|=1,t=Cr(s,i),t.ref=e.ref,t.return=e,e.child=t}function N1(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(ul(s,i)&&t.ref===e.ref)if(zt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,ji(t,e,r)}return Np(t,e,n,i,r)}function R1(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(so,Qt),Qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(so,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ke(so,Qt),Qt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,ke(so,Qt),Qt|=i;return St(t,e,r,n),e.child}function M1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Np(t,e,n,i,r){var s=Ht(n)?bs:vt.current;return s=Ro(e,s),po(e,r),n=_g(t,e,n,i,s,r),i=wg(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ji(t,e,r)):(Ae&&i&&ag(e),e.flags|=1,St(t,e,n,r),e.child)}function s_(t,e,n,i,r){if(Ht(n)){var s=!0;Du(e)}else s=!1;if(po(e,r),e.stateNode===null)hu(t,e),k1(e,n,i),Pp(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=_n(c):(c=Ht(n)?bs:vt.current,c=Ro(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Jv(e,o,i,c),sr=!1;var f=e.memoizedState;o.state=f,Bu(e,i,o,r),l=e.memoizedState,a!==i||f!==l||Bt.current||sr?(typeof u=="function"&&(kp(e,n,u,i),l=e.memoizedState),(a=sr||Zv(e,n,a,i,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,o1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Tn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_n(l):(l=Ht(n)?bs:vt.current,l=Ro(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Jv(e,o,i,l),sr=!1,f=e.memoizedState,o.state=f,Bu(e,i,o,r);var m=e.memoizedState;a!==d||f!==m||Bt.current||sr?(typeof h=="function"&&(kp(e,n,h,i),m=e.memoizedState),(c=sr||Zv(e,n,c,i,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),o.props=i,o.state=m,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Rp(t,e,n,i,s,r)}function Rp(t,e,n,i,r,s){M1(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Vv(e,n,!1),ji(t,e,s);i=e.stateNode,aN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Ao(e,t.child,null,s),e.child=Ao(e,null,a,s)):St(t,e,a,s),e.memoizedState=i.state,r&&Vv(e,n,!0),e.child}function A1(t){var e=t.stateNode;e.pendingContext?$v(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$v(t,e.context,!1),mg(t,e.containerInfo)}function o_(t,e,n,i,r){return Mo(),cg(r),e.flags|=256,St(t,e,n,i),e.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function Ap(t){return{baseLanes:t,cachePool:null,transitions:null}}function O1(t,e,n){var i=e.pendingProps,r=Oe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ke(Oe,r&1),t===null)return Cp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wd(o,i,0,null),t=_s(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ap(n),e.memoizedState=Mp,t):Sg(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return lN(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Cr(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Cr(a,s):(s=_s(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Ap(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Mp,i}return s=t.child,t=s.sibling,i=Cr(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Sg(t,e){return e=Wd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mc(t,e,n,i){return i!==null&&cg(i),Ao(e,t.child,null,n),t=Sg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lN(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=ch(Error(z(422))),Mc(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Wd({mode:"visible",children:i.children},r,0,null),s=_s(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ao(e,t.child,null,o),e.child.memoizedState=Ap(o),e.memoizedState=Mp,s);if(!(e.mode&1))return Mc(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(z(419)),i=ch(s,i,void 0),Mc(t,e,o,i)}if(a=(o&t.childLanes)!==0,zt||a){if(i=nt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,zi(t,r),Fn(i,t,r,-1))}return Ig(),i=ch(Error(z(421))),Mc(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=xN.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Zt=xr(r.nextSibling),Jt=e,Ae=!0,Rn=null,t!==null&&(hn[pn++]=Ni,hn[pn++]=Ri,hn[pn++]=Ss,Ni=t.id,Ri=t.overflow,Ss=e),e=Sg(e,i.children),e.flags|=4096,e)}function a_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Tp(t.return,e,n)}function uh(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function D1(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(St(t,e,i.children,n),i=Oe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a_(t,n,e);else if(t.tag===19)a_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ke(Oe,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Hu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),uh(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Hu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}uh(e,!0,n,null,s);break;case"together":uh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ji(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cN(t,e,n){switch(e.tag){case 3:A1(e),Mo();break;case 5:a1(e);break;case 1:Ht(e.type)&&Du(e);break;case 4:mg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ke(zu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ke(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?O1(t,e,n):(ke(Oe,Oe.current&1),t=ji(t,e,n),t!==null?t.sibling:null);ke(Oe,Oe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return D1(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ke(Oe,Oe.current),i)break;return null;case 22:case 23:return e.lanes=0,R1(t,e,n)}return ji(t,e,n)}var L1,Op,F1,z1;L1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Op=function(){};F1=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,as(li.current);var s=null;switch(n){case"input":r=np(t,r),i=np(t,i),s=[];break;case"select":r=Fe({},r,{value:void 0}),i=Fe({},i,{value:void 0}),s=[];break;case"textarea":r=sp(t,r),i=sp(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Au)}ap(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(il.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(il.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};z1=function(t,e,n,i){n!==i&&(e.flags|=4)};function pa(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function uN(t,e,n){var i=e.pendingProps;switch(lg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(e),null;case 1:return Ht(e.type)&&Ou(),dt(e),null;case 3:return i=e.stateNode,Oo(),Me(Bt),Me(vt),yg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Nc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(Wp(Rn),Rn=null))),Op(t,e),dt(e),null;case 5:gg(e);var r=as(ml.current);if(n=e.type,t!==null&&e.stateNode!=null)F1(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(z(166));return dt(e),null}if(t=as(li.current),Nc(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[si]=e,i[hl]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(r=0;r<Na.length;r++)Ne(Na[r],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":gv(i,s),Ne("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",i);break;case"textarea":vv(i,s),Ne("invalid",i)}ap(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ic(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ic(i.textContent,a,t),r=["children",""+a]):il.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",i)}switch(n){case"input":xc(i),yv(i,s,!0);break;case"textarea":xc(i),_v(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Au)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[si]=e,t[hl]=i,L1(t,e,!1,!1),e.stateNode=t;e:{switch(o=lp(n,i),n){case"dialog":Ne("cancel",t),Ne("close",t),r=i;break;case"iframe":case"object":case"embed":Ne("load",t),r=i;break;case"video":case"audio":for(r=0;r<Na.length;r++)Ne(Na[r],t);r=i;break;case"source":Ne("error",t),r=i;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),r=i;break;case"details":Ne("toggle",t),r=i;break;case"input":gv(t,i),r=np(t,i),Ne("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Fe({},i,{value:void 0}),Ne("invalid",t);break;case"textarea":vv(t,i),r=sp(t,i),Ne("invalid",t);break;default:r=i}ap(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?mb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rl(t,l):typeof l=="number"&&rl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(il.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&Km(t,s,l,o))}switch(n){case"input":xc(t),yv(t,i,!1);break;case"textarea":xc(t),_v(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Nr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?co(t,!!i.multiple,s,!1):i.defaultValue!=null&&co(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Au)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dt(e),null;case 6:if(t&&e.stateNode!=null)z1(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(z(166));if(n=as(ml.current),as(li.current),Nc(e)){if(i=e.stateNode,n=e.memoizedProps,i[si]=e,(s=i.nodeValue!==n)&&(t=Jt,t!==null))switch(t.tag){case 3:Ic(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ic(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[si]=e,e.stateNode=i}return dt(e),null;case 13:if(Me(Oe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Zt!==null&&e.mode&1&&!(e.flags&128))n1(),Mo(),e.flags|=98560,s=!1;else if(s=Nc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[si]=e}else Mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),s=!1}else Rn!==null&&(Wp(Rn),Rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?Qe===0&&(Qe=3):Ig())),e.updateQueue!==null&&(e.flags|=4),dt(e),null);case 4:return Oo(),Op(t,e),t===null&&dl(e.stateNode.containerInfo),dt(e),null;case 10:return fg(e.type._context),dt(e),null;case 17:return Ht(e.type)&&Ou(),dt(e),null;case 19:if(Me(Oe),s=e.memoizedState,s===null)return dt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)pa(s,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hu(t),o!==null){for(e.flags|=128,pa(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Oe,Oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&We()>Lo&&(e.flags|=128,i=!0,pa(s,!1),e.lanes=4194304)}else{if(!i)if(t=Hu(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return dt(e),null}else 2*We()-s.renderingStartTime>Lo&&n!==1073741824&&(e.flags|=128,i=!0,pa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=We(),e.sibling=null,n=Oe.current,ke(Oe,i?n&1|2:n&1),e):(dt(e),null);case 22:case 23:return Pg(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Qt&1073741824&&(dt(e),e.subtreeFlags&6&&(e.flags|=8192)):dt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function dN(t,e){switch(lg(e),e.tag){case 1:return Ht(e.type)&&Ou(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oo(),Me(Bt),Me(vt),yg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gg(e),null;case 13:if(Me(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Oe),null;case 4:return Oo(),null;case 10:return fg(e.type._context),null;case 22:case 23:return Pg(),null;case 24:return null;default:return null}}var Ac=!1,pt=!1,fN=typeof WeakSet=="function"?WeakSet:Set,U=null;function ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Be(t,e,i)}else n.current=null}function Dp(t,e,n){try{n()}catch(i){Be(t,e,i)}}var l_=!1;function hN(t,e){if(vp=Nu,t=$b(),og(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===r&&(a=o),f===s&&++u===i&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_p={focusedElem:t,selectionRange:n},Nu=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,y=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?p:Tn(e.type,p),y);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(b){Be(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return m=l_,l_=!1,m}function Ba(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Dp(e,n,s)}r=r.next}while(r!==i)}}function Bd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Lp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function j1(t){var e=t.alternate;e!==null&&(t.alternate=null,j1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[si],delete e[hl],delete e[bp],delete e[qI],delete e[QI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function B1(t){return t.tag===5||t.tag===3||t.tag===4}function c_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Au));else if(i!==4&&(t=t.child,t!==null))for(Fp(t,e,n),t=t.sibling;t!==null;)Fp(t,e,n),t=t.sibling}function zp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(zp(t,e,n),t=t.sibling;t!==null;)zp(t,e,n),t=t.sibling}var st=null,Nn=!1;function Ji(t,e,n){for(n=n.child;n!==null;)H1(t,e,n),n=n.sibling}function H1(t,e,n){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(Md,n)}catch{}switch(n.tag){case 5:pt||ro(n,e);case 6:var i=st,r=Nn;st=null,Ji(t,e,n),st=i,Nn=r,st!==null&&(Nn?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(Nn?(t=st,n=n.stateNode,t.nodeType===8?ih(t.parentNode,n):t.nodeType===1&&ih(t,n),ll(t)):ih(st,n.stateNode));break;case 4:i=st,r=Nn,st=n.stateNode.containerInfo,Nn=!0,Ji(t,e,n),st=i,Nn=r;break;case 0:case 11:case 14:case 15:if(!pt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Dp(n,e,o),r=r.next}while(r!==i)}Ji(t,e,n);break;case 1:if(!pt&&(ro(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Be(n,e,a)}Ji(t,e,n);break;case 21:Ji(t,e,n);break;case 22:n.mode&1?(pt=(i=pt)||n.memoizedState!==null,Ji(t,e,n),pt=i):Ji(t,e,n);break;default:Ji(t,e,n)}}function u_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fN),e.forEach(function(i){var r=bN.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,Nn=!1;break e;case 3:st=a.stateNode.containerInfo,Nn=!0;break e;case 4:st=a.stateNode.containerInfo,Nn=!0;break e}a=a.return}if(st===null)throw Error(z(160));H1(s,o,r),st=null,Nn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Be(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)W1(e,t),e=e.sibling}function W1(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),qn(t),i&4){try{Ba(3,t,t.return),Bd(3,t)}catch(p){Be(t,t.return,p)}try{Ba(5,t,t.return)}catch(p){Be(t,t.return,p)}}break;case 1:En(e,t),qn(t),i&512&&n!==null&&ro(n,n.return);break;case 5:if(En(e,t),qn(t),i&512&&n!==null&&ro(n,n.return),t.flags&32){var r=t.stateNode;try{rl(r,"")}catch(p){Be(t,t.return,p)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ub(r,s),lp(a,o);var c=lp(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?mb(r,d):u==="dangerouslySetInnerHTML"?hb(r,d):u==="children"?rl(r,d):Km(r,u,d,c)}switch(a){case"input":ip(r,s);break;case"textarea":db(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?co(r,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?co(r,!!s.multiple,s.defaultValue,!0):co(r,!!s.multiple,s.multiple?[]:"",!1))}r[hl]=s}catch(p){Be(t,t.return,p)}}break;case 6:if(En(e,t),qn(t),i&4){if(t.stateNode===null)throw Error(z(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(p){Be(t,t.return,p)}}break;case 3:if(En(e,t),qn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ll(e.containerInfo)}catch(p){Be(t,t.return,p)}break;case 4:En(e,t),qn(t);break;case 13:En(e,t),qn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Tg=We())),i&4&&u_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(pt=(c=pt)||u,En(e,t),pt=c):En(e,t),qn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(U=t,u=t.child;u!==null;){for(d=U=u;U!==null;){switch(f=U,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ba(4,f,f.return);break;case 1:ro(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Be(i,n,p)}}break;case 5:ro(f,f.return);break;case 22:if(f.memoizedState!==null){f_(d);continue}}h!==null?(h.return=f,U=h):f_(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pb("display",o))}catch(p){Be(t,t.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){Be(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:En(e,t),qn(t),i&4&&u_(t);break;case 21:break;default:En(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(B1(n)){var i=n;break e}n=n.return}throw Error(z(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(rl(r,""),i.flags&=-33);var s=c_(t);zp(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=c_(t);Fp(t,a,o);break;default:throw Error(z(161))}}catch(l){Be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pN(t,e,n){U=t,$1(t)}function $1(t,e,n){for(var i=(t.mode&1)!==0;U!==null;){var r=U,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Ac;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||pt;a=Ac;var c=pt;if(Ac=o,(pt=l)&&!c)for(U=r;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?h_(r):l!==null?(l.return=o,U=l):h_(r);for(;s!==null;)U=s,$1(s),s=s.sibling;U=r,Ac=a,pt=c}d_(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,U=s):d_(t)}}function d_(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pt||Bd(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!pt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qv(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ll(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}pt||e.flags&512&&Lp(e)}catch(f){Be(e,e.return,f)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function f_(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function h_(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bd(4,e)}catch(l){Be(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Be(e,r,l)}}var s=e.return;try{Lp(e)}catch(l){Be(e,s,l)}break;case 5:var o=e.return;try{Lp(e)}catch(l){Be(e,o,l)}}}catch(l){Be(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var mN=Math.ceil,Vu=Ui.ReactCurrentDispatcher,Eg=Ui.ReactCurrentOwner,vn=Ui.ReactCurrentBatchConfig,me=0,nt=null,Ve=null,at=0,Qt=0,so=Vr(0),Qe=0,_l=null,Cs=0,Hd=0,Cg=0,Ha=null,Dt=null,Tg=0,Lo=1/0,Ei=null,Uu=!1,jp=null,Sr=null,Oc=!1,pr=null,Yu=0,Wa=0,Bp=null,pu=-1,mu=0;function kt(){return me&6?We():pu!==-1?pu:pu=We()}function Er(t){return t.mode&1?me&2&&at!==0?at&-at:ZI.transition!==null?(mu===0&&(mu=kb()),mu):(t=we,t!==0||(t=window.event,t=t===void 0?16:Ob(t.type)),t):1}function Fn(t,e,n,i){if(50<Wa)throw Wa=0,Bp=null,Error(z(185));Ul(t,n,i),(!(me&2)||t!==nt)&&(t===nt&&(!(me&2)&&(Hd|=n),Qe===4&&ar(t,at)),Wt(t,i),n===1&&me===0&&!(e.mode&1)&&(Lo=We()+500,Fd&&Ur()))}function Wt(t,e){var n=t.callbackNode;ZP(t,e);var i=Iu(t,t===nt?at:0);if(i===0)n!==null&&bv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&bv(n),e===1)t.tag===0?XI(p_.bind(null,t)):Jb(p_.bind(null,t)),KI(function(){!(me&6)&&Ur()}),n=null;else{switch(Pb(i)){case 1:n=Zm;break;case 4:n=Cb;break;case 16:n=Pu;break;case 536870912:n=Tb;break;default:n=Pu}n=X1(n,V1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function V1(t,e){if(pu=-1,mu=0,me&6)throw Error(z(327));var n=t.callbackNode;if(mo()&&t.callbackNode!==n)return null;var i=Iu(t,t===nt?at:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Ku(t,i);else{e=i;var r=me;me|=2;var s=Y1();(nt!==t||at!==e)&&(Ei=null,Lo=We()+500,vs(t,e));do try{vN();break}catch(a){U1(t,a)}while(!0);dg(),Vu.current=s,me=r,Ve!==null?e=0:(nt=null,at=0,e=Qe)}if(e!==0){if(e===2&&(r=hp(t),r!==0&&(i=r,e=Hp(t,r))),e===1)throw n=_l,vs(t,0),ar(t,i),Wt(t,We()),n;if(e===6)ar(t,i);else{if(r=t.current.alternate,!(i&30)&&!gN(r)&&(e=Ku(t,i),e===2&&(s=hp(t),s!==0&&(i=s,e=Hp(t,s))),e===1))throw n=_l,vs(t,0),ar(t,i),Wt(t,We()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(z(345));case 2:ts(t,Dt,Ei);break;case 3:if(ar(t,i),(i&130023424)===i&&(e=Tg+500-We(),10<e)){if(Iu(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){kt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=xp(ts.bind(null,t,Dt,Ei),e);break}ts(t,Dt,Ei);break;case 4:if(ar(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Ln(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=We()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*mN(i/1960))-i,10<i){t.timeoutHandle=xp(ts.bind(null,t,Dt,Ei),i);break}ts(t,Dt,Ei);break;case 5:ts(t,Dt,Ei);break;default:throw Error(z(329))}}}return Wt(t,We()),t.callbackNode===n?V1.bind(null,t):null}function Hp(t,e){var n=Ha;return t.current.memoizedState.isDehydrated&&(vs(t,e).flags|=256),t=Ku(t,e),t!==2&&(e=Dt,Dt=n,e!==null&&Wp(e)),t}function Wp(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function gN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Bn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ar(t,e){for(e&=~Cg,e&=~Hd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),i=1<<n;t[n]=-1,e&=~i}}function p_(t){if(me&6)throw Error(z(327));mo();var e=Iu(t,0);if(!(e&1))return Wt(t,We()),null;var n=Ku(t,e);if(t.tag!==0&&n===2){var i=hp(t);i!==0&&(e=i,n=Hp(t,i))}if(n===1)throw n=_l,vs(t,0),ar(t,e),Wt(t,We()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,Dt,Ei),Wt(t,We()),null}function kg(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(Lo=We()+500,Fd&&Ur())}}function Ts(t){pr!==null&&pr.tag===0&&!(me&6)&&mo();var e=me;me|=1;var n=vn.transition,i=we;try{if(vn.transition=null,we=1,t)return t()}finally{we=i,vn.transition=n,me=e,!(me&6)&&Ur()}}function Pg(){Qt=so.current,Me(so)}function vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YI(n)),Ve!==null)for(n=Ve.return;n!==null;){var i=n;switch(lg(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ou();break;case 3:Oo(),Me(Bt),Me(vt),yg();break;case 5:gg(i);break;case 4:Oo();break;case 13:Me(Oe);break;case 19:Me(Oe);break;case 10:fg(i.type._context);break;case 22:case 23:Pg()}n=n.return}if(nt=t,Ve=t=Cr(t.current,null),at=Qt=e,Qe=0,_l=null,Cg=Hd=Cs=0,Dt=Ha=null,os!==null){for(e=0;e<os.length;e++)if(n=os[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}os=null}return t}function U1(t,e){do{var n=Ve;try{if(dg(),du.current=$u,Wu){for(var i=De.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Wu=!1}if(Es=0,et=Ue=De=null,ja=!1,gl=0,Eg.current=null,n===null||n.return===null){Qe=1,_l=e,Ve=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=t_(o);if(h!==null){h.flags&=-257,n_(h,o,a,s,e),h.mode&1&&e_(s,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){e_(s,c,e),Ig();break e}l=Error(z(426))}}else if(Ae&&a.mode&1){var y=t_(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),n_(y,o,a,s,e),cg(Do(l,a));break e}}s=l=Do(l,a),Qe!==4&&(Qe=2),Ha===null?Ha=[s]:Ha.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=P1(s,l,e);Gv(s,g);break e;case 1:a=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Sr===null||!Sr.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=I1(s,a,e);Gv(s,b);break e}}s=s.return}while(s!==null)}G1(n)}catch(E){e=E,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function Y1(){var t=Vu.current;return Vu.current=$u,t===null?$u:t}function Ig(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),nt===null||!(Cs&268435455)&&!(Hd&268435455)||ar(nt,at)}function Ku(t,e){var n=me;me|=2;var i=Y1();(nt!==t||at!==e)&&(Ei=null,vs(t,e));do try{yN();break}catch(r){U1(t,r)}while(!0);if(dg(),me=n,Vu.current=i,Ve!==null)throw Error(z(261));return nt=null,at=0,Qe}function yN(){for(;Ve!==null;)K1(Ve)}function vN(){for(;Ve!==null&&!$P();)K1(Ve)}function K1(t){var e=Q1(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?G1(t):Ve=e,Eg.current=null}function G1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dN(n,e),n!==null){n.flags&=32767,Ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,Ve=null;return}}else if(n=uN(n,e,Qt),n!==null){Ve=n;return}if(e=e.sibling,e!==null){Ve=e;return}Ve=e=t}while(e!==null);Qe===0&&(Qe=5)}function ts(t,e,n){var i=we,r=vn.transition;try{vn.transition=null,we=1,_N(t,e,n,i)}finally{vn.transition=r,we=i}return null}function _N(t,e,n,i){do mo();while(pr!==null);if(me&6)throw Error(z(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(JP(t,s),t===nt&&(Ve=nt=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oc||(Oc=!0,X1(Pu,function(){return mo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=we;we=1;var a=me;me|=4,Eg.current=null,hN(t,n),W1(n,t),jI(_p),Nu=!!vp,_p=vp=null,t.current=n,pN(n),VP(),me=a,we=o,vn.transition=s}else t.current=n;if(Oc&&(Oc=!1,pr=t,Yu=r),s=t.pendingLanes,s===0&&(Sr=null),KP(n.stateNode),Wt(t,We()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Uu)throw Uu=!1,t=jp,jp=null,t;return Yu&1&&t.tag!==0&&mo(),s=t.pendingLanes,s&1?t===Bp?Wa++:(Wa=0,Bp=t):Wa=0,Ur(),null}function mo(){if(pr!==null){var t=Pb(Yu),e=vn.transition,n=we;try{if(vn.transition=null,we=16>t?16:t,pr===null)var i=!1;else{if(t=pr,pr=null,Yu=0,me&6)throw Error(z(331));var r=me;for(me|=4,U=t.current;U!==null;){var s=U,o=s.child;if(U.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var u=U;switch(u.tag){case 0:case 11:case 15:Ba(8,u,s)}var d=u.child;if(d!==null)d.return=u,U=d;else for(;U!==null;){u=U;var f=u.sibling,h=u.return;if(j1(u),u===c){U=null;break}if(f!==null){f.return=h,U=f;break}U=h}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}U=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,U=o;else e:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ba(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,U=g;break e}U=s.return}}var v=t.current;for(U=v;U!==null;){o=U;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,U=_;else e:for(o=v;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bd(9,a)}}catch(E){Be(a,a.return,E)}if(a===o){U=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,U=b;break e}U=a.return}}if(me=r,Ur(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(Md,t)}catch{}i=!0}return i}finally{we=n,vn.transition=e}}return!1}function m_(t,e,n){e=Do(n,e),e=P1(t,e,1),t=br(t,e,1),e=kt(),t!==null&&(Ul(t,1,e),Wt(t,e))}function Be(t,e,n){if(t.tag===3)m_(t,t,n);else for(;e!==null;){if(e.tag===3){m_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Sr===null||!Sr.has(i))){t=Do(n,t),t=I1(e,t,1),e=br(e,t,1),t=kt(),e!==null&&(Ul(e,1,t),Wt(e,t));break}}e=e.return}}function wN(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(at&n)===n&&(Qe===4||Qe===3&&(at&130023424)===at&&500>We()-Tg?vs(t,0):Cg|=n),Wt(t,e)}function q1(t,e){e===0&&(t.mode&1?(e=Ec,Ec<<=1,!(Ec&130023424)&&(Ec=4194304)):e=1);var n=kt();t=zi(t,e),t!==null&&(Ul(t,e,n),Wt(t,n))}function xN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),q1(t,n)}function bN(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(z(314))}i!==null&&i.delete(e),q1(t,n)}var Q1;Q1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,cN(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Ae&&e.flags&1048576&&e1(e,Fu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;hu(t,e),t=e.pendingProps;var r=Ro(e,vt.current);po(e,n),r=_g(null,e,i,t,r,n);var s=wg();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(i)?(s=!0,Du(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,pg(e),r.updater=jd,e.stateNode=r,r._reactInternals=e,Pp(e,i,t,n),e=Rp(null,e,i,!0,s,n)):(e.tag=0,Ae&&s&&ag(e),St(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(hu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=EN(i),t=Tn(i,t),r){case 0:e=Np(null,e,i,t,n);break e;case 1:e=s_(null,e,i,t,n);break e;case 11:e=i_(null,e,i,t,n);break e;case 14:e=r_(null,e,i,Tn(i.type,t),n);break e}throw Error(z(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tn(i,r),Np(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tn(i,r),s_(t,e,i,r,n);case 3:e:{if(A1(e),t===null)throw Error(z(387));i=e.pendingProps,s=e.memoizedState,r=s.element,o1(t,e),Bu(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Do(Error(z(423)),e),e=o_(t,e,i,n,r);break e}else if(i!==r){r=Do(Error(z(424)),e),e=o_(t,e,i,n,r);break e}else for(Zt=xr(e.stateNode.containerInfo.firstChild),Jt=e,Ae=!0,Rn=null,n=r1(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mo(),i===r){e=ji(t,e,n);break e}St(t,e,i,n)}e=e.child}return e;case 5:return a1(e),t===null&&Cp(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,wp(i,r)?o=null:s!==null&&wp(i,s)&&(e.flags|=32),M1(t,e),St(t,e,o,n),e.child;case 6:return t===null&&Cp(e),null;case 13:return O1(t,e,n);case 4:return mg(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ao(e,null,i,n):St(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tn(i,r),i_(t,e,i,r,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ke(zu,i._currentValue),i._currentValue=o,s!==null)if(Bn(s.value,o)){if(s.children===r.children&&!Bt.current){e=ji(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Ai(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Tp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}St(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,po(e,n),r=_n(r),i=i(r),e.flags|=1,St(t,e,i,n),e.child;case 14:return i=e.type,r=Tn(i,e.pendingProps),r=Tn(i.type,r),r_(t,e,i,r,n);case 15:return N1(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tn(i,r),hu(t,e),e.tag=1,Ht(i)?(t=!0,Du(e)):t=!1,po(e,n),k1(e,i,r),Pp(e,i,r,n),Rp(null,e,i,!0,t,n);case 19:return D1(t,e,n);case 22:return R1(t,e,n)}throw Error(z(156,e.tag))};function X1(t,e){return Eb(t,e)}function SN(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,i){return new SN(t,e,n,i)}function Ng(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EN(t){if(typeof t=="function")return Ng(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qm)return 11;if(t===Qm)return 14}return 2}function Cr(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gu(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Ng(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qs:return _s(n.children,r,s,e);case Gm:o=8,r|=8;break;case Zh:return t=mn(12,n,e,r|2),t.elementType=Zh,t.lanes=s,t;case Jh:return t=mn(13,n,e,r),t.elementType=Jh,t.lanes=s,t;case ep:return t=mn(19,n,e,r),t.elementType=ep,t.lanes=s,t;case ab:return Wd(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sb:o=10;break e;case ob:o=9;break e;case qm:o=11;break e;case Qm:o=14;break e;case rr:o=16,i=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=mn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function _s(t,e,n,i){return t=mn(7,t,i,e),t.lanes=n,t}function Wd(t,e,n,i){return t=mn(22,t,i,e),t.elementType=ab,t.lanes=n,t.stateNode={isHidden:!1},t}function dh(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function fh(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CN(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yf(0),this.expirationTimes=Yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yf(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Rg(t,e,n,i,r,s,o,a,l){return t=new CN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pg(s),t}function TN(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Z1(t){if(!t)return Rr;t=t._reactInternals;e:{if(Ds(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Ht(n))return Zb(t,n,e)}return e}function J1(t,e,n,i,r,s,o,a,l){return t=Rg(n,i,!0,t,r,s,o,a,l),t.context=Z1(null),n=t.current,i=kt(),r=Er(n),s=Ai(i,r),s.callback=e??null,br(n,s,r),t.current.lanes=r,Ul(t,r,i),Wt(t,i),t}function $d(t,e,n,i){var r=e.current,s=kt(),o=Er(r);return n=Z1(n),e.context===null?e.context=n:e.pendingContext=n,e=Ai(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=br(r,e,o),t!==null&&(Fn(t,r,o,s),uu(t,r,o)),o}function Gu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mg(t,e){g_(t,e),(t=t.alternate)&&g_(t,e)}function kN(){return null}var eS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ag(t){this._internalRoot=t}Vd.prototype.render=Ag.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));$d(t,e,null,null)};Vd.prototype.unmount=Ag.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ts(function(){$d(null,t,null,null)}),e[Fi]=null}};function Vd(t){this._internalRoot=t}Vd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Rb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<or.length&&e!==0&&e<or[n].priority;n++);or.splice(n,0,t),n===0&&Ab(t)}};function Og(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y_(){}function PN(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Gu(o);s.call(c)}}var o=J1(e,i,t,0,null,!1,!1,"",y_);return t._reactRootContainer=o,t[Fi]=o.current,dl(t.nodeType===8?t.parentNode:t),Ts(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Gu(l);a.call(c)}}var l=Rg(t,0,!1,null,null,!1,!1,"",y_);return t._reactRootContainer=l,t[Fi]=l.current,dl(t.nodeType===8?t.parentNode:t),Ts(function(){$d(e,l,n,i)}),l}function Yd(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Gu(o);a.call(l)}}$d(e,o,t,r)}else o=PN(n,e,t,r,i);return Gu(o)}Ib=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ia(e.pendingLanes);n!==0&&(Jm(e,n|1),Wt(e,We()),!(me&6)&&(Lo=We()+500,Ur()))}break;case 13:Ts(function(){var i=zi(t,1);if(i!==null){var r=kt();Fn(i,t,1,r)}}),Mg(t,1)}};eg=function(t){if(t.tag===13){var e=zi(t,134217728);if(e!==null){var n=kt();Fn(e,t,134217728,n)}Mg(t,134217728)}};Nb=function(t){if(t.tag===13){var e=Er(t),n=zi(t,e);if(n!==null){var i=kt();Fn(n,t,e,i)}Mg(t,e)}};Rb=function(){return we};Mb=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};up=function(t,e,n){switch(e){case"input":if(ip(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Ld(i);if(!r)throw Error(z(90));cb(i),ip(i,r)}}}break;case"textarea":db(t,n);break;case"select":e=n.value,e!=null&&co(t,!!n.multiple,e,!1)}};vb=kg;_b=Ts;var IN={usingClientEntryPoint:!1,Events:[Kl,Js,Ld,gb,yb,kg]},ma={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NN={bundleType:ma.bundleType,version:ma.version,rendererPackageName:ma.rendererPackageName,rendererConfig:ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bb(t),t===null?null:t.stateNode},findFiberByHostInstance:ma.findFiberByHostInstance||kN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Md=Dc.inject(NN),ai=Dc}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IN;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Og(e))throw Error(z(200));return TN(t,e,null,n)};rn.createRoot=function(t,e){if(!Og(t))throw Error(z(299));var n=!1,i="",r=eS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Rg(t,1,!1,null,null,n,!1,i,r),t[Fi]=e.current,dl(t.nodeType===8?t.parentNode:t),new Ag(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=bb(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return Ts(t)};rn.hydrate=function(t,e,n){if(!Ud(e))throw Error(z(200));return Yd(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!Og(t))throw Error(z(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=eS;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=J1(e,null,t,1,n??null,r,!1,s,o),t[Fi]=e.current,dl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Vd(e)};rn.render=function(t,e,n){if(!Ud(e))throw Error(z(200));return Yd(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!Ud(t))throw Error(z(40));return t._reactRootContainer?(Ts(function(){Yd(null,null,t,!1,function(){t._reactRootContainer=null,t[Fi]=null})}),!0):!1};rn.unstable_batchedUpdates=kg;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Ud(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Yd(t,e,n,!1,i)};rn.version="18.3.1-next-f1338f8080-20240426";function tS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tS)}catch(t){console.error(t)}}tS(),tb.exports=rn;var ql=tb.exports;const nS=Bm(ql);var iS,v_=ql;iS=v_.createRoot,v_.hydrateRoot;const RN=1,MN=1e6;let hh=0;function AN(){return hh=(hh+1)%Number.MAX_SAFE_INTEGER,hh.toString()}const ph=new Map,__=t=>{if(ph.has(t))return;const e=setTimeout(()=>{ph.delete(t),$a({type:"REMOVE_TOAST",toastId:t})},MN);ph.set(t,e)},ON=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,RN)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?__(n):t.toasts.forEach(i=>{__(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},yu=[];let vu={toasts:[]};function $a(t){vu=ON(vu,t),yu.forEach(e=>{e(vu)})}function DN({...t}){const e=AN(),n=r=>$a({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>$a({type:"DISMISS_TOAST",toastId:e});return $a({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:n}}function LN(){const[t,e]=S.useState(vu);return S.useEffect(()=>(yu.push(e),()=>{const n=yu.indexOf(e);n>-1&&yu.splice(n,1)}),[t]),{...t,toast:DN,dismiss:n=>$a({type:"DISMISS_TOAST",toastId:n})}}function Ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function w_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rS(...t){return e=>{let n=!1;const i=t.map(r=>{const s=w_(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():w_(t[r],null)}}}}function Hn(...t){return S.useCallback(rS(...t),t)}function Kd(t,e=[]){let n=[];function i(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];const c=d=>{var g;const{scope:f,children:h,...m}=d,p=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,y=S.useMemo(()=>m,Object.values(m));return P.jsx(p.Provider,{value:y,children:h})};c.displayName=s+"Provider";function u(d,f){var p;const h=((p=f==null?void 0:f[t])==null?void 0:p[l])||a,m=S.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const r=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return r.scopeName=t,[i,FN(r,...e)]}function FN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function qu(t){const e=jN(t),n=S.forwardRef((i,r)=>{const{children:s,...o}=i,a=S.Children.toArray(s),l=a.find(HN);if(l){const c=l.props.children,u=a.map(d=>d===l?S.Children.count(c)>1?S.Children.only(null):S.isValidElement(c)?c.props.children:null:d);return P.jsx(e,{...o,ref:r,children:S.isValidElement(c)?S.cloneElement(c,void 0,u):null})}return P.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}var zN=qu("Slot");function jN(t){const e=S.forwardRef((n,i)=>{const{children:r,...s}=n;if(S.isValidElement(r)){const o=$N(r),a=WN(s,r.props);return r.type!==S.Fragment&&(a.ref=i?rS(i,o):o),S.cloneElement(r,a)}return S.Children.count(r)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var sS=Symbol("radix.slottable");function BN(t){const e=({children:n})=>P.jsx(P.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=sS,e}function HN(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===sS}function WN(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function $N(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function VN(t){const e=t+"CollectionProvider",[n,i]=Kd(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:g}=p,v=H.useRef(null),_=H.useRef(new Map).current;return P.jsx(r,{scope:y,itemMap:_,collectionRef:v,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=qu(a),c=H.forwardRef((p,y)=>{const{scope:g,children:v}=p,_=s(a,g),b=Hn(y,_.collectionRef);return P.jsx(l,{ref:b,children:v})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=qu(u),h=H.forwardRef((p,y)=>{const{scope:g,children:v,..._}=p,b=H.useRef(null),E=Hn(y,b),T=s(u,g);return H.useEffect(()=>(T.itemMap.set(b,{ref:b,..._}),()=>void T.itemMap.delete(b))),P.jsx(f,{[d]:"",ref:E,children:v})});h.displayName=u;function m(p){const y=s(t+"CollectionConsumer",p);return H.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const _=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((T,k)=>_.indexOf(T.ref.current)-_.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},m,i]}var UN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ut=UN.reduce((t,e)=>{const n=qu(`Primitive.${e}`),i=S.forwardRef((r,s)=>{const{asChild:o,...a}=r,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(l,{...a,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function oS(t,e){t&&ql.flushSync(()=>t.dispatchEvent(e))}function Mr(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function YN(t,e=globalThis==null?void 0:globalThis.document){const n=Mr(t);S.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var KN="DismissableLayer",$p="dismissableLayer.update",GN="dismissableLayer.pointerDownOutside",qN="dismissableLayer.focusOutside",x_,aS=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dg=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=S.useContext(aS),[u,d]=S.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=S.useState({}),m=Hn(e,k=>d(k)),p=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=p.indexOf(y),v=u?p.indexOf(u):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,b=v>=g,E=XN(k=>{const I=k.target,R=[...c.branches].some(O=>O.contains(I));!b||R||(r==null||r(k),o==null||o(k),k.defaultPrevented||a==null||a())},f),T=ZN(k=>{const I=k.target;[...c.branches].some(O=>O.contains(I))||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},f);return YN(k=>{v===c.layers.size-1&&(i==null||i(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},f),S.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(x_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),b_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=x_)}},[u,f,n,c]),S.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),b_())},[u,c]),S.useEffect(()=>{const k=()=>h({});return document.addEventListener($p,k),()=>document.removeEventListener($p,k)},[]),P.jsx(Ut.div,{...l,ref:m,style:{pointerEvents:_?b?"auto":"none":void 0,...t.style},onFocusCapture:Ye(t.onFocusCapture,T.onFocusCapture),onBlurCapture:Ye(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ye(t.onPointerDownCapture,E.onPointerDownCapture)})});Dg.displayName=KN;var QN="DismissableLayerBranch",lS=S.forwardRef((t,e)=>{const n=S.useContext(aS),i=S.useRef(null),r=Hn(e,i);return S.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),P.jsx(Ut.div,{...t,ref:r})});lS.displayName=QN;function XN(t,e=globalThis==null?void 0:globalThis.document){const n=Mr(t),i=S.useRef(!1),r=S.useRef(()=>{});return S.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){cS(GN,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function ZN(t,e=globalThis==null?void 0:globalThis.document){const n=Mr(t),i=S.useRef(!1);return S.useEffect(()=>{const r=s=>{s.target&&!i.current&&cS(qN,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function b_(){const t=new CustomEvent($p);document.dispatchEvent(t)}function cS(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?oS(r,s):r.dispatchEvent(s)}var JN=Dg,eR=lS,Ar=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},tR="Portal",uS=S.forwardRef((t,e)=>{var a;const{container:n,...i}=t,[r,s]=S.useState(!1);Ar(()=>s(!0),[]);const o=n||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?nS.createPortal(P.jsx(Ut.div,{...i,ref:e}),o):null});uS.displayName=tR;function nR(t,e){return S.useReducer((n,i)=>e[n][i]??n,t)}var Lg=t=>{const{present:e,children:n}=t,i=iR(e),r=typeof n=="function"?n({present:i.isPresent}):S.Children.only(n),s=Hn(i.ref,rR(r));return typeof n=="function"||i.isPresent?S.cloneElement(r,{ref:s}):null};Lg.displayName="Presence";function iR(t){const[e,n]=S.useState(),i=S.useRef(null),r=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[a,l]=nR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=Lc(i.current);s.current=a==="mounted"?c:"none"},[a]),Ar(()=>{const c=i.current,u=r.current;if(u!==t){const f=s.current,h=Lc(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,l]),Ar(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=h=>{const p=Lc(i.current).includes(h.animationName);if(h.target===e&&p&&(l("ANIMATION_END"),!r.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=h=>{h.target===e&&(s.current=Lc(i.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(c=>{i.current=c?getComputedStyle(c):null,n(c)},[])}}function Lc(t){return(t==null?void 0:t.animationName)||"none"}function rR(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sR=Jx[" useInsertionEffect ".trim().toString()]||Ar;function oR({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,o]=aR({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:r;{const u=S.useRef(t!==void 0);S.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${i} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,i])}const c=S.useCallback(u=>{var d;if(a){const f=lR(u)?u(t):u;f!==t&&((d=o.current)==null||d.call(o,f))}else s(u)},[a,t,s,o]);return[l,c]}function aR({defaultProp:t,onChange:e}){const[n,i]=S.useState(t),r=S.useRef(n),s=S.useRef(e);return sR(()=>{s.current=e},[e]),S.useEffect(()=>{var o;r.current!==n&&((o=s.current)==null||o.call(s,n),r.current=n)},[n,r]),[n,i,s]}function lR(t){return typeof t=="function"}var cR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uR="VisuallyHidden",Gd=S.forwardRef((t,e)=>P.jsx(Ut.span,{...t,ref:e,style:{...cR,...t.style}}));Gd.displayName=uR;var dR=Gd,Fg="ToastProvider",[zg,fR,hR]=VN("Toast"),[dS,nW]=Kd("Toast",[hR]),[pR,qd]=dS(Fg),fS=t=>{const{__scopeToast:e,label:n="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:o}=t,[a,l]=S.useState(null),[c,u]=S.useState(0),d=S.useRef(!1),f=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Fg}\`. Expected non-empty \`string\`.`),P.jsx(zg.Provider,{scope:e,children:P.jsx(pR,{scope:e,label:n,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:S.useCallback(()=>u(h=>h+1),[]),onToastRemove:S.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};fS.displayName=Fg;var hS="ToastViewport",mR=["F8"],Vp="toast.viewportPause",Up="toast.viewportResume",pS=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:i=mR,label:r="Notifications ({hotkey})",...s}=t,o=qd(hS,n),a=fR(n),l=S.useRef(null),c=S.useRef(null),u=S.useRef(null),d=S.useRef(null),f=Hn(e,d,o.onViewportChange),h=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;S.useEffect(()=>{const y=g=>{var _;i.length!==0&&i.every(b=>g[b]||g.code===b)&&((_=d.current)==null||_.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[i]),S.useEffect(()=>{const y=l.current,g=d.current;if(m&&y&&g){const v=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(Vp);g.dispatchEvent(T),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(Up);g.dispatchEvent(T),o.isClosePausedRef.current=!1}},b=T=>{!y.contains(T.relatedTarget)&&_()},E=()=>{y.contains(document.activeElement)||_()};return y.addEventListener("focusin",v),y.addEventListener("focusout",b),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",_),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",b),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",_)}}},[m,o.isClosePausedRef]);const p=S.useCallback(({tabbingDirection:y})=>{const v=a().map(_=>{const b=_.ref.current,E=[b,...PR(b)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?v.reverse():v).flat()},[a]);return S.useEffect(()=>{const y=d.current;if(y){const g=v=>{var E,T,k;const _=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!_){const I=document.activeElement,R=v.shiftKey;if(v.target===y&&R){(E=c.current)==null||E.focus();return}const L=p({tabbingDirection:R?"backwards":"forwards"}),Q=L.findIndex(B=>B===I);mh(L.slice(Q+1))?v.preventDefault():R?(T=c.current)==null||T.focus():(k=u.current)==null||k.focus()}};return y.addEventListener("keydown",g),()=>y.removeEventListener("keydown",g)}},[a,p]),P.jsxs(eR,{ref:l,role:"region","aria-label":r.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&P.jsx(Yp,{ref:c,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"forwards"});mh(y)}}),P.jsx(zg.Slot,{scope:n,children:P.jsx(Ut.ol,{tabIndex:-1,...s,ref:f})}),m&&P.jsx(Yp,{ref:u,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"backwards"});mh(y)}})]})});pS.displayName=hS;var mS="ToastFocusProxy",Yp=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...r}=t,s=qd(mS,n);return P.jsx(Gd,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&i()}})});Yp.displayName=mS;var Ql="Toast",gR="toast.swipeStart",yR="toast.swipeMove",vR="toast.swipeCancel",_R="toast.swipeEnd",gS=S.forwardRef((t,e)=>{const{forceMount:n,open:i,defaultOpen:r,onOpenChange:s,...o}=t,[a,l]=oR({prop:i,defaultProp:r??!0,onChange:s,caller:Ql});return P.jsx(Lg,{present:n||a,children:P.jsx(bR,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Mr(t.onPause),onResume:Mr(t.onResume),onSwipeStart:Ye(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ye(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ye(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ye(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});gS.displayName=Ql;var[wR,xR]=dS(Ql,{onClose(){}}),bR=S.forwardRef((t,e)=>{const{__scopeToast:n,type:i="foreground",duration:r,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...m}=t,p=qd(Ql,n),[y,g]=S.useState(null),v=Hn(e,B=>g(B)),_=S.useRef(null),b=S.useRef(null),E=r||p.duration,T=S.useRef(0),k=S.useRef(E),I=S.useRef(0),{onToastAdd:R,onToastRemove:O}=p,j=Mr(()=>{var G;(y==null?void 0:y.contains(document.activeElement))&&((G=p.viewport)==null||G.focus()),o()}),L=S.useCallback(B=>{!B||B===1/0||(window.clearTimeout(I.current),T.current=new Date().getTime(),I.current=window.setTimeout(j,B))},[j]);S.useEffect(()=>{const B=p.viewport;if(B){const G=()=>{L(k.current),c==null||c()},Y=()=>{const q=new Date().getTime()-T.current;k.current=k.current-q,window.clearTimeout(I.current),l==null||l()};return B.addEventListener(Vp,Y),B.addEventListener(Up,G),()=>{B.removeEventListener(Vp,Y),B.removeEventListener(Up,G)}}},[p.viewport,E,l,c,L]),S.useEffect(()=>{s&&!p.isClosePausedRef.current&&L(E)},[s,E,p.isClosePausedRef,L]),S.useEffect(()=>(R(),()=>O()),[R,O]);const Q=S.useMemo(()=>y?SS(y):null,[y]);return p.viewport?P.jsxs(P.Fragment,{children:[Q&&P.jsx(SR,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:Q}),P.jsx(wR,{scope:n,onClose:j,children:ql.createPortal(P.jsx(zg.ItemSlot,{scope:n,children:P.jsx(JN,{asChild:!0,onEscapeKeyDown:Ye(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||j(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:P.jsx(Ut.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":p.swipeDirection,...m,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ye(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:Ye(t.onPointerDown,B=>{B.button===0&&(_.current={x:B.clientX,y:B.clientY})}),onPointerMove:Ye(t.onPointerMove,B=>{if(!_.current)return;const G=B.clientX-_.current.x,Y=B.clientY-_.current.y,q=!!b.current,M=["left","right"].includes(p.swipeDirection),D=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,$=M?D(0,G):0,X=M?0:D(0,Y),K=B.pointerType==="touch"?10:2,ne={x:$,y:X},J={originalEvent:B,delta:ne};q?(b.current=ne,Fc(yR,d,J,{discrete:!1})):S_(ne,p.swipeDirection,K)?(b.current=ne,Fc(gR,u,J,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(G)>K||Math.abs(Y)>K)&&(_.current=null)}),onPointerUp:Ye(t.onPointerUp,B=>{const G=b.current,Y=B.target;if(Y.hasPointerCapture(B.pointerId)&&Y.releasePointerCapture(B.pointerId),b.current=null,_.current=null,G){const q=B.currentTarget,M={originalEvent:B,delta:G};S_(G,p.swipeDirection,p.swipeThreshold)?Fc(_R,h,M,{discrete:!0}):Fc(vR,f,M,{discrete:!0}),q.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),SR=t=>{const{__scopeToast:e,children:n,...i}=t,r=qd(Ql,e),[s,o]=S.useState(!1),[a,l]=S.useState(!1);return TR(()=>o(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:P.jsx(uS,{asChild:!0,children:P.jsx(Gd,{...i,children:s&&P.jsxs(P.Fragment,{children:[r.label," ",n]})})})},ER="ToastTitle",yS=S.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return P.jsx(Ut.div,{...i,ref:e})});yS.displayName=ER;var CR="ToastDescription",vS=S.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return P.jsx(Ut.div,{...i,ref:e})});vS.displayName=CR;var _S="ToastAction",wS=S.forwardRef((t,e)=>{const{altText:n,...i}=t;return n.trim()?P.jsx(bS,{altText:n,asChild:!0,children:P.jsx(jg,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${_S}\`. Expected non-empty \`string\`.`),null)});wS.displayName=_S;var xS="ToastClose",jg=S.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t,r=xR(xS,n);return P.jsx(bS,{asChild:!0,children:P.jsx(Ut.button,{type:"button",...i,ref:e,onClick:Ye(t.onClick,r.onClose)})})});jg.displayName=xS;var bS=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:i,...r}=t;return P.jsx(Ut.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function SS(t){const e=[];return Array.from(t.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),kR(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...SS(i))}}),e}function Fc(t,e,n,{discrete:i}){const r=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?oS(r,s):r.dispatchEvent(s)}var S_=(t,e,n=0)=>{const i=Math.abs(t.x),r=Math.abs(t.y),s=i>r;return e==="left"||e==="right"?s&&i>n:!s&&r>n};function TR(t=()=>{}){const e=Mr(t);Ar(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[e])}function kR(t){return t.nodeType===t.ELEMENT_NODE}function PR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var IR=fS,ES=pS,CS=gS,TS=yS,kS=vS,PS=wS,IS=jg;function NS(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=NS(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function RS(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=NS(t))&&(i&&(i+=" "),i+=e);return i}const E_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,C_=RS,MS=(t,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return C_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const f=E_(u)||E_(d);return r[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(m=>{let[p,y]=m;return Array.isArray(y)?y.includes({...s,...a}[p]):{...s,...a}[p]===y})?[...c,d,f]:c},[]);return C_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AS=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>S.createElement("svg",{ref:l,...RR,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:AS("lucide",r),...a},[...o.map(([c,u])=>S.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=(t,e)=>{const n=S.forwardRef(({className:i,...r},s)=>S.createElement(MR,{ref:s,iconNode:e,className:AS(`lucide-${NR(t)}`,i),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=on("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=on("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=on("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=on("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=on("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=on("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=on("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=on("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=on("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=on("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=on("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=on("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=on("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Bg="-",UR=t=>{const e=KR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:o=>{const a=o.split(Bg);return a[0]===""&&a.length!==1&&a.shift(),OS(a,e)||YR(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},OS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?OS(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(Bg);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},k_=/^\[(.+)\]$/,YR=t=>{if(k_.test(t)){const e=k_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},KR=t=>{const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return qR(Object.entries(t.classGroups),n).forEach(([s,o])=>{Kp(o,i,s,e)}),i},Kp=(t,e,n,i)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:P_(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(GR(r)){Kp(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,o])=>{Kp(o,P_(e,s),n,i)})})},P_=(t,e)=>{let n=t;return e.split(Bg).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},GR=t=>t.isThemeGetter,qR=(t,e)=>e?t.map(([n,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,r]}):t,QR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const r=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,i=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){n.has(s)?n.set(s,o):r(s,o)}}},DS="!",XR=t=>{const{separator:e,experimentalParseClassName:n}=t,i=e.length===1,r=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let y=0;y<a.length;y++){let g=a[y];if(c===0){if(g===r&&(i||a.slice(y,y+s)===e)){l.push(a.slice(u,y)),u=y+s;continue}if(g==="/"){d=y;continue}}g==="["?c++:g==="]"&&c--}const f=l.length===0?a:a.substring(u),h=f.startsWith(DS),m=h?f.substring(1):f,p=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:o}):o},ZR=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e},JR=t=>({cache:QR(t.cacheSize),parseClassName:XR(t),...UR(t)}),eM=/\s+/,tM=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=t.trim().split(eM);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(c);let m=!!h,p=i(m?f.substring(0,h):f);if(!p){if(!m){a=c+(a.length>0?" "+a:a);continue}if(p=i(f),!p){a=c+(a.length>0?" "+a:a);continue}m=!1}const y=ZR(u).join(":"),g=d?y+DS:y,v=g+p;if(s.includes(v))continue;s.push(v);const _=r(p,m);for(let b=0;b<_.length;++b){const E=_[b];s.push(g+E)}a=c+(a.length>0?" "+a:a)}return a};function nM(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=LS(e))&&(i&&(i+=" "),i+=n);return i}const LS=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=LS(t[i]))&&(n&&(n+=" "),n+=e);return n};function iM(t,...e){let n,i,r,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=JR(c),i=n.cache.get,r=n.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const u=tM(l,n);return r(l,u),u}return function(){return s(nM.apply(null,arguments))}}const Ie=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},FS=/^\[(?:([a-z-]+):)?(.+)\]$/i,rM=/^\d+\/\d+$/,sM=new Set(["px","full","screen"]),oM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_i=t=>go(t)||sM.has(t)||rM.test(t),er=t=>qo(t,"length",vM),go=t=>!!t&&!Number.isNaN(Number(t)),gh=t=>qo(t,"number",go),ga=t=>!!t&&Number.isInteger(Number(t)),dM=t=>t.endsWith("%")&&go(t.slice(0,-1)),se=t=>FS.test(t),tr=t=>oM.test(t),fM=new Set(["length","size","percentage"]),hM=t=>qo(t,fM,zS),pM=t=>qo(t,"position",zS),mM=new Set(["image","url"]),gM=t=>qo(t,mM,wM),yM=t=>qo(t,"",_M),ya=()=>!0,qo=(t,e,n)=>{const i=FS.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1},vM=t=>aM.test(t)&&!lM.test(t),zS=()=>!1,_M=t=>cM.test(t),wM=t=>uM.test(t),xM=()=>{const t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),i=Ie("brightness"),r=Ie("borderColor"),s=Ie("borderRadius"),o=Ie("borderSpacing"),a=Ie("borderWidth"),l=Ie("contrast"),c=Ie("grayscale"),u=Ie("hueRotate"),d=Ie("invert"),f=Ie("gap"),h=Ie("gradientColorStops"),m=Ie("gradientColorStopPositions"),p=Ie("inset"),y=Ie("margin"),g=Ie("opacity"),v=Ie("padding"),_=Ie("saturate"),b=Ie("scale"),E=Ie("sepia"),T=Ie("skew"),k=Ie("space"),I=Ie("translate"),R=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",se,e],L=()=>[se,e],Q=()=>["",_i,er],B=()=>["auto",go,se],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",se],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[go,se];return{cacheSize:500,separator:":",theme:{colors:[ya],spacing:[_i,er],blur:["none","",tr,se],brightness:X(),borderColor:[t],borderRadius:["none","","full",tr,se],borderSpacing:L(),borderWidth:Q(),contrast:X(),grayscale:D(),hueRotate:X(),invert:D(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[dM,er],inset:j(),margin:j(),opacity:X(),padding:L(),saturate:X(),scale:X(),sepia:D(),skew:X(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[tr]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),se]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ga,se]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",ga,se]}],"grid-cols":[{"grid-cols":[ya]}],"col-start-end":[{col:["auto",{span:["full",ga,se]},se]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[ya]}],"row-start-end":[{row:["auto",{span:[ga,se]},se]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,e]}],"min-w":[{"min-w":[se,e,"min","max","fit"]}],"max-w":[{"max-w":[se,e,"none","full","min","max","fit","prose",{screen:[tr]},tr]}],h:[{h:[se,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,e,"auto","min","max","fit"]}],"font-size":[{text:["base",tr,er]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gh]}],"font-family":[{font:[ya]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",go,gh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_i,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_i,er]}],"underline-offset":[{"underline-offset":["auto",_i,se]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),pM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:Y()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[_i,se]}],"outline-w":[{outline:[_i,er]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[_i,er]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",tr,yM]}],"shadow-color":[{shadow:[ya]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",tr,se]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ga,se]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_i,er,gh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bM=iM(xM);function Ct(...t){return bM(RS(t))}const SM=IR,jS=S.forwardRef(({className:t,...e},n)=>P.jsx(ES,{ref:n,className:Ct("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));jS.displayName=ES.displayName;const EM=MS("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),BS=S.forwardRef(({className:t,variant:e,...n},i)=>P.jsx(CS,{ref:i,className:Ct(EM({variant:e}),t),...n}));BS.displayName=CS.displayName;const CM=S.forwardRef(({className:t,...e},n)=>P.jsx(PS,{ref:n,className:Ct("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));CM.displayName=PS.displayName;const HS=S.forwardRef(({className:t,...e},n)=>P.jsx(IS,{ref:n,className:Ct("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:P.jsx(VR,{className:"h-4 w-4"})}));HS.displayName=IS.displayName;const WS=S.forwardRef(({className:t,...e},n)=>P.jsx(TS,{ref:n,className:Ct("text-sm font-semibold",t),...e}));WS.displayName=TS.displayName;const $S=S.forwardRef(({className:t,...e},n)=>P.jsx(kS,{ref:n,className:Ct("text-sm opacity-90",t),...e}));$S.displayName=kS.displayName;function TM(){const{toasts:t}=LN();return P.jsxs(SM,{children:[t.map(function({id:e,title:n,description:i,action:r,...s}){return P.jsxs(BS,{...s,children:[P.jsxs("div",{className:"grid gap-1",children:[n&&P.jsx(WS,{children:n}),i&&P.jsx($S,{children:i})]}),r,P.jsx(HS,{})]},e)}),P.jsx(jS,{})]})}var I_=["light","dark"],kM="(prefers-color-scheme: dark)",PM=S.createContext(void 0),IM={setTheme:t=>{},themes:[]},NM=()=>{var t;return(t=S.useContext(PM))!=null?t:IM};S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=r?I_.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(m,p=!1,y=!0)=>{let g=o?o[m]:m,v=p?m+"|| ''":`'${g}'`,_="";return r&&y&&!p&&I_.includes(m)&&(_+=`d.style.colorScheme = '${m}';`),n==="class"?p||g?_+=`c.add(${v})`:_+="null":g&&(_+=`d[s](n,${v})`),_},h=t?`!function(){${u}${f(t)}}()`:i?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${kM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${d}}catch(t){}}();`;return S.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var RM=t=>{switch(t){case"success":return OM;case"info":return LM;case"warning":return DM;case"error":return FM;default:return null}},MM=Array(12).fill(0),AM=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},MM.map((n,i)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),OM=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),DM=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LM=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FM=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zM=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jM=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Gp=1,BM=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...i}=t,r=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Gp++,s=this.toasts.find(a=>a.id===r),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(a=>a.id===r?(this.publish({...a,...t,id:r,title:n}),{...a,...t,id:r,dismissible:o,title:n}):a):this.addToast({title:n,...i,dismissible:o,id:r}),r},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=t instanceof Promise?t:t(),r=n!==void 0,s,o=i.then(async l=>{if(s=["resolve",l],H.isValidElement(l))r=!1,this.create({id:n,type:"default",message:l});else if(WM(l)&&!l.ok){r=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){r=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){r=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;r&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>s[0]==="reject"?c(s[1]):l(s[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Gp++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ot=new BM,HM=(t,e)=>{let n=(e==null?void 0:e.id)||Gp++;return Ot.addToast({title:t,...e,id:n}),n},WM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",$M=HM,VM=()=>Ot.toasts,UM=()=>Ot.getActiveToasts(),Ii=Object.assign($M,{success:Ot.success,info:Ot.info,warning:Ot.warning,error:Ot.error,custom:Ot.custom,message:Ot.message,promise:Ot.promise,dismiss:Ot.dismiss,loading:Ot.loading},{getHistory:VM,getToasts:UM});function YM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}YM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function zc(t){return t.label!==void 0}var KM=3,GM="32px",qM="16px",N_=4e3,QM=356,XM=14,ZM=20,JM=200;function Cn(...t){return t.filter(Boolean).join(" ")}function eA(t){let[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}var tA=t=>{var e,n,i,r,s,o,a,l,c,u,d;let{invert:f,toast:h,unstyled:m,interacting:p,setHeights:y,visibleToasts:g,heights:v,index:_,toasts:b,expanded:E,removeToast:T,defaultRichColors:k,closeButton:I,style:R,cancelButtonStyle:O,actionButtonStyle:j,className:L="",descriptionClassName:Q="",duration:B,position:G,gap:Y,loadingIcon:q,expandByDefault:M,classNames:D,icons:$,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:K}=t,[ne,J]=H.useState(null),[xe,Ee]=H.useState(null),[te,Nt]=H.useState(!1),[_e,ze]=H.useState(!1),[Yt,an]=H.useState(!1),[Rt,Vn]=H.useState(!1),[hi,wt]=H.useState(!1),[bn,Gi]=H.useState(0),[pi,Gr]=H.useState(0),Xe=H.useRef(h.duration||B||N_),oc=H.useRef(null),mi=H.useRef(null),Pf=_===0,If=_+1<=g,Mt=h.type,gi=h.dismissible!==!1,ac=h.className||"",lc=h.descriptionClassName||"",qr=H.useMemo(()=>v.findIndex(ie=>ie.toastId===h.id)||0,[v,h.id]),Bs=H.useMemo(()=>{var ie;return(ie=h.closeButton)!=null?ie:I},[h.closeButton,I]),Hs=H.useMemo(()=>h.duration||B||N_,[h.duration,B]),ra=H.useRef(0),qi=H.useRef(0),cc=H.useRef(0),Qi=H.useRef(null),[Nf,Ws]=G.split("-"),uc=H.useMemo(()=>v.reduce((ie,ve,be)=>be>=qr?ie:ie+ve.height,0),[v,qr]),dc=jM(),fc=h.invert||f,$s=Mt==="loading";qi.current=H.useMemo(()=>qr*Y+uc,[qr,uc]),H.useEffect(()=>{Xe.current=Hs},[Hs]),H.useEffect(()=>{Nt(!0)},[]),H.useEffect(()=>{let ie=mi.current;if(ie){let ve=ie.getBoundingClientRect().height;return Gr(ve),y(be=>[{toastId:h.id,height:ve,position:h.position},...be]),()=>y(be=>be.filter(Kt=>Kt.toastId!==h.id))}},[y,h.id]),H.useLayoutEffect(()=>{if(!te)return;let ie=mi.current,ve=ie.style.height;ie.style.height="auto";let be=ie.getBoundingClientRect().height;ie.style.height=ve,Gr(be),y(Kt=>Kt.find(Gt=>Gt.toastId===h.id)?Kt.map(Gt=>Gt.toastId===h.id?{...Gt,height:be}:Gt):[{toastId:h.id,height:be,position:h.position},...Kt])},[te,h.title,h.description,y,h.id]);let ln=H.useCallback(()=>{ze(!0),Gi(qi.current),y(ie=>ie.filter(ve=>ve.toastId!==h.id)),setTimeout(()=>{T(h)},JM)},[h,T,y,qi]);H.useEffect(()=>{if(h.promise&&Mt==="loading"||h.duration===1/0||h.type==="loading")return;let ie;return E||p||K&&dc?(()=>{if(cc.current<ra.current){let ve=new Date().getTime()-ra.current;Xe.current=Xe.current-ve}cc.current=new Date().getTime()})():Xe.current!==1/0&&(ra.current=new Date().getTime(),ie=setTimeout(()=>{var ve;(ve=h.onAutoClose)==null||ve.call(h,h),ln()},Xe.current)),()=>clearTimeout(ie)},[E,p,h,Mt,K,dc,ln]),H.useEffect(()=>{h.delete&&ln()},[ln,h.delete]);function Rf(){var ie,ve,be;return $!=null&&$.loading?H.createElement("div",{className:Cn(D==null?void 0:D.loader,(ie=h==null?void 0:h.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":Mt==="loading"},$.loading):q?H.createElement("div",{className:Cn(D==null?void 0:D.loader,(ve=h==null?void 0:h.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":Mt==="loading"},q):H.createElement(AM,{className:Cn(D==null?void 0:D.loader,(be=h==null?void 0:h.classNames)==null?void 0:be.loader),visible:Mt==="loading"})}return H.createElement("li",{tabIndex:0,ref:mi,className:Cn(L,ac,D==null?void 0:D.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,D==null?void 0:D.default,D==null?void 0:D[Mt],(n=h==null?void 0:h.classNames)==null?void 0:n[Mt]),"data-sonner-toast":"","data-rich-colors":(i=h.richColors)!=null?i:k,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":te,"data-promise":!!h.promise,"data-swiped":hi,"data-removed":_e,"data-visible":If,"data-y-position":Nf,"data-x-position":Ws,"data-index":_,"data-front":Pf,"data-swiping":Yt,"data-dismissible":gi,"data-type":Mt,"data-invert":fc,"data-swipe-out":Rt,"data-swipe-direction":xe,"data-expanded":!!(E||M&&te),style:{"--index":_,"--toasts-before":_,"--z-index":b.length-_,"--offset":`${_e?bn:qi.current}px`,"--initial-height":M?"auto":`${pi}px`,...R,...h.style},onDragEnd:()=>{an(!1),J(null),Qi.current=null},onPointerDown:ie=>{$s||!gi||(oc.current=new Date,Gi(qi.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(an(!0),Qi.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,ve,be,Kt;if(Rt||!gi)return;Qi.current=null;let Gt=Number(((ie=mi.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Un=Number(((ve=mi.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),cn=new Date().getTime()-((be=oc.current)==null?void 0:be.getTime()),qt=ne==="x"?Gt:Un,Yn=Math.abs(qt)/cn;if(Math.abs(qt)>=ZM||Yn>.11){Gi(qi.current),(Kt=h.onDismiss)==null||Kt.call(h,h),Ee(ne==="x"?Gt>0?"right":"left":Un>0?"down":"up"),ln(),Vn(!0),wt(!1);return}an(!1),J(null)},onPointerMove:ie=>{var ve,be,Kt,Gt;if(!Qi.current||!gi||((ve=window.getSelection())==null?void 0:ve.toString().length)>0)return;let Un=ie.clientY-Qi.current.y,cn=ie.clientX-Qi.current.x,qt=(be=t.swipeDirections)!=null?be:eA(G);!ne&&(Math.abs(cn)>1||Math.abs(Un)>1)&&J(Math.abs(cn)>Math.abs(Un)?"x":"y");let Yn={x:0,y:0};ne==="y"?(qt.includes("top")||qt.includes("bottom"))&&(qt.includes("top")&&Un<0||qt.includes("bottom")&&Un>0)&&(Yn.y=Un):ne==="x"&&(qt.includes("left")||qt.includes("right"))&&(qt.includes("left")&&cn<0||qt.includes("right")&&cn>0)&&(Yn.x=cn),(Math.abs(Yn.x)>0||Math.abs(Yn.y)>0)&&wt(!0),(Kt=mi.current)==null||Kt.style.setProperty("--swipe-amount-x",`${Yn.x}px`),(Gt=mi.current)==null||Gt.style.setProperty("--swipe-amount-y",`${Yn.y}px`)}},Bs&&!h.jsx?H.createElement("button",{"aria-label":X,"data-disabled":$s,"data-close-button":!0,onClick:$s||!gi?()=>{}:()=>{var ie;ln(),(ie=h.onDismiss)==null||ie.call(h,h)},className:Cn(D==null?void 0:D.closeButton,(r=h==null?void 0:h.classNames)==null?void 0:r.closeButton)},(s=$==null?void 0:$.close)!=null?s:zM):null,h.jsx||S.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:H.createElement(H.Fragment,null,Mt||h.icon||h.promise?H.createElement("div",{"data-icon":"",className:Cn(D==null?void 0:D.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Rf():null,h.type!=="loading"?h.icon||($==null?void 0:$[Mt])||RM(Mt):null):null,H.createElement("div",{"data-content":"",className:Cn(D==null?void 0:D.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:Cn(D==null?void 0:D.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?H.createElement("div",{"data-description":"",className:Cn(Q,lc,D==null?void 0:D.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),S.isValidElement(h.cancel)?h.cancel:h.cancel&&zc(h.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:ie=>{var ve,be;zc(h.cancel)&&gi&&((be=(ve=h.cancel).onClick)==null||be.call(ve,ie),ln())},className:Cn(D==null?void 0:D.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,S.isValidElement(h.action)?h.action:h.action&&zc(h.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||j,onClick:ie=>{var ve,be;zc(h.action)&&((be=(ve=h.action).onClick)==null||be.call(ve,ie),!ie.defaultPrevented&&ln())},className:Cn(D==null?void 0:D.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function R_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function nA(t,e){let n={};return[t,e].forEach((i,r)=>{let s=r===1,o=s?"--mobile-offset":"--offset",a=s?qM:GM;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof i=="number"||typeof i=="string"?l(i):typeof i=="object"?["top","right","bottom","left"].forEach(c=>{i[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof i[c]=="number"?`${i[c]}px`:i[c]}):l(a)}),n}var iA=S.forwardRef(function(t,e){let{invert:n,position:i="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:h,visibleToasts:m=KM,toastOptions:p,dir:y=R_(),gap:g=XM,loadingIcon:v,icons:_,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:E}=t,[T,k]=H.useState([]),I=H.useMemo(()=>Array.from(new Set([i].concat(T.filter(K=>K.position).map(K=>K.position)))),[T,i]),[R,O]=H.useState([]),[j,L]=H.useState(!1),[Q,B]=H.useState(!1),[G,Y]=H.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=H.useRef(null),M=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=H.useRef(null),$=H.useRef(!1),X=H.useCallback(K=>{k(ne=>{var J;return(J=ne.find(xe=>xe.id===K.id))!=null&&J.delete||Ot.dismiss(K.id),ne.filter(({id:xe})=>xe!==K.id)})},[]);return H.useEffect(()=>Ot.subscribe(K=>{if(K.dismiss){k(ne=>ne.map(J=>J.id===K.id?{...J,delete:!0}:J));return}setTimeout(()=>{nS.flushSync(()=>{k(ne=>{let J=ne.findIndex(xe=>xe.id===K.id);return J!==-1?[...ne.slice(0,J),{...ne[J],...K},...ne.slice(J+1)]:[K,...ne]})})})}),[]),H.useEffect(()=>{if(u!=="system"){Y(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:ne})=>{Y(ne?"dark":"light")})}catch{K.addListener(({matches:J})=>{try{Y(J?"dark":"light")}catch(xe){console.error(xe)}})}},[u]),H.useEffect(()=>{T.length<=1&&L(!1)},[T]),H.useEffect(()=>{let K=ne=>{var J,xe;r.every(Ee=>ne[Ee]||ne.code===Ee)&&(L(!0),(J=q.current)==null||J.focus()),ne.code==="Escape"&&(document.activeElement===q.current||(xe=q.current)!=null&&xe.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[r]),H.useEffect(()=>{if(q.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,$.current=!1)}},[q.current]),H.createElement("section",{ref:e,"aria-label":`${b} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((K,ne)=>{var J;let[xe,Ee]=K.split("-");return T.length?H.createElement("ol",{key:K,dir:y==="auto"?R_():y,tabIndex:-1,ref:q,className:a,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":xe,"data-lifted":j&&T.length>1&&!s,"data-x-position":Ee,style:{"--front-toast-height":`${((J=R[0])==null?void 0:J.height)||0}px`,"--width":`${QM}px`,"--gap":`${g}px`,...h,...nA(l,c)},onBlur:te=>{$.current&&!te.currentTarget.contains(te.relatedTarget)&&($.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||$.current||($.current=!0,D.current=te.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{Q||L(!1)},onDragEnd:()=>L(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},T.filter(te=>!te.position&&ne===0||te.position===K).map((te,Nt)=>{var _e,ze;return H.createElement(tA,{key:te.id,icons:_,index:Nt,toast:te,defaultRichColors:d,duration:(_e=p==null?void 0:p.duration)!=null?_e:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:m,closeButton:(ze=p==null?void 0:p.closeButton)!=null?ze:o,interacting:Q,position:K,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:X,toasts:T.filter(Yt=>Yt.position==te.position),heights:R.filter(Yt=>Yt.position==te.position),setHeights:O,expandByDefault:s,gap:g,loadingIcon:v,expanded:j,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const rA=({...t})=>{const{theme:e="system"}=NM();return P.jsx(iA,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},sA=["top","right","bottom","left"],Or=Math.min,Xt=Math.max,Qu=Math.round,jc=Math.floor,ci=t=>({x:t,y:t}),oA={left:"right",right:"left",bottom:"top",top:"bottom"},aA={start:"end",end:"start"};function qp(t,e,n){return Xt(t,Or(e,n))}function Bi(t,e){return typeof t=="function"?t(e):t}function Hi(t){return t.split("-")[0]}function Qo(t){return t.split("-")[1]}function Hg(t){return t==="x"?"y":"x"}function Wg(t){return t==="y"?"height":"width"}const lA=new Set(["top","bottom"]);function oi(t){return lA.has(Hi(t))?"y":"x"}function $g(t){return Hg(oi(t))}function cA(t,e,n){n===void 0&&(n=!1);const i=Qo(t),r=$g(t),s=Wg(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Xu(o)),[o,Xu(o)]}function uA(t){const e=Xu(t);return[Qp(t),e,Qp(e)]}function Qp(t){return t.replace(/start|end/g,e=>aA[e])}const M_=["left","right"],A_=["right","left"],dA=["top","bottom"],fA=["bottom","top"];function hA(t,e,n){switch(t){case"top":case"bottom":return n?e?A_:M_:e?M_:A_;case"left":case"right":return e?dA:fA;default:return[]}}function pA(t,e,n,i){const r=Qo(t);let s=hA(Hi(t),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(Qp)))),s}function Xu(t){return t.replace(/left|right|bottom|top/g,e=>oA[e])}function mA(t){return{top:0,right:0,bottom:0,left:0,...t}}function VS(t){return typeof t!="number"?mA(t):{top:t,right:t,bottom:t,left:t}}function Zu(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function O_(t,e,n){let{reference:i,floating:r}=t;const s=oi(e),o=$g(e),a=Wg(o),l=Hi(e),c=s==="y",u=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,f=i[a]/2-r[a]/2;let h;switch(l){case"top":h={x:u,y:i.y-r.height};break;case"bottom":h={x:u,y:i.y+i.height};break;case"right":h={x:i.x+i.width,y:d};break;case"left":h={x:i.x-r.width,y:d};break;default:h={x:i.x,y:i.y}}switch(Qo(e)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1);break}return h}const gA=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=O_(c,i,l),f=i,h={},m=0;for(let p=0;p<a.length;p++){const{name:y,fn:g}=a[p],{x:v,y:_,data:b,reset:E}=await g({x:u,y:d,initialPlacement:i,placement:f,strategy:r,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});u=v??u,d=_??d,h={...h,[y]:{...h[y],...b}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):E.rects),{x:u,y:d}=O_(c,f,l)),p=-1)}return{x:u,y:d,placement:f,strategy:r,middlewareData:h}};async function wl(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Bi(e,t),m=VS(h),y=a[f?d==="floating"?"reference":"floating":d],g=Zu(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=d==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},E=Zu(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:_,strategy:l}):v);return{top:(g.top-E.top+m.top)/b.y,bottom:(E.bottom-g.bottom+m.bottom)/b.y,left:(g.left-E.left+m.left)/b.x,right:(E.right-g.right+m.right)/b.x}}const yA=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Bi(t,e)||{};if(c==null)return{};const d=VS(u),f={x:n,y:i},h=$g(r),m=Wg(h),p=await o.getDimensions(c),y=h==="y",g=y?"top":"left",v=y?"bottom":"right",_=y?"clientHeight":"clientWidth",b=s.reference[m]+s.reference[h]-f[h]-s.floating[m],E=f[h]-s.reference[h],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=T?T[_]:0;(!k||!await(o.isElement==null?void 0:o.isElement(T)))&&(k=a.floating[_]||s.floating[m]);const I=b/2-E/2,R=k/2-p[m]/2-1,O=Or(d[g],R),j=Or(d[v],R),L=O,Q=k-p[m]-j,B=k/2-p[m]/2+I,G=qp(L,B,Q),Y=!l.arrow&&Qo(r)!=null&&B!==G&&s.reference[m]/2-(B<L?O:j)-p[m]/2<0,q=Y?B<L?B-L:B-Q:0;return{[h]:f[h]+q,data:{[h]:G,centerOffset:B-G-q,...Y&&{alignmentOffset:q}},reset:Y}}}),vA=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...y}=Bi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Hi(r),v=oi(a),_=Hi(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(_||!p?[Xu(a)]:uA(a)),T=m!=="none";!f&&T&&E.push(...pA(a,p,m,b));const k=[a,...E],I=await wl(e,y),R=[];let O=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&R.push(I[g]),d){const B=cA(r,o,b);R.push(I[B[0]],I[B[1]])}if(O=[...O,{placement:r,overflows:R}],!R.every(B=>B<=0)){var j,L;const B=(((j=s.flip)==null?void 0:j.index)||0)+1,G=k[B];if(G&&(!(d==="alignment"?v!==oi(G):!1)||O.every(M=>M.overflows[0]>0&&oi(M.placement)===v)))return{data:{index:B,overflows:O},reset:{placement:G}};let Y=(L=O.filter(q=>q.overflows[0]<=0).sort((q,M)=>q.overflows[1]-M.overflows[1])[0])==null?void 0:L.placement;if(!Y)switch(h){case"bestFit":{var Q;const q=(Q=O.filter(M=>{if(T){const D=oi(M.placement);return D===v||D==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(D=>D>0).reduce((D,$)=>D+$,0)]).sort((M,D)=>M[1]-D[1])[0])==null?void 0:Q[0];q&&(Y=q);break}case"initialPlacement":Y=a;break}if(r!==Y)return{reset:{placement:Y}}}return{}}}};function D_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function L_(t){return sA.some(e=>t[e]>=0)}const _A=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=Bi(t,e);switch(i){case"referenceHidden":{const s=await wl(e,{...r,elementContext:"reference"}),o=D_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:L_(o)}}}case"escaped":{const s=await wl(e,{...r,altBoundary:!0}),o=D_(s,n.floating);return{data:{escapedOffsets:o,escaped:L_(o)}}}default:return{}}}}},US=new Set(["left","top"]);async function wA(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Hi(n),a=Qo(n),l=oi(n)==="y",c=US.has(o)?-1:1,u=s&&l?-1:1,d=Bi(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const xA=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await wA(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},bA=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:g,y:v}=y;return{x:g,y:v}}},...l}=Bi(t,e),c={x:n,y:i},u=await wl(e,l),d=oi(Hi(r)),f=Hg(d);let h=c[f],m=c[d];if(s){const y=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=h+u[y],_=h-u[g];h=qp(v,h,_)}if(o){const y=d==="y"?"top":"left",g=d==="y"?"bottom":"right",v=m+u[y],_=m-u[g];m=qp(v,m,_)}const p=a.fn({...e,[f]:h,[d]:m});return{...p,data:{x:p.x-n,y:p.y-i,enabled:{[f]:s,[d]:o}}}}}},SA=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Bi(t,e),u={x:n,y:i},d=oi(r),f=Hg(d);let h=u[f],m=u[d];const p=Bi(a,e),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const _=f==="y"?"height":"width",b=s.reference[f]-s.floating[_]+y.mainAxis,E=s.reference[f]+s.reference[_]-y.mainAxis;h<b?h=b:h>E&&(h=E)}if(c){var g,v;const _=f==="y"?"width":"height",b=US.has(Hi(r)),E=s.reference[d]-s.floating[_]+(b&&((g=o.offset)==null?void 0:g[d])||0)+(b?0:y.crossAxis),T=s.reference[d]+s.reference[_]+(b?0:((v=o.offset)==null?void 0:v[d])||0)-(b?y.crossAxis:0);m<E?m=E:m>T&&(m=T)}return{[f]:h,[d]:m}}}},EA=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Bi(t,e),u=await wl(e,c),d=Hi(r),f=Qo(r),h=oi(r)==="y",{width:m,height:p}=s.floating;let y,g;d==="top"||d==="bottom"?(y=d,g=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=d,y=f==="end"?"top":"bottom");const v=p-u.top-u.bottom,_=m-u.left-u.right,b=Or(p-u[y],v),E=Or(m-u[g],_),T=!e.middlewareData.shift;let k=b,I=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=_),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(k=v),T&&!f){const O=Xt(u.left,0),j=Xt(u.right,0),L=Xt(u.top,0),Q=Xt(u.bottom,0);h?I=m-2*(O!==0||j!==0?O+j:Xt(u.left,u.right)):k=p-2*(L!==0||Q!==0?L+Q:Xt(u.top,u.bottom))}await l({...e,availableWidth:I,availableHeight:k});const R=await o.getDimensions(a.floating);return m!==R.width||p!==R.height?{reset:{rects:!0}}:{}}}};function Qd(){return typeof window<"u"}function Xo(t){return YS(t)?(t.nodeName||"").toLowerCase():"#document"}function en(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fi(t){var e;return(e=(YS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function YS(t){return Qd()?t instanceof Node||t instanceof en(t).Node:!1}function Wn(t){return Qd()?t instanceof Element||t instanceof en(t).Element:!1}function di(t){return Qd()?t instanceof HTMLElement||t instanceof en(t).HTMLElement:!1}function F_(t){return!Qd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof en(t).ShadowRoot}const CA=new Set(["inline","contents"]);function Xl(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=$n(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!CA.has(r)}const TA=new Set(["table","td","th"]);function kA(t){return TA.has(Xo(t))}const PA=[":popover-open",":modal"];function Xd(t){return PA.some(e=>{try{return t.matches(e)}catch{return!1}})}const IA=["transform","translate","scale","rotate","perspective"],NA=["transform","translate","scale","rotate","perspective","filter"],RA=["paint","layout","strict","content"];function Vg(t){const e=Ug(),n=Wn(t)?$n(t):t;return IA.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||NA.some(i=>(n.willChange||"").includes(i))||RA.some(i=>(n.contain||"").includes(i))}function MA(t){let e=Dr(t);for(;di(e)&&!Fo(e);){if(Vg(e))return e;if(Xd(e))return null;e=Dr(e)}return null}function Ug(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const AA=new Set(["html","body","#document"]);function Fo(t){return AA.has(Xo(t))}function $n(t){return en(t).getComputedStyle(t)}function Zd(t){return Wn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Dr(t){if(Xo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||F_(t)&&t.host||fi(t);return F_(e)?e.host:e}function KS(t){const e=Dr(t);return Fo(e)?t.ownerDocument?t.ownerDocument.body:t.body:di(e)&&Xl(e)?e:KS(e)}function xl(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=KS(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=en(r);if(s){const a=Xp(o);return e.concat(o,o.visualViewport||[],Xl(r)?r:[],a&&n?xl(a):[])}return e.concat(r,xl(r,[],n))}function Xp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function GS(t){const e=$n(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=di(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,a=Qu(n)!==s||Qu(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function Yg(t){return Wn(t)?t:t.contextElement}function yo(t){const e=Yg(t);if(!di(e))return ci(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=GS(e);let o=(s?Qu(n.width):n.width)/i,a=(s?Qu(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const OA=ci(0);function qS(t){const e=en(t);return!Ug()||!e.visualViewport?OA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DA(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==en(t)?!1:e}function ks(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=Yg(t);let o=ci(1);e&&(i?Wn(i)&&(o=yo(i)):o=yo(t));const a=DA(s,n,i)?qS(s):ci(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,d=r.height/o.y;if(s){const f=en(s),h=i&&Wn(i)?en(i):i;let m=f,p=Xp(m);for(;p&&i&&h!==m;){const y=yo(p),g=p.getBoundingClientRect(),v=$n(p),_=g.left+(p.clientLeft+parseFloat(v.paddingLeft))*y.x,b=g.top+(p.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=_,c+=b,m=en(p),p=Xp(m)}}return Zu({width:u,height:d,x:l,y:c})}function Kg(t,e){const n=Zd(t).scrollLeft;return e?e.left+n:ks(fi(t)).left+n}function QS(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=i.left+e.scrollLeft-(n?0:Kg(t,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function LA(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",o=fi(i),a=e?Xd(e.floating):!1;if(i===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=ci(1);const u=ci(0),d=di(i);if((d||!d&&!s)&&((Xo(i)!=="body"||Xl(o))&&(l=Zd(i)),di(i))){const h=ks(i);c=yo(i),u.x=h.x+i.clientLeft,u.y=h.y+i.clientTop}const f=o&&!d&&!s?QS(o,l,!0):ci(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function FA(t){return Array.from(t.getClientRects())}function zA(t){const e=fi(t),n=Zd(t),i=t.ownerDocument.body,r=Xt(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Xt(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+Kg(t);const a=-n.scrollTop;return $n(i).direction==="rtl"&&(o+=Xt(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function jA(t,e){const n=en(t),i=fi(t),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=Ug();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}const BA=new Set(["absolute","fixed"]);function HA(t,e){const n=ks(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=di(t)?yo(t):ci(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function z_(t,e,n){let i;if(e==="viewport")i=jA(t,n);else if(e==="document")i=zA(fi(t));else if(Wn(e))i=HA(e,n);else{const r=qS(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Zu(i)}function XS(t,e){const n=Dr(t);return n===e||!Wn(n)||Fo(n)?!1:$n(n).position==="fixed"||XS(n,e)}function WA(t,e){const n=e.get(t);if(n)return n;let i=xl(t,[],!1).filter(a=>Wn(a)&&Xo(a)!=="body"),r=null;const s=$n(t).position==="fixed";let o=s?Dr(t):t;for(;Wn(o)&&!Fo(o);){const a=$n(o),l=Vg(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&BA.has(r.position)||Xl(o)&&!l&&XS(t,o))?i=i.filter(u=>u!==o):r=a,o=Dr(o)}return e.set(t,i),i}function $A(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o=[...n==="clippingAncestors"?Xd(e)?[]:WA(e,this._c):[].concat(n),i],a=o[0],l=o.reduce((c,u)=>{const d=z_(e,u,r);return c.top=Xt(d.top,c.top),c.right=Or(d.right,c.right),c.bottom=Or(d.bottom,c.bottom),c.left=Xt(d.left,c.left),c},z_(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function VA(t){const{width:e,height:n}=GS(t);return{width:e,height:n}}function UA(t,e,n){const i=di(e),r=fi(e),s=n==="fixed",o=ks(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ci(0);function c(){l.x=Kg(r)}if(i||!i&&!s)if((Xo(e)!=="body"||Xl(r))&&(a=Zd(e)),i){const h=ks(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else r&&c();s&&!i&&r&&c();const u=r&&!i&&!s?QS(r,a):ci(0),d=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function yh(t){return $n(t).position==="static"}function j_(t,e){if(!di(t)||$n(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fi(t)===n&&(n=n.ownerDocument.body),n}function ZS(t,e){const n=en(t);if(Xd(t))return n;if(!di(t)){let r=Dr(t);for(;r&&!Fo(r);){if(Wn(r)&&!yh(r))return r;r=Dr(r)}return n}let i=j_(t,e);for(;i&&kA(i)&&yh(i);)i=j_(i,e);return i&&Fo(i)&&yh(i)&&!Vg(i)?n:i||MA(t)||n}const YA=async function(t){const e=this.getOffsetParent||ZS,n=this.getDimensions,i=await n(t.floating);return{reference:UA(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function KA(t){return $n(t).direction==="rtl"}const GA={convertOffsetParentRelativeRectToViewportRelativeRect:LA,getDocumentElement:fi,getClippingRect:$A,getOffsetParent:ZS,getElementRects:YA,getClientRects:FA,getDimensions:VA,getScale:yo,isElement:Wn,isRTL:KA};function JS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function qA(t,e){let n=null,i;const r=fi(t);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(a||e(),!f||!h)return;const m=jc(d),p=jc(r.clientWidth-(u+f)),y=jc(r.clientHeight-(d+h)),g=jc(u),_={rootMargin:-m+"px "+-p+"px "+-y+"px "+-g+"px",threshold:Xt(0,Or(1,l))||1};let b=!0;function E(T){const k=T[0].intersectionRatio;if(k!==l){if(!b)return o();k?o(!1,k):i=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!JS(c,t.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(E,{..._,root:r.ownerDocument})}catch{n=new IntersectionObserver(E,_)}n.observe(t)}return o(!0),s}function QA(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=Yg(t),u=r||s?[...c?xl(c):[],...xl(e)]:[];u.forEach(g=>{r&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const d=c&&a?qA(c,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(g=>{let[v]=g;v&&v.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let m,p=l?ks(t):null;l&&y();function y(){const g=ks(t);p&&!JS(p,g)&&n(),p=g,m=requestAnimationFrame(y)}return n(),()=>{var g;u.forEach(v=>{r&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),d==null||d(),(g=h)==null||g.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const XA=xA,ZA=bA,JA=vA,eO=EA,tO=_A,B_=yA,nO=SA,iO=(t,e,n)=>{const i=new Map,r={platform:GA,...n},s={...r.platform,_c:i};return gA(t,e,{...r,platform:s})};var rO=typeof document<"u",sO=function(){},_u=rO?S.useLayoutEffect:sO;function Ju(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Ju(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&t.$$typeof)&&!Ju(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function eE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function H_(t,e){const n=eE(t);return Math.round(e*n)/n}function vh(t){const e=S.useRef(t);return _u(()=>{e.current=t}),e}function oO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=S.useState(i);Ju(f,i)||h(i);const[m,p]=S.useState(null),[y,g]=S.useState(null),v=S.useCallback(M=>{M!==T.current&&(T.current=M,p(M))},[]),_=S.useCallback(M=>{M!==k.current&&(k.current=M,g(M))},[]),b=s||m,E=o||y,T=S.useRef(null),k=S.useRef(null),I=S.useRef(u),R=l!=null,O=vh(l),j=vh(r),L=vh(c),Q=S.useCallback(()=>{if(!T.current||!k.current)return;const M={placement:e,strategy:n,middleware:f};j.current&&(M.platform=j.current),iO(T.current,k.current,M).then(D=>{const $={...D,isPositioned:L.current!==!1};B.current&&!Ju(I.current,$)&&(I.current=$,ql.flushSync(()=>{d($)}))})},[f,e,n,j,L]);_u(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,d(M=>({...M,isPositioned:!1})))},[c]);const B=S.useRef(!1);_u(()=>(B.current=!0,()=>{B.current=!1}),[]),_u(()=>{if(b&&(T.current=b),E&&(k.current=E),b&&E){if(O.current)return O.current(b,E,Q);Q()}},[b,E,Q,O,R]);const G=S.useMemo(()=>({reference:T,floating:k,setReference:v,setFloating:_}),[v,_]),Y=S.useMemo(()=>({reference:b,floating:E}),[b,E]),q=S.useMemo(()=>{const M={position:n,left:0,top:0};if(!Y.floating)return M;const D=H_(Y.floating,u.x),$=H_(Y.floating,u.y);return a?{...M,transform:"translate("+D+"px, "+$+"px)",...eE(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:$}},[n,a,Y.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:Q,refs:G,elements:Y,floatingStyles:q}),[u,Q,G,Y,q])}const aO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?B_({element:i.current,padding:r}).fn(n):{}:i?B_({element:i,padding:r}).fn(n):{}}}},lO=(t,e)=>({...XA(t),options:[t,e]}),cO=(t,e)=>({...ZA(t),options:[t,e]}),uO=(t,e)=>({...nO(t),options:[t,e]}),dO=(t,e)=>({...JA(t),options:[t,e]}),fO=(t,e)=>({...eO(t),options:[t,e]}),hO=(t,e)=>({...tO(t),options:[t,e]}),pO=(t,e)=>({...aO(t),options:[t,e]});var mO="Arrow",tE=S.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return P.jsx(Ut.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});tE.displayName=mO;var gO=tE;function yO(t){const[e,n]=S.useState(void 0);return Ar(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var nE="Popper",[iE,rE]=Kd(nE),[iW,sE]=iE(nE),oE="PopperAnchor",aE=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=sE(oE,n),o=S.useRef(null),a=Hn(e,o);return S.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:P.jsx(Ut.div,{...r,ref:a})});aE.displayName=oE;var Gg="PopperContent",[vO,_O]=iE(Gg),lE=S.forwardRef((t,e)=>{var te,Nt,_e,ze,Yt,an;const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:m,...p}=t,y=sE(Gg,n),[g,v]=S.useState(null),_=Hn(e,Rt=>v(Rt)),[b,E]=S.useState(null),T=yO(b),k=(T==null?void 0:T.width)??0,I=(T==null?void 0:T.height)??0,R=i+(s!=="center"?"-"+s:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},j=Array.isArray(c)?c:[c],L=j.length>0,Q={padding:O,boundary:j.filter(xO),altBoundary:L},{refs:B,floatingStyles:G,placement:Y,isPositioned:q,middlewareData:M}=oO({strategy:"fixed",placement:R,whileElementsMounted:(...Rt)=>QA(...Rt,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[lO({mainAxis:r+I,alignmentAxis:o}),l&&cO({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?uO():void 0,...Q}),l&&dO({...Q}),fO({...Q,apply:({elements:Rt,rects:Vn,availableWidth:hi,availableHeight:wt})=>{const{width:bn,height:Gi}=Vn.reference,pi=Rt.floating.style;pi.setProperty("--radix-popper-available-width",`${hi}px`),pi.setProperty("--radix-popper-available-height",`${wt}px`),pi.setProperty("--radix-popper-anchor-width",`${bn}px`),pi.setProperty("--radix-popper-anchor-height",`${Gi}px`)}}),b&&pO({element:b,padding:a}),bO({arrowWidth:k,arrowHeight:I}),f&&hO({strategy:"referenceHidden",...Q})]}),[D,$]=dE(Y),X=Mr(m);Ar(()=>{q&&(X==null||X())},[q,X]);const K=(te=M.arrow)==null?void 0:te.x,ne=(Nt=M.arrow)==null?void 0:Nt.y,J=((_e=M.arrow)==null?void 0:_e.centerOffset)!==0,[xe,Ee]=S.useState();return Ar(()=>{g&&Ee(window.getComputedStyle(g).zIndex)},[g]),P.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:q?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(ze=M.transformOrigin)==null?void 0:ze.x,(Yt=M.transformOrigin)==null?void 0:Yt.y].join(" "),...((an=M.hide)==null?void 0:an.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:P.jsx(vO,{scope:n,placedSide:D,onArrowChange:E,arrowX:K,arrowY:ne,shouldHideArrow:J,children:P.jsx(Ut.div,{"data-side":D,"data-align":$,...p,ref:_,style:{...p.style,animation:q?void 0:"none"}})})})});lE.displayName=Gg;var cE="PopperArrow",wO={top:"bottom",right:"left",bottom:"top",left:"right"},uE=S.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=_O(cE,i),o=wO[s.placedSide];return P.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:P.jsx(gO,{...r,ref:n,style:{...r.style,display:"block"}})})});uE.displayName=cE;function xO(t){return t!==null}var bO=t=>({name:"transformOrigin",options:t,fn(e){var y,g,v;const{placement:n,rects:i,middlewareData:r}=e,o=((y=r.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=dE(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((g=r.arrow)==null?void 0:g.x)??0)+a/2,h=(((v=r.arrow)==null?void 0:v.y)??0)+l/2;let m="",p="";return c==="bottom"?(m=o?d:`${f}px`,p=`${-l}px`):c==="top"?(m=o?d:`${f}px`,p=`${i.floating.height+l}px`):c==="right"?(m=`${-l}px`,p=o?d:`${h}px`):c==="left"&&(m=`${i.floating.width+l}px`,p=o?d:`${h}px`),{data:{x:m,y:p}}}});function dE(t){const[e,n="center"]=t.split("-");return[e,n]}var SO=aE,EO=lE,CO=uE,[Jd,rW]=Kd("Tooltip",[rE]),qg=rE(),fE="TooltipProvider",TO=700,W_="tooltip.open",[kO,hE]=Jd(fE),pE=t=>{const{__scopeTooltip:e,delayDuration:n=TO,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=t,o=S.useRef(!0),a=S.useRef(!1),l=S.useRef(0);return S.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),P.jsx(kO,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:a,onPointerInTransitChange:S.useCallback(c=>{a.current=c},[]),disableHoverableContent:r,children:s})};pE.displayName=fE;var mE="Tooltip",[sW,ef]=Jd(mE),Zp="TooltipTrigger",PO=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=ef(Zp,n),s=hE(Zp,n),o=qg(n),a=S.useRef(null),l=Hn(e,a,r.onTriggerChange),c=S.useRef(!1),u=S.useRef(!1),d=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),P.jsx(SO,{asChild:!0,...o,children:P.jsx(Ut.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:Ye(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ye(t.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:Ye(t.onPointerDown,()=>{r.open&&r.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ye(t.onFocus,()=>{c.current||r.onOpen()}),onBlur:Ye(t.onBlur,r.onClose),onClick:Ye(t.onClick,r.onClose)})})});PO.displayName=Zp;var IO="TooltipPortal",[oW,NO]=Jd(IO,{forceMount:void 0}),zo="TooltipContent",gE=S.forwardRef((t,e)=>{const n=NO(zo,t.__scopeTooltip),{forceMount:i=n.forceMount,side:r="top",...s}=t,o=ef(zo,t.__scopeTooltip);return P.jsx(Lg,{present:i||o.open,children:o.disableHoverableContent?P.jsx(yE,{side:r,...s,ref:e}):P.jsx(RO,{side:r,...s,ref:e})})}),RO=S.forwardRef((t,e)=>{const n=ef(zo,t.__scopeTooltip),i=hE(zo,t.__scopeTooltip),r=S.useRef(null),s=Hn(e,r),[o,a]=S.useState(null),{trigger:l,onClose:c}=n,u=r.current,{onPointerInTransitChange:d}=i,f=S.useCallback(()=>{a(null),d(!1)},[d]),h=S.useCallback((m,p)=>{const y=m.currentTarget,g={x:m.clientX,y:m.clientY},v=LO(g,y.getBoundingClientRect()),_=FO(g,v),b=zO(p.getBoundingClientRect()),E=BO([..._,...b]);a(E),d(!0)},[d]);return S.useEffect(()=>()=>f(),[f]),S.useEffect(()=>{if(l&&u){const m=y=>h(y,u),p=y=>h(y,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",p)}}},[l,u,h,f]),S.useEffect(()=>{if(o){const m=p=>{const y=p.target,g={x:p.clientX,y:p.clientY},v=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),_=!jO(g,o);v?f():_&&(f(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,f]),P.jsx(yE,{...t,ref:s})}),[MO,AO]=Jd(mE,{isInside:!1}),OO=BN("TooltipContent"),yE=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=ef(zo,n),c=qg(n),{onClose:u}=l;return S.useEffect(()=>(document.addEventListener(W_,u),()=>document.removeEventListener(W_,u)),[u]),S.useEffect(()=>{if(l.trigger){const d=f=>{const h=f.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),P.jsx(Dg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:P.jsxs(EO,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[P.jsx(OO,{children:i}),P.jsx(MO,{scope:n,isInside:!0,children:P.jsx(dR,{id:l.contentId,role:"tooltip",children:r||i})})]})})});gE.displayName=zo;var vE="TooltipArrow",DO=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=qg(n);return AO(vE,n).isInside?null:P.jsx(CO,{...r,...i,ref:e})});DO.displayName=vE;function LO(t,e){const n=Math.abs(e.top-t.y),i=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,i,r,s)){case s:return"left";case r:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function FO(t,e,n=5){const i=[];switch(e){case"top":i.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":i.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":i.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":i.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return i}function zO(t){const{top:e,right:n,bottom:i,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:i},{x:r,y:i}]}function jO(t,e){const{x:n,y:i}=t;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,d=l.x,f=l.y;u>i!=f>i&&n<(d-c)*(i-u)/(f-u)+c&&(r=!r)}return r}function BO(t){const e=t.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),HO(e)}function HO(t){if(t.length<=1)return t.slice();const e=[];for(let i=0;i<t.length;i++){const r=t[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let i=t.length-1;i>=0;i--){const r=t[i];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var WO=pE,_E=gE;const $O=WO,VO=S.forwardRef(({className:t,sideOffset:e=4,...n},i)=>P.jsx(_E,{ref:i,sideOffset:e,className:Ct("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));VO.displayName=_E.displayName;var tf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nf=typeof window>"u"||"Deno"in globalThis;function kn(){}function UO(t,e){return typeof t=="function"?t(e):t}function YO(t){return typeof t=="number"&&t>=0&&t!==1/0}function KO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Jp(t,e){return typeof t=="function"?t(e):t}function GO(t,e){return typeof t=="function"?t(e):t}function $_(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=t;if(o){if(i){if(e.queryHash!==Qg(o,e.options))return!1}else if(!Sl(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||s&&!s(e))}function V_(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(bl(e.options.mutationKey)!==bl(s))return!1}else if(!Sl(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function Qg(t,e){return((e==null?void 0:e.queryKeyHashFn)||bl)(t)}function bl(t){return JSON.stringify(t,(e,n)=>em(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function Sl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Sl(t[n],e[n])):!1}function wE(t,e){if(t===e)return t;const n=U_(t)&&U_(e);if(n||em(t)&&em(e)){const i=n?t:Object.keys(t),r=i.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},l=new Set(i);let c=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=wE(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return r===o&&c===r?t:a}return e}function U_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function em(t){if(!Y_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Y_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Y_(t){return Object.prototype.toString.call(t)==="[object Object]"}function qO(t){return new Promise(e=>{setTimeout(e,t)})}function QO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?wE(t,e):e}function XO(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function ZO(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var Xg=Symbol();function xE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Xg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var fs,lr,bo,Dx,JO=(Dx=class extends tf{constructor(){super();ge(this,fs);ge(this,lr);ge(this,bo);re(this,bo,e=>{if(!nf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){A(this,lr)||this.setEventListener(A(this,bo))}onUnsubscribe(){var e;this.hasListeners()||((e=A(this,lr))==null||e.call(this),re(this,lr,void 0))}setEventListener(e){var n;re(this,bo,e),(n=A(this,lr))==null||n.call(this),re(this,lr,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){A(this,fs)!==e&&(re(this,fs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof A(this,fs)=="boolean"?A(this,fs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},fs=new WeakMap,lr=new WeakMap,bo=new WeakMap,Dx),bE=new JO,So,cr,Eo,Lx,eD=(Lx=class extends tf{constructor(){super();ge(this,So,!0);ge(this,cr);ge(this,Eo);re(this,Eo,e=>{if(!nf&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){A(this,cr)||this.setEventListener(A(this,Eo))}onUnsubscribe(){var e;this.hasListeners()||((e=A(this,cr))==null||e.call(this),re(this,cr,void 0))}setEventListener(e){var n;re(this,Eo,e),(n=A(this,cr))==null||n.call(this),re(this,cr,e(this.setOnline.bind(this)))}setOnline(e){A(this,So)!==e&&(re(this,So,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return A(this,So)}},So=new WeakMap,cr=new WeakMap,Eo=new WeakMap,Lx),ed=new eD;function tD(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}function nD(t){return Math.min(1e3*2**t,3e4)}function SE(t){return(t??"online")==="online"?ed.isOnline():!0}var EE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function _h(t){return t instanceof EE}function CE(t){let e=!1,n=0,i=!1,r;const s=tD(),o=p=>{var y;i||(f(new EE(p)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>bE.isFocused()&&(t.networkMode==="always"||ed.isOnline())&&t.canRun(),u=()=>SE(t.networkMode)&&t.canRun(),d=p=>{var y;i||(i=!0,(y=t.onSuccess)==null||y.call(t,p),r==null||r(),s.resolve(p))},f=p=>{var y;i||(i=!0,(y=t.onError)==null||y.call(t,p),r==null||r(),s.reject(p))},h=()=>new Promise(p=>{var y;r=g=>{(i||c())&&p(g)},(y=t.onPause)==null||y.call(t)}).then(()=>{var p;r=void 0,i||(p=t.onContinue)==null||p.call(t)}),m=()=>{if(i)return;let p;const y=n===0?t.initialPromise:void 0;try{p=y??t.fn()}catch(g){p=Promise.reject(g)}Promise.resolve(p).then(d).catch(g=>{var T;if(i)return;const v=t.retry??(nf?0:3),_=t.retryDelay??nD,b=typeof _=="function"?_(n,g):_,E=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,g);if(e||!E){f(g);return}n++,(T=t.onFail)==null||T.call(t,n,g),qO(b).then(()=>c()?void 0:h()).then(()=>{e?f(g):m()})})};return{promise:s,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():h().then(m),s)}}var iD=t=>setTimeout(t,0);function rD(){let t=[],e=0,n=a=>{a()},i=a=>{a()},r=iD;const s=a=>{e?t.push(a):r(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&r(()=>{i(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{r=a}}}var Et=rD(),hs,Fx,TE=(Fx=class{constructor(){ge(this,hs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YO(this.gcTime)&&re(this,hs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(nf?1/0:5*60*1e3))}clearGcTimeout(){A(this,hs)&&(clearTimeout(A(this,hs)),re(this,hs,void 0))}},hs=new WeakMap,Fx),Co,ps,fn,ms,ft,Wl,gs,Pn,xi,zx,sD=(zx=class extends TE{constructor(e){super();ge(this,Pn);ge(this,Co);ge(this,ps);ge(this,fn);ge(this,ms);ge(this,ft);ge(this,Wl);ge(this,gs);re(this,gs,!1),re(this,Wl,e.defaultOptions),this.setOptions(e.options),this.observers=[],re(this,ms,e.client),re(this,fn,A(this,ms).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,re(this,Co,aD(this.options)),this.state=e.state??A(this,Co),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=A(this,ft))==null?void 0:e.promise}setOptions(e){this.options={...A(this,Wl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,fn).remove(this)}setData(e,n){const i=QO(this.state.data,e,this.options);return ct(this,Pn,xi).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(e,n){ct(this,Pn,xi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var i,r;const n=(i=A(this,ft))==null?void 0:i.promise;return(r=A(this,ft))==null||r.cancel(e),n?n.then(kn).catch(kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,Co))}isActive(){return this.observers.some(e=>GO(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Jp(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!KO(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=A(this,ft))==null||n.continue()}onOnline(){var n;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=A(this,ft))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),A(this,fn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(A(this,ft)&&(A(this,gs)?A(this,ft).cancel({revert:!0}):A(this,ft).cancelRetry()),this.scheduleGc()),A(this,fn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ct(this,Pn,xi).call(this,{type:"invalidate"})}fetch(e,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(A(this,ft))return A(this,ft).continueRetry(),A(this,ft).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,r=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(re(this,gs,!0),i.signal)})},s=()=>{const f=xE(this.options,n),m=(()=>{const p={client:A(this,ms),queryKey:this.queryKey,meta:this.meta};return r(p),p})();return re(this,gs,!1),this.options.persister?this.options.persister(f,m,this):f(m)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:A(this,ms),state:this.state,fetchFn:s};return r(f),f})();(c=this.options.behavior)==null||c.onFetch(a,this),re(this,ps,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&ct(this,Pn,xi).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,m,p,y;_h(f)&&f.silent||ct(this,Pn,xi).call(this,{type:"error",error:f}),_h(f)||((m=(h=A(this,fn).config).onError)==null||m.call(h,f,this),(y=(p=A(this,fn).config).onSettled)==null||y.call(p,this.state.data,f,this)),this.scheduleGc()};return re(this,ft,CE({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var h,m,p,y;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(m=(h=A(this,fn).config).onSuccess)==null||m.call(h,f,this),(y=(p=A(this,fn).config).onSettled)==null||y.call(p,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{ct(this,Pn,xi).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{ct(this,Pn,xi).call(this,{type:"pause"})},onContinue:()=>{ct(this,Pn,xi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),A(this,ft).start()}},Co=new WeakMap,ps=new WeakMap,fn=new WeakMap,ms=new WeakMap,ft=new WeakMap,Wl=new WeakMap,gs=new WeakMap,Pn=new WeakSet,xi=function(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...oD(i.data,this.options),fetchMeta:e.meta??null};case"success":return re(this,ps,void 0),{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return _h(r)&&r.revert&&A(this,ps)?{...A(this,ps),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),Et.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),A(this,fn).notify({query:this,type:"updated",action:e})})},zx);function oD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function aD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ti,jx,lD=(jx=class extends tf{constructor(e={}){super();ge(this,ti);this.config=e,re(this,ti,new Map)}build(e,n,i){const r=n.queryKey,s=n.queryHash??Qg(r,n);let o=this.get(s);return o||(o=new sD({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){A(this,ti).has(e.queryHash)||(A(this,ti).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=A(this,ti).get(e.queryHash);n&&(e.destroy(),n===e&&A(this,ti).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Et.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return A(this,ti).get(e)}getAll(){return[...A(this,ti).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>$_(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>$_(e,i)):n}notify(e){Et.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ti=new WeakMap,jx),ni,bt,ys,ii,ir,Bx,cD=(Bx=class extends TE{constructor(e){super();ge(this,ii);ge(this,ni);ge(this,bt);ge(this,ys);this.mutationId=e.mutationId,re(this,bt,e.mutationCache),re(this,ni,[]),this.state=e.state||uD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){A(this,ni).includes(e)||(A(this,ni).push(e),this.clearGcTimeout(),A(this,bt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){re(this,ni,A(this,ni).filter(n=>n!==e)),this.scheduleGc(),A(this,bt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){A(this,ni).length||(this.state.status==="pending"?this.scheduleGc():A(this,bt).remove(this))}continue(){var e;return((e=A(this,ys))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,l,c,u,d,f,h,m,p,y,g,v,_,b,E,T,k,I;const n=()=>{ct(this,ii,ir).call(this,{type:"continue"})};re(this,ys,CE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(R,O)=>{ct(this,ii,ir).call(this,{type:"failed",failureCount:R,error:O})},onPause:()=>{ct(this,ii,ir).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,bt).canRun(this)}));const i=this.state.status==="pending",r=!A(this,ys).canStart();try{if(i)n();else{ct(this,ii,ir).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(s=A(this,bt).config).onMutate)==null?void 0:o.call(s,e,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));O!==this.state.context&&ct(this,ii,ir).call(this,{type:"pending",context:O,variables:e,isPaused:r})}const R=await A(this,ys).start();return await((u=(c=A(this,bt).config).onSuccess)==null?void 0:u.call(c,R,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,R,e,this.state.context)),await((m=(h=A(this,bt).config).onSettled)==null?void 0:m.call(h,R,null,this.state.variables,this.state.context,this)),await((y=(p=this.options).onSettled)==null?void 0:y.call(p,R,null,e,this.state.context)),ct(this,ii,ir).call(this,{type:"success",data:R}),R}catch(R){try{throw await((v=(g=A(this,bt).config).onError)==null?void 0:v.call(g,R,e,this.state.context,this)),await((b=(_=this.options).onError)==null?void 0:b.call(_,R,e,this.state.context)),await((T=(E=A(this,bt).config).onSettled)==null?void 0:T.call(E,void 0,R,this.state.variables,this.state.context,this)),await((I=(k=this.options).onSettled)==null?void 0:I.call(k,void 0,R,e,this.state.context)),R}finally{ct(this,ii,ir).call(this,{type:"error",error:R})}}finally{A(this,bt).runNext(this)}}},ni=new WeakMap,bt=new WeakMap,ys=new WeakMap,ii=new WeakSet,ir=function(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Et.batch(()=>{A(this,ni).forEach(i=>{i.onMutationUpdate(e)}),A(this,bt).notify({mutation:this,type:"updated",action:e})})},Bx);function uD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pi,In,$l,Hx,dD=(Hx=class extends tf{constructor(e={}){super();ge(this,Pi);ge(this,In);ge(this,$l);this.config=e,re(this,Pi,new Set),re(this,In,new Map),re(this,$l,0)}build(e,n,i){const r=new cD({mutationCache:this,mutationId:++vc(this,$l)._,options:e.defaultMutationOptions(n),state:i});return this.add(r),r}add(e){A(this,Pi).add(e);const n=Bc(e);if(typeof n=="string"){const i=A(this,In).get(n);i?i.push(e):A(this,In).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(A(this,Pi).delete(e)){const n=Bc(e);if(typeof n=="string"){const i=A(this,In).get(n);if(i)if(i.length>1){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}else i[0]===e&&A(this,In).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Bc(e);if(typeof n=="string"){const i=A(this,In).get(n),r=i==null?void 0:i.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){var i;const n=Bc(e);if(typeof n=="string"){const r=(i=A(this,In).get(n))==null?void 0:i.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Et.batch(()=>{A(this,Pi).forEach(e=>{this.notify({type:"removed",mutation:e})}),A(this,Pi).clear(),A(this,In).clear()})}getAll(){return Array.from(A(this,Pi))}find(e){const n={exact:!0,...e};return this.getAll().find(i=>V_(n,i))}findAll(e={}){return this.getAll().filter(n=>V_(e,n))}notify(e){Et.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Et.batch(()=>Promise.all(e.map(n=>n.continue().catch(kn))))}},Pi=new WeakMap,In=new WeakMap,$l=new WeakMap,Hx);function Bc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function K_(t){return{onFetch:(e,n)=>{var u,d,f,h,m;const i=e.options,r=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((h=e.state.data)==null?void 0:h.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let p=!1;const y=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},g=xE(e.options,e.fetchOptions),v=async(_,b,E)=>{if(p)return Promise.reject();if(b==null&&_.pages.length)return Promise.resolve(_);const k=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:b,direction:E?"backward":"forward",meta:e.options.meta};return y(j),j})(),I=await g(k),{maxPages:R}=e.options,O=E?ZO:XO;return{pages:O(_.pages,I,R),pageParams:O(_.pageParams,b,R)}};if(r&&s.length){const _=r==="backward",b=_?fD:G_,E={pages:s,pageParams:o},T=b(i,E);a=await v(E,T,_)}else{const _=t??s.length;do{const b=l===0?o[0]??i.initialPageParam:G_(i,a);if(l>0&&b==null)break;a=await v(a,b),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var p,y;return(y=(p=e.options).persister)==null?void 0:y.call(p,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function G_(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function fD(t,{pages:e,pageParams:n}){var i;return e.length>0?(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,n[0],n):void 0}var je,ur,dr,To,ko,fr,Po,Io,Wx,hD=(Wx=class{constructor(t={}){ge(this,je);ge(this,ur);ge(this,dr);ge(this,To);ge(this,ko);ge(this,fr);ge(this,Po);ge(this,Io);re(this,je,t.queryCache||new lD),re(this,ur,t.mutationCache||new dD),re(this,dr,t.defaultOptions||{}),re(this,To,new Map),re(this,ko,new Map),re(this,fr,0)}mount(){vc(this,fr)._++,A(this,fr)===1&&(re(this,Po,bE.subscribe(async t=>{t&&(await this.resumePausedMutations(),A(this,je).onFocus())})),re(this,Io,ed.subscribe(async t=>{t&&(await this.resumePausedMutations(),A(this,je).onOnline())})))}unmount(){var t,e;vc(this,fr)._--,A(this,fr)===0&&((t=A(this,Po))==null||t.call(this),re(this,Po,void 0),(e=A(this,Io))==null||e.call(this),re(this,Io,void 0))}isFetching(t){return A(this,je).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return A(this,ur).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=A(this,je).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=A(this,je).build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Jp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return A(this,je).findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),r=A(this,je).get(i.queryHash),s=r==null?void 0:r.state.data,o=UO(e,s);if(o!==void 0)return A(this,je).build(this,i).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Et.batch(()=>A(this,je).findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=A(this,je).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=A(this,je);Et.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=A(this,je);return Et.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=Et.batch(()=>A(this,je).findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(kn).catch(kn)}invalidateQueries(t,e={}){return Et.batch(()=>(A(this,je).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=Et.batch(()=>A(this,je).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(kn)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(kn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=A(this,je).build(this,e);return n.isStaleByTime(Jp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(kn).catch(kn)}fetchInfiniteQuery(t){return t.behavior=K_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(kn).catch(kn)}ensureInfiniteQueryData(t){return t.behavior=K_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ed.isOnline()?A(this,ur).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,je)}getMutationCache(){return A(this,ur)}getDefaultOptions(){return A(this,dr)}setDefaultOptions(t){re(this,dr,t)}setQueryDefaults(t,e){A(this,To).set(bl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...A(this,To).values()],n={};return e.forEach(i=>{Sl(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){A(this,ko).set(bl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...A(this,ko).values()],n={};return e.forEach(i=>{Sl(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...A(this,dr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Qg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Xg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...A(this,dr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){A(this,je).clear(),A(this,ur).clear()}},je=new WeakMap,ur=new WeakMap,dr=new WeakMap,To=new WeakMap,ko=new WeakMap,fr=new WeakMap,Po=new WeakMap,Io=new WeakMap,Wx),pD=S.createContext(void 0),mD=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),P.jsx(pD.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},td.apply(this,arguments)}var mr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mr||(mr={}));const q_="popstate";function gD(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return tm("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:PE(r)}return vD(e,n,null,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yD(){return Math.random().toString(36).substr(2,8)}function Q_(t,e){return{usr:t.state,key:t.key,idx:e}}function tm(t,e,n,i){return n===void 0&&(n=null),td({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rf(e):e,{state:n,key:e&&e.key||i||yD()})}function PE(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function rf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function vD(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=mr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(td({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=mr.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:a,location:p.location,delta:g})}function f(y,g){a=mr.Push;let v=tm(p.location,y,g);c=u()+1;let _=Q_(v,c),b=p.createHref(v);try{o.pushState(_,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(b)}s&&l&&l({action:a,location:p.location,delta:1})}function h(y,g){a=mr.Replace;let v=tm(p.location,y,g);c=u();let _=Q_(v,c),b=p.createHref(v);o.replaceState(_,"",b),s&&l&&l({action:a,location:p.location,delta:0})}function m(y){let g=r.location.origin!=="null"?r.location.origin:r.location.href,v=typeof y=="string"?y:PE(y);return v=v.replace(/ $/,"%20"),$t(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let p={get action(){return a},get location(){return t(r,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(q_,d),l=y,()=>{r.removeEventListener(q_,d),l=null}},createHref(y){return e(r,y)},createURL:m,encodeLocation(y){let g=m(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(y){return o.go(y)}};return p}var X_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(X_||(X_={}));function _D(t,e,n){return n===void 0&&(n="/"),wD(t,e,n)}function wD(t,e,n,i){let r=typeof e=="string"?rf(e):e,s=RE(r.pathname||"/",n);if(s==null)return null;let o=IE(t);xD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=AD(s);a=ND(o[l],c)}return a}function IE(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&($t(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=vo([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&($t(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),IE(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:PD(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of NE(s.path))r(s,o,l)}),e}function NE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=NE(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function xD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ID(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const bD=/^:[\w-]+$/,SD=3,ED=2,CD=1,TD=10,kD=-2,Z_=t=>t==="*";function PD(t,e){let n=t.split("/"),i=n.length;return n.some(Z_)&&(i+=kD),e&&(i+=ED),n.filter(r=>!Z_(r)).reduce((r,s)=>r+(bD.test(s)?SD:s===""?CD:TD),i)}function ID(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function ND(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=RD({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:vo([s,d.pathname]),pathnameBase:OD(vo([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=vo([s,d.pathnameBase]))}return o}function RD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=MD(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=a[d];return h&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function MD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function AD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function RE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const vo=t=>t.join("/").replace(/\/\/+/g,"/"),OD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function DD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ME=["post","put","patch","delete"];new Set(ME);const LD=["get",...ME];new Set(LD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nd.apply(this,arguments)}const FD=S.createContext(null),zD=S.createContext(null),AE=S.createContext(null),sf=S.createContext(null),of=S.createContext({outlet:null,matches:[],isDataRoute:!1}),OE=S.createContext(null);function Zg(){return S.useContext(sf)!=null}function DE(){return Zg()||$t(!1),S.useContext(sf).location}function jD(t,e){return BD(t,e)}function BD(t,e,n,i){Zg()||$t(!1);let{navigator:r}=S.useContext(AE),{matches:s}=S.useContext(of),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=DE(),u;if(e){var d;let y=typeof e=="string"?rf(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||$t(!1),u=y}else u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=_D(t,{pathname:h}),p=UD(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:vo([l,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:vo([l,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,i);return e&&p?S.createElement(sf.Provider,{value:{location:nd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:mr.Pop}},p):p}function HD(){let t=qD(),e=DD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:r},n):null,null)}const WD=S.createElement(HD,null);class $D extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(of.Provider,{value:this.props.routeContext},S.createElement(OE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VD(t){let{routeContext:e,match:n,children:i}=t,r=S.useContext(FD);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(of.Provider,{value:e},i)}function UD(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||$t(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let h,m=!1,p=null,y=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,p=d.route.errorElement||WD,l&&(c<0&&f===0?(QD("route-fallback"),m=!0,y=null):c===f&&(m=!0,y=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),v=()=>{let _;return h?_=p:m?_=y:d.route.Component?_=S.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,S.createElement(VD,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement($D,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var LE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(LE||{});function YD(t){let e=S.useContext(zD);return e||$t(!1),e}function KD(t){let e=S.useContext(of);return e||$t(!1),e}function GD(t){let e=KD(),n=e.matches[e.matches.length-1];return n.route.id||$t(!1),n.route.id}function qD(){var t;let e=S.useContext(OE),n=YD(LE.UseRouteError),i=GD();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}const J_={};function QD(t,e,n){J_[t]||(J_[t]=!0)}function XD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function nm(t){$t(!1)}function ZD(t){let{basename:e="/",children:n=null,location:i,navigationType:r=mr.Pop,navigator:s,static:o=!1,future:a}=t;Zg()&&$t(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:s,static:o,future:nd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=rf(i));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:m="default"}=i,p=S.useMemo(()=>{let y=RE(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:m},navigationType:r}},[l,u,d,f,h,m,r]);return p==null?null:S.createElement(AE.Provider,{value:c},S.createElement(sf.Provider,{children:n,value:p}))}function JD(t){let{children:e,location:n}=t;return jD(im(e),n)}new Promise(()=>{});function im(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(i,r)=>{if(!S.isValidElement(i))return;let s=[...e,r];if(i.type===S.Fragment){n.push.apply(n,im(i.props.children,s));return}i.type!==nm&&$t(!1),!i.props.index||!i.props.children||$t(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=im(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const e2="6";try{window.__reactRouterVersion=e2}catch{}const t2="startTransition",e0=Jx[t2];function n2(t){let{basename:e,children:n,future:i,window:r}=t,s=S.useRef();s.current==null&&(s.current=gD({window:r,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=S.useCallback(d=>{c&&e0?e0(()=>l(d)):l(d)},[l,c]);return S.useLayoutEffect(()=>o.listen(u),[o,u]),S.useEffect(()=>XD(i),[i]),S.createElement(ZD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}var t0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(t0||(t0={}));var n0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(n0||(n0={}));const FE=S.createContext(void 0);function i2({children:t}){const[e,n]=S.useState(()=>localStorage.getItem("theme")||"light");S.useEffect(()=>{const r=document.documentElement;e==="dark"?r.classList.add("dark"):r.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const i=()=>{n(r=>r==="light"?"dark":"light")};return P.jsx(FE.Provider,{value:{theme:e,toggleTheme:i},children:t})}function zE(){const t=S.useContext(FE);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const r2=()=>{};var i0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(t,e){if(!t)throw Zo(e)},Zo=function(t){return new Error("Firebase Database ("+jE.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},s2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Jg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),i.push(n[u],n[d],n[f],n[h])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||d==null)throw new o2;const f=s<<2|a>>4;if(i.push(f),c!==64){const h=a<<4&240|c>>2;if(i.push(h),d!==64){const m=c<<6&192|d;i.push(m)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class o2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HE=function(t){const e=BE(t);return Jg.encodeByteArray(e,!0)},id=function(t){return HE(t).replace(/\./g,"")},rm=function(t){try{return Jg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){return WE(void 0,t)}function WE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!l2(n)||(t[n]=WE(t[n],e[n]));return t}function l2(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=()=>c2().__FIREBASE_DEFAULTS__,d2=()=>{if(typeof process>"u"||typeof i0>"u")return;const t=i0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rm(t[1]);return e&&JSON.parse(e)},$E=()=>{try{return r2()||u2()||d2()||f2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},h2=t=>{var e,n;return(n=(e=$E())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},p2=t=>{const e=h2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},VE=()=>{var t;return(t=$E())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function m2(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[id(JSON.stringify(n)),id(JSON.stringify(o)),""].join(".")}const Va={};function y2(){const t={prod:[],emulator:[]};for(const e of Object.keys(Va))Va[e]?t.emulator.push(e):t.prod.push(e);return t}function v2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let r0=!1;function _2(t,e){if(typeof window>"u"||typeof document>"u"||!ty(window.location.host)||Va[t]===e||Va[t]||r0)return;Va[t]=e;function n(f){return`__firebase__banner__${f}`}const i="__firebase__banner",s=y2().prod.length>0;function o(){const f=document.getElementById(i);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{r0=!0,o()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=v2(i),h=n("text"),m=document.getElementById(h)||document.createElement("span"),p=n("learnmore"),y=document.getElementById(p)||document.createElement("a"),g=n("preprendIcon"),v=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;a(_),u(y,p);const b=c();l(v,g),_.append(v,m,y,b),document.body.appendChild(_)}s?(m.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w2())}function x2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b2(){return jE.NODE_ADMIN===!0}function YE(){try{return typeof indexedDB=="object"}catch{return!1}}function KE(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function S2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="FirebaseError";class Jo extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=E2,Object.setPrototypeOf(this,Jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,af.prototype.create)}}class af{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?C2(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Jo(r,a,i)}}function C2(t,e){return t.replace(T2,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const T2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){return JSON.parse(t)}function Ke(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=El(rm(s[0])||""),n=El(rm(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},k2=function(t){const e=GE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},P2=function(t){const e=GE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function s0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rd(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function sd(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(o0(s)&&o0(o)){if(!sd(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function o0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function qE(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,W(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},lf=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t){return t&&t._delegate?t._delegate:t}class Wi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ey;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O2(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:A2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A2(t){return t===ns?void 0:t}function O2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const L2={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},F2=Ce.INFO,z2={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},j2=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=z2[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class QE{constructor(e){this.name=e,this._logLevel=F2,this._logHandler=j2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const B2=(t,e)=>e.some(n=>t instanceof n);let a0,l0;function H2(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W2(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XE=new WeakMap,sm=new WeakMap,ZE=new WeakMap,wh=new WeakMap,ny=new WeakMap;function $2(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Oi(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XE.set(n,t)}).catch(()=>{}),ny.set(e,t),e}function V2(t){if(sm.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});sm.set(t,e)}let om={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function U2(t){om=t(om)}function Y2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(xh(this),e,...n);return ZE.set(i,e.sort?e.sort():[e]),Oi(i)}:W2().includes(t)?function(...e){return t.apply(xh(this),e),Oi(XE.get(this))}:function(...e){return Oi(t.apply(xh(this),e))}}function K2(t){return typeof t=="function"?Y2(t):(t instanceof IDBTransaction&&V2(t),B2(t,H2())?new Proxy(t,om):t)}function Oi(t){if(t instanceof IDBRequest)return $2(t);if(wh.has(t))return wh.get(t);const e=K2(t);return e!==t&&(wh.set(t,e),ny.set(e,t)),e}const xh=t=>ny.get(t);function cf(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Oi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Oi(o.result),l.oldVersion,l.newVersion,Oi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function bh(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",i=>e(i.oldVersion,i)),Oi(n).then(()=>{})}const G2=["get","getKey","getAll","getAllKeys","count"],q2=["put","add","delete","clear"],Sh=new Map;function c0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sh.get(e))return Sh.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=q2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||G2.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Sh.set(e,s),s}U2(t=>({...t,get:(e,n,i)=>c0(e,n)||t.get(e,n,i),has:(e,n)=>!!c0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function X2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const am="@firebase/app",u0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new QE("@firebase/app"),Z2="@firebase/app-compat",J2="@firebase/analytics-compat",eL="@firebase/analytics",tL="@firebase/app-check-compat",nL="@firebase/app-check",iL="@firebase/auth",rL="@firebase/auth-compat",sL="@firebase/database",oL="@firebase/data-connect",aL="@firebase/database-compat",lL="@firebase/functions",cL="@firebase/functions-compat",uL="@firebase/installations",dL="@firebase/installations-compat",fL="@firebase/messaging",hL="@firebase/messaging-compat",pL="@firebase/performance",mL="@firebase/performance-compat",gL="@firebase/remote-config",yL="@firebase/remote-config-compat",vL="@firebase/storage",_L="@firebase/storage-compat",wL="@firebase/firestore",xL="@firebase/ai",bL="@firebase/firestore-compat",SL="firebase",EL="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",CL={[am]:"fire-core",[Z2]:"fire-core-compat",[eL]:"fire-analytics",[J2]:"fire-analytics-compat",[nL]:"fire-app-check",[tL]:"fire-app-check-compat",[iL]:"fire-auth",[rL]:"fire-auth-compat",[sL]:"fire-rtdb",[oL]:"fire-data-connect",[aL]:"fire-rtdb-compat",[lL]:"fire-fn",[cL]:"fire-fn-compat",[uL]:"fire-iid",[dL]:"fire-iid-compat",[fL]:"fire-fcm",[hL]:"fire-fcm-compat",[pL]:"fire-perf",[mL]:"fire-perf-compat",[gL]:"fire-rc",[yL]:"fire-rc-compat",[vL]:"fire-gcs",[_L]:"fire-gcs-compat",[wL]:"fire-fst",[bL]:"fire-fst-compat",[xL]:"fire-vertex","fire-js":"fire-js",[SL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=new Map,TL=new Map,cm=new Map;function d0(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lr(t){const e=t.name;if(cm.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,t);for(const n of od.values())d0(n,t);for(const n of TL.values())d0(n,t);return!0}function uf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kL(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new af("app","Firebase",PL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=EL;function JE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:lm,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Tr.create("bad-app-name",{appName:String(r)});if(n||(n=VE()),!n)throw Tr.create("no-options");const s=od.get(r);if(s){if(sd(n,s.options)&&sd(i,s.config))return s;throw Tr.create("duplicate-app",{appName:r})}const o=new D2(r);for(const l of cm.values())o.addComponent(l);const a=new IL(n,i,o);return od.set(r,a),a}function eC(t=lm){const e=od.get(t);if(!e&&t===lm&&VE())return JE();if(!e)throw Tr.create("no-app",{appName:t});return e}function ui(t,e,n){let i=CL[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const o=[`Unable to register library "${i}" with version "${e}":`];r&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(o.join(" "));return}Lr(new Wi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="firebase-heartbeat-database",ML=1,Cl="firebase-heartbeat-store";let Eh=null;function tC(){return Eh||(Eh=cf(RL,ML,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),Eh}async function AL(t){try{const n=(await tC()).transaction(Cl),i=await n.objectStore(Cl).get(nC(t));return await n.done,i}catch(e){if(e instanceof Jo)$i.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(n.message)}}}async function f0(t,e){try{const i=(await tC()).transaction(Cl,"readwrite");await i.objectStore(Cl).put(e,nC(t)),await i.done}catch(n){if(n instanceof Jo)$i.warn(n.message);else{const i=Tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(i.message)}}}function nC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=1024,DL=30;class LL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zL(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>DL){const o=jL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$i.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h0(),{heartbeatsToSend:i,unsentEntries:r}=FL(this._heartbeatsCache.heartbeats),s=id(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $i.warn(n),""}}}function h0(){return new Date().toISOString().substring(0,10)}function FL(t,e=OL){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),p0(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),p0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class zL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YE()?KE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return f0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return f0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function p0(t){return id(JSON.stringify({version:2,heartbeats:t})).length}function jL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){Lr(new Wi("platform-logger",e=>new Q2(e),"PRIVATE")),Lr(new Wi("heartbeat",e=>new LL(e),"PRIVATE")),ui(am,u0,t),ui(am,u0,"esm2020"),ui("fire-js","")}BL("");var HL="firebase",WL="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(HL,WL,"app");var m0={};const g0="@firebase/database",y0="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iC="";function $L(t){iC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:El(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Yi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new VL(e)}}catch{}return new UL},ls=rC("localStorage"),YL=rC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new QE("@firebase/database"),KL=function(){let t=1;return function(){return t++}}(),sC=function(t){const e=R2(t),n=new N2;n.update(e);const i=n.digest();return Jg.encodeByteArray(i)},Zl=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Zl.apply(null,i):typeof i=="object"?e+=Ke(i):e+=i,e+=" "}return e};let Ua=null,v0=!0;const GL=function(t,e){W(!0,"Can't turn on custom loggers persistently."),_o.logLevel=Ce.VERBOSE,Ua=_o.log.bind(_o)},mt=function(...t){if(v0===!0&&(v0=!1,Ua===null&&YL.get("logging_enabled")===!0&&GL()),Ua){const e=Zl.apply(null,t);Ua(e)}},Jl=function(t){return function(...e){mt(t,...e)}},um=function(...t){const e="FIREBASE INTERNAL ERROR: "+Zl(...t);_o.error(e)},Vi=function(...t){const e=`FIREBASE FATAL ERROR: ${Zl(...t)}`;throw _o.error(e),new Error(e)},tn=function(...t){const e="FIREBASE WARNING: "+Zl(...t);_o.warn(e)},qL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&tn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},oC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},QL=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Bo="[MIN_NAME]",Ps="[MAX_NAME]",ea=function(t,e){if(t===e)return 0;if(t===Bo||e===Ps)return-1;if(e===Bo||t===Ps)return 1;{const n=_0(t),i=_0(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},XL=function(t,e){return t===e?0:t<e?-1:1},va=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ke(e))},iy=function(t){if(typeof t!="object"||t===null)return Ke(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ke(e[i]),n+=":",n+=iy(t[e[i]]);return n+="}",n},aC=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Vt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const lC=function(t){W(!oC(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},ZL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},JL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function eF(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const tF=new RegExp("^-?(0*)\\d{1,10}$"),nF=-2147483648,iF=2147483647,_0=function(t){if(tF.test(t)){const e=Number(t);if(e>=nF&&e<=iF)return e}return null},ec=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw tn("Exception was thrown by user callback.",n),e},Math.floor(0))}},rF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ya=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,kL(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){tn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tn(e)}}class wu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}wu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="5",cC="v",uC="s",dC="r",fC="f",hC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pC="ls",mC="p",dm="ac",gC="websocket",yC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ls.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ls.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function aF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function _C(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let i;if(e===gC)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===yC)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);aF(t)&&(n.ns=t.namespace);const r=[];return Vt(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(){this.counters_={}}incrementCounter(e,n=1){Yi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return a2(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch={},Th={};function sy(t){const e=t.toString();return Ch[e]||(Ch[e]=new lF),Ch[e]}function cF(t,e){const n=t.toString();return Th[n]||(Th[n]=e()),Th[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&ec(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="start",dF="close",fF="pLPCommand",hF="pRTLPCB",wC="id",xC="pw",bC="ser",pF="cb",mF="seg",gF="ts",yF="d",vF="dframe",SC=1870,EC=30,_F=SC-EC,wF=25e3,xF=3e4;class oo{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Jl(e),this.stats_=sy(n),this.urlFn=l=>(this.appCheckToken&&(l[dm]=this.appCheckToken),_C(n,yC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new uF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(xF)),QL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new oy((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===w0)this.id=a,this.password=l;else if(o===dF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[w0]="t",i[bC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[pF]=this.scriptTagHolder.uniqueCallbackIdentifier),i[cC]=ry,this.transportSessionId&&(i[uC]=this.transportSessionId),this.lastSessionId&&(i[pC]=this.lastSessionId),this.applicationId&&(i[mC]=this.applicationId),this.appCheckToken&&(i[dm]=this.appCheckToken),typeof location<"u"&&location.hostname&&hC.test(location.hostname)&&(i[dC]=fC);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){oo.forceAllow_=!0}static forceDisallow(){oo.forceDisallow_=!0}static isAvailable(){return oo.forceAllow_?!0:!oo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ZL()&&!JL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=HE(n),r=aC(i,_F);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[vF]="t",i[wC]=e,i[xC]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class oy{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=KL(),window[fF+this.uniqueCallbackIdentifier]=e,window[hF+this.uniqueCallbackIdentifier]=n,this.myIFrame=oy.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){mt("frame writing exception"),a.stack&&mt(a.stack),mt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||mt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[wC]=this.myID,e[xC]=this.myPW,e[bC]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+EC+i.length<=SC;){const o=this.pendingSegs.shift();i=i+"&"+mF+r+"="+o.seg+"&"+gF+r+"="+o.ts+"&"+yF+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(wF)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{mt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=16384,SF=45e3;let ad=null;typeof MozWebSocket<"u"?ad=MozWebSocket:typeof WebSocket<"u"&&(ad=WebSocket);class Mn{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Jl(this.connId),this.stats_=sy(n),this.connURL=Mn.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[cC]=ry,typeof location<"u"&&location.hostname&&hC.test(location.hostname)&&(o[dC]=fC),n&&(o[uC]=n),i&&(o[pC]=i),r&&(o[dm]=r),s&&(o[mC]=s),_C(e,gC,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ls.set("previous_websocket_failure",!0);try{let i;b2(),this.mySock=new ad(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Mn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&ad!==null&&!Mn.forceDisallow_}static previouslyFailed(){return ls.isInMemoryStorage||ls.get("previous_websocket_failure")===!0}markConnectionHealthy(){ls.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=El(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=aC(n,bF);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(SF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Mn.responsesRequiredToBeHealthy=2;Mn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static get ALL_TRANSPORTS(){return[oo,Mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Mn&&Mn.isAvailable();let i=n&&!Mn.previouslyFailed();if(e.webSocketOnly&&(n||tn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Mn];else{const r=this.transports_=[];for(const s of Tl.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Tl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Tl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=6e4,CF=5e3,TF=10*1024,kF=100*1024,kh="t",x0="d",PF="s",b0="r",IF="e",S0="o",E0="a",C0="n",T0="p",NF="h";class RF{constructor(e,n,i,r,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Jl("c:"+this.id+":"),this.transportManager_=new Tl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ya(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>kF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>TF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kh in e){const n=e[kh];n===E0?this.upgradeIfSecondaryHealthy_():n===b0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===S0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=va("t",e),i=va("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:T0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:E0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:C0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=va("t",e),i=va("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=va(kh,e);if(x0 in e){const i=e[x0];if(n===NF){const r={...i};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===C0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===PF?this.onConnectionShutdown_(i):n===b0?this.onReset_(i):n===IF?um("Server Error: "+i):n===S0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):um("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ry!==i&&tn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Ya(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(EF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ya(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(CF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:T0,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ls.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){W(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends TC{static getInstance(){return new ld}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!UE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=32,P0=768;class Se{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ye(){return new Se("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Fr(t){return t.pieces_.length-t.pieceNum_}function Te(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Se(t.pieces_,e)}function kC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function MF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function PC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function IC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Se(e,0)}function Ge(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Se)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Se(n,0)}function fe(t){return t.pieceNum_>=t.pieces_.length}function Tt(t,e){const n=de(t),i=de(e);if(n===null)return e;if(n===i)return Tt(Te(t),Te(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ay(t,e){if(Fr(t)!==Fr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function An(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Fr(t)>Fr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class AF{constructor(e,n){this.errorPrefix_=n,this.parts_=PC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=lf(this.parts_[i]);NC(this)}}function OF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=lf(e),NC(t)}function DF(t){const e=t.parts_.pop();t.byteLength_-=lf(e),t.parts_.length>0&&(t.byteLength_-=1)}function NC(t){if(t.byteLength_>P0)throw new Error(t.errorPrefix_+"has a key path longer than "+P0+" bytes ("+t.byteLength_+").");if(t.parts_.length>k0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+k0+") or object contains a cycle "+is(t))}function is(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly extends TC{static getInstance(){return new ly}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=1e3,LF=60*5*1e3,I0=30*1e3,FF=1.3,zF=3e4,jF="server_kill",N0=3;class Di extends CC{constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Di.nextPersistentConnectionId_++,this.log_=Jl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_a,this.maxReconnectDelay_=LF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ly.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ld.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(Ke(s)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new ey,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Di.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Yi(e,"w")){const i=jo(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();tn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||P2(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=I0)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=k2(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):um("Unrecognized action received from server: "+Ke(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_a,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_a,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>zF&&(this.reconnectDelay_=_a),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*FF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Di.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(d){W(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?mt("getToken() completed but was canceled"):(mt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new RF(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,h=>{tn(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(jF)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&tn(d),l())}}}interrupt(e){mt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],s0(this.interruptReasons_)&&(this.reconnectDelay_=_a,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>iy(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Se(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){mt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=N0&&(this.reconnectDelay_=I0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){mt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=N0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+iC.replace(/\./g,"-")]=1,UE()?e["framework.cordova"]=1:x2()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ld.getInstance().currentlyOnline();return s0(this.interruptReasons_)&&e}}Di.nextPersistentConnectionId_=0;Di.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new le(Bo,e),r=new le(Bo,n);return this.compare(i,r)!==0}minPost(){return le.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc;class RC extends df{static get __EMPTY_NODE(){return Hc}static set __EMPTY_NODE(e){Hc=e}compare(e,n){return ea(e.name,n.name)}isDefinedOn(e){throw Zo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return le.MIN}maxPost(){return new le(Ps,Hc)}makePost(e,n){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new le(e,Hc)}toString(){return".key"}}const wo=new RC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class tt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??tt.RED,this.left=r??jt.EMPTY_NODE,this.right=s??jt.EMPTY_NODE}copy(e,n,i,r,s){return new tt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return jt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}tt.RED=!0;tt.BLACK=!1;class BF{copy(e,n,i,r,s){return this}insert(e,n,i){return new tt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class jt{constructor(e,n=jt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new jt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,tt.BLACK,null,null))}remove(e){return new jt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,tt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Wc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Wc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Wc(this.root_,null,this.comparator_,!0,e)}}jt.EMPTY_NODE=new BF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t,e){return ea(t.name,e.name)}function cy(t,e){return ea(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm;function WF(t){fm=t}const MC=function(t){return typeof t=="number"?"number:"+lC(t):"string:"+t},AC=function(t){if(t.isLeafNode()){const e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Yi(e,".sv"),"Priority must be a string or number.")}else W(t===fm||t.isEmpty(),"priority of unexpected type.");W(t===fm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R0;class Je{static set __childrenNodeConstructor(e){R0=e}static get __childrenNodeConstructor(){return R0}constructor(e,n=Je.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),AC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Je(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return fe(e)?this:de(e)===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=de(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(W(i!==".priority"||Fr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Je.__childrenNodeConstructor.EMPTY_NODE.updateChild(Te(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+MC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=lC(this.value_):e+=this.value_,this.lazyHash_=sC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Je.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Je.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Je.VALUE_TYPE_ORDER.indexOf(n),s=Je.VALUE_TYPE_ORDER.indexOf(i);return W(r>=0,"Unknown leaf type: "+n),W(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OC,DC;function $F(t){OC=t}function VF(t){DC=t}class UF extends df{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?ea(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return le.MIN}maxPost(){return new le(Ps,new Je("[PRIORITY-POST]",DC))}makePost(e,n){const i=OC(e);return new le(n,new Je("[PRIORITY-POST]",i))}toString(){return".priority"}}const He=new UF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=Math.log(2);class KF{constructor(e){const n=s=>parseInt(Math.log(s)/YF,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const cd=function(t,e,n,i){t.sort(e);const r=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new tt(f,d.node,tt.BLACK,null,null);{const h=parseInt(u/2,10)+l,m=r(l,h),p=r(h+1,c);return d=t[h],f=n?n(d):d,new tt(f,d.node,tt.BLACK,m,p)}},s=function(l){let c=null,u=null,d=t.length;const f=function(m,p){const y=d-m,g=d;d-=m;const v=r(y+1,g),_=t[y],b=n?n(_):_;h(new tt(b,_.node,p,null,v))},h=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const p=l.nextBitIsOne(),y=Math.pow(2,l.count-(m+1));p?f(y,tt.BLACK):(f(y,tt.BLACK),f(y,tt.RED))}return u},o=new KF(t.length),a=s(o);return new jt(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph;const Ys={};class Mi{static get Default(){return W(Ys&&He,"ChildrenNode.ts has not been loaded"),Ph=Ph||new Mi({".priority":Ys},{".priority":He}),Ph}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=jo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof jt?n:null}hasIndex(e){return Yi(this.indexSet_,e.toString())}addIndex(e,n){W(e!==wo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(le.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=cd(i,e.getCompare()):a=Ys;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=a,new Mi(u,c)}addToIndexes(e,n){const i=rd(this.indexes_,(r,s)=>{const o=jo(this.indexSet_,s);if(W(o,"Missing index implementation for "+s),r===Ys)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(le.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),cd(a,o.getCompare())}else return Ys;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new le(e.name,a))),l.insert(e,e.node)}});return new Mi(i,this.indexSet_)}removeFromIndexes(e,n){const i=rd(this.indexes_,r=>{if(r===Ys)return r;{const s=n.get(e.name);return s?r.remove(new le(e.name,s)):r}});return new Mi(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa;class Z{static get EMPTY_NODE(){return wa||(wa=new Z(new jt(cy),null,Mi.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&AC(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wa}updatePriority(e){return this.children_.isEmpty()?this:new Z(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wa:n}}getChild(e){const n=de(e);return n===null?this:this.getImmediateChild(n).getChild(Te(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new le(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?wa:this.priorityNode_;return new Z(r,o,s)}}updateChild(e,n){const i=de(e);if(i===null)return n;{W(de(e)!==".priority"||Fr(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Te(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(He,(o,a)=>{n[o]=a.val(e),i++,s&&Z.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+MC(this.getPriority().val())+":"),this.forEachChild(He,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":sC(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new le(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new le(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,le.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,le.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===tc?-1:0}withIndex(e){if(e===wo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Z(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===wo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(He),r=n.getIterator(He);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===wo?null:this.indexMap_.get(e.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class GF extends Z{constructor(){super(new jt(cy),Z.EMPTY_NODE,Mi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Z.EMPTY_NODE}isEmpty(){return!1}}const tc=new GF;Object.defineProperties(le,{MIN:{value:new le(Bo,Z.EMPTY_NODE)},MAX:{value:new le(Ps,tc)}});RC.__EMPTY_NODE=Z.EMPTY_NODE;Je.__childrenNodeConstructor=Z;WF(tc);VF(tc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=!0;function ot(t,e=null){if(t===null)return Z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Je(n,ot(e))}if(!(t instanceof Array)&&qF){const n=[];let i=!1;if(Vt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ot(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new le(o,l)))}}),n.length===0)return Z.EMPTY_NODE;const s=cd(n,HF,o=>o.name,cy);if(i){const o=cd(n,He.getCompare());return new Z(s,ot(e),new Mi({".priority":o},{".priority":He}))}else return new Z(s,ot(e),Mi.Default)}else{let n=Z.EMPTY_NODE;return Vt(t,(i,r)=>{if(Yi(t,i)&&i.substring(0,1)!=="."){const s=ot(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(ot(e))}}$F(ot);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF extends df{constructor(e){super(),this.indexPath_=e,W(!fe(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?ea(e.name,n.name):s}makePost(e,n){const i=ot(e),r=Z.EMPTY_NODE.updateChild(this.indexPath_,i);return new le(n,r)}maxPost(){const e=Z.EMPTY_NODE.updateChild(this.indexPath_,tc);return new le(Ps,e)}toString(){return PC(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF extends df{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ea(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(e,n){const i=ot(e);return new le(n,i)}toString(){return".value"}}const ZF=new XF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){return{type:"value",snapshotNode:t}}function Ho(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function kl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Pl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function JF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(kl(n,a)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ho(n,i)):o.trackChildChange(Pl(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(He,(r,s)=>{n.hasChild(r)||i.trackChildChange(kl(r,s))}),n.isLeafNode()||n.forEachChild(He,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(Pl(r,s,o))}else i.trackChildChange(Ho(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.indexedFilter_=new uy(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Il.getStartPost_(e),this.endPost_=Il.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new le(n,i))||(i=Z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Z.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(Z.EMPTY_NODE);const s=this;return n.forEachChild(He,(o,a)=>{s.matches(new le(o,a))||(r=r.updateImmediateChild(o,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Il(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new le(n,i))||(i=Z.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=Z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(Z.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;W(a.numChildren()===this.limit_,"");const l=new le(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=r.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!i.isEmpty()&&h>=0)return s!=null&&s.trackChildChange(Pl(n,i,d)),a.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(kl(n,d));const p=a.updateImmediateChild(n,Z.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Ho(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}}else return i.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(kl(c.name,c.node)),s.trackChildChange(Ho(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,Z.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bo}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new dy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function t4(t){return t.loadsAllData()?new uy(t.getIndex()):t.hasLimit()?new e4(t):new Il(t)}function M0(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===ZF?n="$value":t.index_===wo?n="$key":(W(t.index_ instanceof QF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ke(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ke(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ke(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ke(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function A0(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends CC{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Jl("p:rest:"),this.listens_={}}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ud.getListenId_(e,i),a={};this.listens_[o]=a;const l=M0(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,i),jo(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",r(f,null)}})}unlisten(e,n){const i=ud.getListenId_(e,n);delete this.listens_[i]}get(e){const n=M0(e._queryParams),i=e._path.toString(),r=new ey;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+I2(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=El(a.responseText)}catch{tn("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&tn("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(){return{value:null,children:new Map}}function FC(t,e,n){if(fe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=de(e);t.children.has(i)||t.children.set(i,dd());const r=t.children.get(i);e=Te(e),FC(r,e,n)}}function hm(t,e,n){t.value!==null?n(e,t.value):i4(t,(i,r)=>{const s=new Se(e.toString()+"/"+i);hm(r,s,n)})}function i4(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Vt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=10*1e3,s4=30*1e3,o4=5*60*1e3;class a4{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new r4(e);const i=O0+(s4-O0)*Math.random();Ya(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Vt(e,(r,s)=>{s>0&&Yi(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Ya(this.reportStats_.bind(this),Math.floor(Math.random()*2*o4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(On||(On={}));function zC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hy(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=On.ACK_USER_WRITE,this.source=zC()}operationForChild(e){if(fe(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Se(e));return new fd(ye(),n,this.revert)}}else return W(de(this.path)===e,"operationForChild called for unrelated child."),new fd(Te(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.source=e,this.path=n,this.type=On.LISTEN_COMPLETE}operationForChild(e){return fe(this.path)?new Nl(this.source,ye()):new Nl(this.source,Te(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=On.OVERWRITE}operationForChild(e){return fe(this.path)?new Is(this.source,ye(),this.snap.getImmediateChild(e)):new Is(this.source,Te(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=On.MERGE}operationForChild(e){if(fe(this.path)){const n=this.children.subtree(new Se(e));return n.isEmpty()?null:n.value?new Is(this.source,ye(),n.value):new Rl(this.source,ye(),n)}else return W(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Rl(this.source,Te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(fe(e))return this.isFullyInitialized()&&!this.filtered_;const n=de(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function c4(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(JF(o.childName,o.snapshotNode))}),xa(t,r,"child_removed",e,i,n),xa(t,r,"child_added",e,i,n),xa(t,r,"child_moved",s,i,n),xa(t,r,"child_changed",e,i,n),xa(t,r,"value",e,i,n),r}function xa(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>d4(t,a,l)),o.forEach(a=>{const l=u4(t,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function u4(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function d4(t,e,n){if(e.childName==null||n.childName==null)throw Zo("Should only compare child_ events.");const i=new le(e.childName,e.snapshotNode),r=new le(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t,e){return{eventCache:t,serverCache:e}}function Ka(t,e,n,i){return ff(new zr(e,n,i),t.serverCache)}function jC(t,e,n,i){return ff(t.eventCache,new zr(e,n,i))}function hd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ns(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih;const f4=()=>(Ih||(Ih=new jt(XL)),Ih);class Re{static fromObject(e){let n=new Re(null);return Vt(e,(i,r)=>{n=n.set(new Se(i),r)}),n}constructor(e,n=f4()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ye(),value:this.value};if(fe(e))return null;{const i=de(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Te(e),n);return s!=null?{path:Ge(new Se(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(fe(e))return this;{const n=de(e),i=this.children.get(n);return i!==null?i.subtree(Te(e)):new Re(null)}}set(e,n){if(fe(e))return new Re(n,this.children);{const i=de(e),s=(this.children.get(i)||new Re(null)).set(Te(e),n),o=this.children.insert(i,s);return new Re(this.value,o)}}remove(e){if(fe(e))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const n=de(e),i=this.children.get(n);if(i){const r=i.remove(Te(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new Re(null):new Re(this.value,s)}else return this}}get(e){if(fe(e))return this.value;{const n=de(e),i=this.children.get(n);return i?i.get(Te(e)):null}}setTree(e,n){if(fe(e))return n;{const i=de(e),s=(this.children.get(i)||new Re(null)).setTree(Te(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new Re(this.value,o)}}fold(e){return this.fold_(ye(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ge(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,ye(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(fe(e))return null;{const s=de(e),o=this.children.get(s);return o?o.findOnPath_(Te(e),Ge(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ye(),n)}foreachOnPath_(e,n,i){if(fe(e))return this;{this.value&&i(n,this.value);const r=de(e),s=this.children.get(r);return s?s.foreachOnPath_(Te(e),Ge(n,r),i):new Re(null)}}foreach(e){this.foreach_(ye(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Ge(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.writeTree_=e}static empty(){return new zn(new Re(null))}}function Ga(t,e,n){if(fe(e))return new zn(new Re(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=Tt(r,e);return s=s.updateChild(o,n),new zn(t.writeTree_.set(r,s))}else{const r=new Re(n),s=t.writeTree_.setTree(e,r);return new zn(s)}}}function D0(t,e,n){let i=t;return Vt(n,(r,s)=>{i=Ga(i,Ge(e,r),s)}),i}function L0(t,e){if(fe(e))return zn.empty();{const n=t.writeTree_.setTree(e,new Re(null));return new zn(n)}}function pm(t,e){return Ls(t,e)!=null}function Ls(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Tt(n.path,e)):null}function F0(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(i,r)=>{e.push(new le(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new le(i,r.value))}),e}function kr(t,e){if(fe(e))return t;{const n=Ls(t,e);return n!=null?new zn(new Re(n)):new zn(t.writeTree_.subtree(e))}}function mm(t){return t.writeTree_.isEmpty()}function Wo(t,e){return BC(ye(),t.writeTree_,e)}function BC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(W(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=BC(Ge(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Ge(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e){return VC(e,t)}function h4(t,e,n,i,r){W(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Ga(t.visibleWrites,e,n)),t.lastWriteId=i}function p4(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function m4(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);W(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&g4(a,i.path)?r=!1:An(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return y4(t),!0;if(i.snap)t.visibleWrites=L0(t.visibleWrites,i.path);else{const a=i.children;Vt(a,l=>{t.visibleWrites=L0(t.visibleWrites,Ge(i.path,l))})}return!0}else return!1}function g4(t,e){if(t.snap)return An(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&An(Ge(t.path,n),e))return!0;return!1}function y4(t){t.visibleWrites=HC(t.allWrites,v4,ye()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function v4(t){return t.visible}function HC(t,e,n){let i=zn.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)An(n,o)?(a=Tt(n,o),i=Ga(i,a,s.snap)):An(o,n)&&(a=Tt(o,n),i=Ga(i,ye(),s.snap.getChild(a)));else if(s.children){if(An(n,o))a=Tt(n,o),i=D0(i,a,s.children);else if(An(o,n))if(a=Tt(o,n),fe(a))i=D0(i,ye(),s.children);else{const l=jo(s.children,de(a));if(l){const c=l.getChild(Te(a));i=Ga(i,ye(),c)}}}else throw Zo("WriteRecord should have .snap or .children")}}return i}function WC(t,e,n,i,r){if(!i&&!r){const s=Ls(t.visibleWrites,e);if(s!=null)return s;{const o=kr(t.visibleWrites,e);if(mm(o))return n;if(n==null&&!pm(o,ye()))return null;{const a=n||Z.EMPTY_NODE;return Wo(o,a)}}}else{const s=kr(t.visibleWrites,e);if(!r&&mm(s))return n;if(!r&&n==null&&!pm(s,ye()))return null;{const o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(An(c.path,e)||An(e,c.path))},a=HC(t.allWrites,o,e),l=n||Z.EMPTY_NODE;return Wo(a,l)}}}function _4(t,e,n){let i=Z.EMPTY_NODE;const r=Ls(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(He,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=kr(t.visibleWrites,e);return n.forEachChild(He,(o,a)=>{const l=Wo(kr(s,new Se(o)),a);i=i.updateImmediateChild(o,l)}),F0(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=kr(t.visibleWrites,e);return F0(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function w4(t,e,n,i,r){W(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ge(e,n);if(pm(t.visibleWrites,s))return null;{const o=kr(t.visibleWrites,s);return mm(o)?r.getChild(n):Wo(o,r.getChild(n))}}function x4(t,e,n,i){const r=Ge(e,n),s=Ls(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=kr(t.visibleWrites,r);return Wo(o,i.getNode().getImmediateChild(n))}else return null}function b4(t,e){return Ls(t.visibleWrites,e)}function S4(t,e,n,i,r,s,o){let a;const l=kr(t.visibleWrites,e),c=Ls(l,ye());if(c!=null)a=c;else if(n!=null)a=Wo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let h=f.getNext();for(;h&&u.length<r;)d(h,i)!==0&&u.push(h),h=f.getNext();return u}else return[]}function E4(){return{visibleWrites:zn.empty(),allWrites:[],lastWriteId:-1}}function pd(t,e,n,i){return WC(t.writeTree,t.treePath,e,n,i)}function py(t,e){return _4(t.writeTree,t.treePath,e)}function z0(t,e,n,i){return w4(t.writeTree,t.treePath,e,n,i)}function md(t,e){return b4(t.writeTree,Ge(t.treePath,e))}function C4(t,e,n,i,r,s){return S4(t.writeTree,t.treePath,e,n,i,r,s)}function my(t,e,n){return x4(t.writeTree,t.treePath,e,n)}function $C(t,e){return VC(Ge(t.treePath,e),t.writeTree)}function VC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Pl(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,kl(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,Ho(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Pl(i,e.snapshotNode,r.oldSnap));else throw Zo("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const UC=new k4;class gy{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new zr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return my(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ns(this.viewCache_),s=C4(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t){return{filter:t}}function I4(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function N4(t,e,n,i,r){const s=new T4;let o,a;if(n.type===On.OVERWRITE){const c=n;c.source.fromUser?o=gm(t,e,c.path,c.snap,i,r,s):(W(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!fe(c.path),o=gd(t,e,c.path,c.snap,i,r,a,s))}else if(n.type===On.MERGE){const c=n;c.source.fromUser?o=M4(t,e,c.path,c.children,i,r,s):(W(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=ym(t,e,c.path,c.children,i,r,a,s))}else if(n.type===On.ACK_USER_WRITE){const c=n;c.revert?o=D4(t,e,c.path,i,r,s):o=A4(t,e,c.path,c.affectedTree,i,r,s)}else if(n.type===On.LISTEN_COMPLETE)o=O4(t,e,n.path,i,s);else throw Zo("Unknown operation type: "+n.type);const l=s.getChanges();return R4(e,o,l),{viewCache:o,changes:l}}function R4(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=hd(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(LC(hd(e)))}}function YC(t,e,n,i,r,s){const o=e.eventCache;if(md(i,n)!=null)return e;{let a,l;if(fe(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ns(e),u=c instanceof Z?c:Z.EMPTY_NODE,d=py(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=pd(i,Ns(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=de(n);if(c===".priority"){W(Fr(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=z0(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Te(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=z0(i,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=my(i,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,r,s):a=o.getNode()}}return Ka(e,a,o.isFullyInitialized()||fe(n),t.filter.filtersNodes())}}function gd(t,e,n,i,r,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(fe(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),h,null)}else{const h=de(n);if(!l.isCompleteForPath(n)&&Fr(n)>1)return e;const m=Te(n),y=l.getNode().getImmediateChild(h).updateChild(m,i);h===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),h,y,m,UC,null)}const d=jC(e,c,l.isFullyInitialized()||fe(n),u.filtersNodes()),f=new gy(r,d,s);return YC(t,d,n,r,f,a)}function gm(t,e,n,i,r,s,o){const a=e.eventCache;let l,c;const u=new gy(r,e,s);if(fe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Ka(e,c,!0,t.filter.filtersNodes());else{const d=de(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Ka(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Te(n),h=a.getNode().getImmediateChild(d);let m;if(fe(f))m=i;else{const p=u.getCompleteChild(d);p!=null?kC(f)===".priority"&&p.getChild(IC(f)).isEmpty()?m=p:m=p.updateChild(f,i):m=Z.EMPTY_NODE}if(h.equals(m))l=e;else{const p=t.filter.updateChild(a.getNode(),d,m,f,u,o);l=Ka(e,p,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function j0(t,e){return t.eventCache.isCompleteForChild(e)}function M4(t,e,n,i,r,s,o){let a=e;return i.foreach((l,c)=>{const u=Ge(n,l);j0(e,de(u))&&(a=gm(t,a,u,c,r,s,o))}),i.foreach((l,c)=>{const u=Ge(n,l);j0(e,de(u))||(a=gm(t,a,u,c,r,s,o))}),a}function B0(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function ym(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;fe(n)?c=i:c=new Re(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),m=B0(t,h,f);l=gd(t,l,new Se(d),m,r,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const m=e.serverCache.getNode().getImmediateChild(d),p=B0(t,m,f);l=gd(t,l,new Se(d),p,r,s,o,a)}}),l}function A4(t,e,n,i,r,s,o){if(md(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(fe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return gd(t,e,n,l.getNode().getChild(n),r,s,a,o);if(fe(n)){let c=new Re(null);return l.getNode().forEachChild(wo,(u,d)=>{c=c.set(new Se(u),d)}),ym(t,e,n,c,r,s,a,o)}else return e}else{let c=new Re(null);return i.foreach((u,d)=>{const f=Ge(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),ym(t,e,n,c,r,s,a,o)}}function O4(t,e,n,i,r){const s=e.serverCache,o=jC(e,s.getNode(),s.isFullyInitialized()||fe(n),s.isFiltered());return YC(t,o,n,i,UC,r)}function D4(t,e,n,i,r,s){let o;if(md(i,n)!=null)return e;{const a=new gy(i,e,r),l=e.eventCache.getNode();let c;if(fe(n)||de(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=pd(i,Ns(e));else{const d=e.serverCache.getNode();W(d instanceof Z,"serverChildren would be complete if leaf node"),u=py(i,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=de(n);let d=my(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Te(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Z.EMPTY_NODE,Te(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=pd(i,Ns(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||md(i,ye())!=null,Ka(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new uy(i.getIndex()),s=t4(i);this.processor_=P4(s);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(Z.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Z.EMPTY_NODE,a.getNode(),null),u=new zr(l,o.isFullyInitialized(),r.filtersNodes()),d=new zr(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=ff(d,u),this.eventGenerator_=new l4(this.query_)}get query(){return this.query_}}function F4(t){return t.viewCache_.serverCache.getNode()}function z4(t){return hd(t.viewCache_)}function j4(t,e){const n=Ns(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!fe(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function H0(t){return t.eventRegistrations_.length===0}function B4(t,e){t.eventRegistrations_.push(e)}function W0(t,e,n){const i=[];if(n){W(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function $0(t,e,n,i){e.type===On.MERGE&&e.source.queryId!==null&&(W(Ns(t.viewCache_),"We should always have a full cache before handling merges"),W(hd(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=N4(t.processor_,r,e,n,i);return I4(t.processor_,s.viewCache),W(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,KC(t,s.changes,s.viewCache.eventCache.getNode(),null)}function H4(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(s,o)=>{i.push(Ho(s,o))}),n.isFullyInitialized()&&i.push(LC(n.getNode())),KC(t,i,n.getNode(),e)}function KC(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return c4(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd;class GC{constructor(){this.views=new Map}}function W4(t){W(!yd,"__referenceConstructor has already been defined"),yd=t}function $4(){return W(yd,"Reference.ts has not been loaded"),yd}function V4(t){return t.views.size===0}function yy(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return W(s!=null,"SyncTree gave us an op for an invalid query."),$0(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat($0(o,e,n,i));return s}}function qC(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=pd(n,r?i:null),l=!1;a?l=!0:i instanceof Z?(a=py(n,i),l=!1):(a=Z.EMPTY_NODE,l=!1);const c=ff(new zr(a,l,!1),new zr(i,r,!1));return new L4(e,c)}return o}function U4(t,e,n,i,r,s){const o=qC(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),B4(o,n),H4(o,n)}function Y4(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=jr(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(W0(c,n,i)),H0(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(W0(l,n,i)),H0(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!jr(t)&&s.push(new($4())(e._repo,e._path)),{removed:s,events:o}}function QC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Pr(t,e){let n=null;for(const i of t.views.values())n=n||j4(i,e);return n}function XC(t,e){if(e._queryParams.loadsAllData())return pf(t);{const i=e._queryIdentifier;return t.views.get(i)}}function ZC(t,e){return XC(t,e)!=null}function jr(t){return pf(t)!=null}function pf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;function K4(t){W(!vd,"__referenceConstructor has already been defined"),vd=t}function G4(){return W(vd,"Reference.ts has not been loaded"),vd}let q4=1;class V0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Re(null),this.pendingWriteTree_=E4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Q4(t,e,n,i,r){return h4(t.pendingWriteTree_,e,n,i,r),r?ic(t,new Is(zC(),e,n)):[]}function ao(t,e,n=!1){const i=p4(t.pendingWriteTree_,e);if(m4(t.pendingWriteTree_,e)){let s=new Re(null);return i.snap!=null?s=s.set(ye(),!0):Vt(i.children,o=>{s=s.set(new Se(o),!0)}),ic(t,new fd(i.path,s,n))}else return[]}function nc(t,e,n){return ic(t,new Is(fy(),e,n))}function X4(t,e,n){const i=Re.fromObject(n);return ic(t,new Rl(fy(),e,i))}function Z4(t,e){return ic(t,new Nl(fy(),e))}function J4(t,e,n){const i=vy(t,n);if(i){const r=_y(i),s=r.path,o=r.queryId,a=Tt(s,e),l=new Nl(hy(o),a);return wy(t,s,l)}else return[]}function _d(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||ZC(o,e))){const l=Y4(o,e,n,i);V4(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!r){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,h)=>jr(h));if(u&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=n3(f);for(let m=0;m<h.length;++m){const p=h[m],y=p.query,g=iT(t,p);t.listenProvider_.startListening(qa(y),Ml(t,y),g.hashFn,g.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(qa(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(mf(f));t.listenProvider_.stopListening(qa(f),h)}))}i3(t,c)}return a}function JC(t,e,n,i){const r=vy(t,i);if(r!=null){const s=_y(r),o=s.path,a=s.queryId,l=Tt(o,e),c=new Is(hy(a),l,n);return wy(t,o,c)}else return[]}function e3(t,e,n,i){const r=vy(t,i);if(r){const s=_y(r),o=s.path,a=s.queryId,l=Tt(o,e),c=Re.fromObject(n),u=new Rl(hy(a),l,c);return wy(t,o,u)}else return[]}function vm(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(f,h)=>{const m=Tt(f,r);s=s||Pr(h,m),o=o||jr(h)});let a=t.syncPointTree_.get(r);a?(o=o||jr(a),s=s||Pr(a,ye())):(a=new GC,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=Z.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((h,m)=>{const p=Pr(m,ye());p&&(s=s.updateImmediateChild(h,p))}));const c=ZC(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=mf(e);W(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=r3();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=hf(t.pendingWriteTree_,r);let d=U4(a,e,n,u,s,l);if(!c&&!o&&!i){const f=XC(a,e);d=d.concat(s3(t,e,f))}return d}function eT(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Tt(o,e),c=Pr(a,l);if(c)return c});return WC(r,e,s,n,!0)}function t3(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=Tt(c,n);i=i||Pr(u,d)});let r=t.syncPointTree_.get(n);r?i=i||Pr(r,ye()):(r=new GC,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=i!=null,o=s?new zr(i,!0,!1):null,a=hf(t.pendingWriteTree_,e._path),l=qC(r,e,a,s?o.getNode():Z.EMPTY_NODE,s);return z4(l)}function ic(t,e){return tT(e,t.syncPointTree_,null,hf(t.pendingWriteTree_,ye()))}function tT(t,e,n,i){if(fe(t.path))return nT(t,e,n,i);{const r=e.get(ye());n==null&&r!=null&&(n=Pr(r,ye()));let s=[];const o=de(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=$C(i,o);s=s.concat(tT(a,l,c,u))}return r&&(s=s.concat(yy(r,t,i,n))),s}}function nT(t,e,n,i){const r=e.get(ye());n==null&&r!=null&&(n=Pr(r,ye()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=$C(i,o),u=t.operationForChild(o);u&&(s=s.concat(nT(u,a,l,c)))}),r&&(s=s.concat(yy(r,t,i,n))),s}function iT(t,e){const n=e.query,i=Ml(t,n);return{hashFn:()=>(F4(e)||Z.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?J4(t,n._path,i):Z4(t,n._path);{const s=eF(r,n);return _d(t,n,null,s)}}}}function Ml(t,e){const n=mf(e);return t.queryToTagMap.get(n)}function mf(t){return t._path.toString()+"$"+t._queryIdentifier}function vy(t,e){return t.tagToQueryMap.get(e)}function _y(t){const e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Se(t.substr(0,e))}}function wy(t,e,n){const i=t.syncPointTree_.get(e);W(i,"Missing sync point for query tag that we're tracking");const r=hf(t.pendingWriteTree_,e);return yy(i,n,r,null)}function n3(t){return t.fold((e,n,i)=>{if(n&&jr(n))return[pf(n)];{let r=[];return n&&(r=QC(n)),Vt(i,(s,o)=>{r=r.concat(o)}),r}})}function qa(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(G4())(t._repo,t._path):t}function i3(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=mf(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function r3(){return q4++}function s3(t,e,n){const i=e._path,r=Ml(t,e),s=iT(t,n),o=t.listenProvider_.startListening(qa(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)W(!jr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!fe(c)&&u&&jr(u))return[pf(u).query];{let f=[];return u&&(f=f.concat(QC(u).map(h=>h.query))),Vt(d,(h,m)=>{f=f.concat(m)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(qa(u),Ml(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new xy(n)}node(){return this.node_}}class by{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ge(this.path_,e);return new by(this.syncTree_,n)}node(){return eT(this.syncTree_,this.path_)}}const o3=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},U0=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return a3(t[".sv"],e,n);if(typeof t[".sv"]=="object")return l3(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},a3=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},l3=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&W(!1,"Unexpected increment value: "+i);const r=e.node();if(W(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},c3=function(t,e,n,i){return Sy(e,new by(n,t),i)},u3=function(t,e,n){return Sy(t,new xy(e),n)};function Sy(t,e,n){const i=t.getPriority().val(),r=U0(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=U0(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new Je(a,ot(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Je(r))),o.forEachChild(He,(a,l)=>{const c=Sy(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Cy(t,e){let n=e instanceof Se?e:new Se(e),i=t,r=de(n);for(;r!==null;){const s=jo(i.node.children,r)||{children:{},childCount:0};i=new Ey(r,i,s),n=Te(n),r=de(n)}return i}function ta(t){return t.node.value}function rT(t,e){t.node.value=e,_m(t)}function sT(t){return t.node.childCount>0}function d3(t){return ta(t)===void 0&&!sT(t)}function gf(t,e){Vt(t.node.children,(n,i)=>{e(new Ey(n,t,i))})}function oT(t,e,n,i){n&&e(t),gf(t,r=>{oT(r,e,!0)})}function f3(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function rc(t){return new Se(t.parent===null?t.name:rc(t.parent)+"/"+t.name)}function _m(t){t.parent!==null&&h3(t.parent,t.name,t)}function h3(t,e,n){const i=d3(n),r=Yi(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,_m(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,_m(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=/[\[\].#$\/\u0000-\u001F\u007F]/,m3=/[\[\].#$\u0000-\u001F\u007F]/,Nh=10*1024*1024,aT=function(t){return typeof t=="string"&&t.length!==0&&!p3.test(t)},lT=function(t){return typeof t=="string"&&t.length!==0&&!m3.test(t)},g3=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),lT(t)},cT=function(t,e,n){const i=n instanceof Se?new AF(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+is(i));if(typeof e=="function")throw new Error(t+"contains a function "+is(i)+" with contents = "+e.toString());if(oC(e))throw new Error(t+"contains "+e.toString()+" "+is(i));if(typeof e=="string"&&e.length>Nh/3&&lf(e)>Nh)throw new Error(t+"contains a string greater than "+Nh+" utf8 bytes "+is(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Vt(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!aT(o)))throw new Error(t+" contains an invalid key ("+o+") "+is(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OF(i,o),cT(t,a,i),DF(i)}),r&&s)throw new Error(t+' contains ".value" child '+is(i)+" in addition to actual children.")}},uT=function(t,e,n,i){if(!lT(n))throw new Error(qE(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},y3=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),uT(t,e,n)},v3=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!aT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!g3(n))throw new Error(qE(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dT(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!ay(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function fT(t,e,n){dT(t,n),hT(t,i=>ay(i,e))}function Kr(t,e,n){dT(t,n),hT(t,i=>An(i,e)||An(e,i))}function hT(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(w3(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function w3(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Ua&&mt("event: "+n.toString()),ec(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="repo_interrupt",b3=25;class S3{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dd(),this.transactionQueueTree_=new Ey,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function E3(t,e,n){if(t.stats_=sy(t.repoInfo_),t.forceRestClient_||rF())t.server_=new ud(t.repoInfo_,(i,r,s,o)=>{Y0(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>K0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Di(t.repoInfo_,e,(i,r,s,o)=>{Y0(t,i,r,s,o)},i=>{K0(t,i)},i=>{T3(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=cF(t.repoInfo_,()=>new a4(t.stats_,t.server_)),t.infoData_=new n4,t.infoSyncTree_=new V0({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=nc(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Ty(t,"connected",!1),t.serverSyncTree_=new V0({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);Kr(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function C3(t){const n=t.infoData_.getNode(new Se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function pT(t){return o3({timestamp:C3(t)})}function Y0(t,e,n,i,r){t.dataUpdateCount++;const s=new Se(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=rd(n,c=>ot(c));o=e3(t.serverSyncTree_,s,l,r)}else{const l=ot(n);o=JC(t.serverSyncTree_,s,l,r)}else if(i){const l=rd(n,c=>ot(c));o=X4(t.serverSyncTree_,s,l)}else{const l=ot(n);o=nc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Iy(t,s)),Kr(t.eventQueue_,a,o)}function K0(t,e){Ty(t,"connected",e),e===!1&&I3(t)}function T3(t,e){Vt(e,(n,i)=>{Ty(t,n,i)})}function Ty(t,e,n){const i=new Se("/.info/"+e),r=ot(n);t.infoData_.updateSnapshot(i,r);const s=nc(t.infoSyncTree_,i,r);Kr(t.eventQueue_,i,s)}function k3(t){return t.nextWriteId_++}function P3(t,e,n){const i=t3(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const s=ot(r).withIndex(e._queryParams.getIndex());vm(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=nc(t.serverSyncTree_,e._path,s);else{const a=Ml(t.serverSyncTree_,e);o=JC(t.serverSyncTree_,e._path,s,a)}return Kr(t.eventQueue_,e._path,o),_d(t.serverSyncTree_,e,n,null,!0),s},r=>(ky(t,"get for query "+Ke(e)+" failed: "+r),Promise.reject(new Error(r))))}function I3(t){ky(t,"onDisconnectEvents");const e=pT(t),n=dd();hm(t.onDisconnect_,ye(),(r,s)=>{const o=c3(r,s,t.serverSyncTree_,e);FC(n,r,o)});let i=[];hm(n,ye(),(r,s)=>{i=i.concat(nc(t.serverSyncTree_,r,s));const o=O3(t,r);Iy(t,o)}),t.onDisconnect_=dd(),Kr(t.eventQueue_,ye(),i)}function N3(t,e,n){let i;de(e._path)===".info"?i=vm(t.infoSyncTree_,e,n):i=vm(t.serverSyncTree_,e,n),fT(t.eventQueue_,e._path,i)}function G0(t,e,n){let i;de(e._path)===".info"?i=_d(t.infoSyncTree_,e,n):i=_d(t.serverSyncTree_,e,n),fT(t.eventQueue_,e._path,i)}function R3(t){t.persistentConnection_&&t.persistentConnection_.interrupt(x3)}function ky(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),mt(n,...e)}function mT(t,e,n){return eT(t.serverSyncTree_,e,n)||Z.EMPTY_NODE}function Py(t,e=t.transactionQueueTree_){if(e||yf(t,e),ta(e)){const n=yT(t,e);W(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&M3(t,rc(e),n)}else sT(e)&&gf(e,n=>{Py(t,n)})}function M3(t,e,n){const i=n.map(c=>c.currentWriteId),r=mT(t,e,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const u=n[c];W(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Tt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{ky(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ao(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();yf(t,Cy(t.transactionQueueTree_,e)),Py(t,t.transactionQueueTree_),Kr(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)ec(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{tn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Iy(t,e)}},o)}function Iy(t,e){const n=gT(t,e),i=rc(n),r=yT(t,n);return A3(t,r,i),i}function A3(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Tt(n,l.path);let u=!1,d;if(W(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(ao(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=b3)u=!0,d="maxretry",r=r.concat(ao(t.serverSyncTree_,l.currentWriteId,!0));else{const f=mT(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){cT("transaction failed: Data returned ",h,l.path);let m=ot(h);typeof h=="object"&&h!=null&&Yi(h,".priority")||(m=m.updatePriority(f.getPriority()));const y=l.currentWriteId,g=pT(t),v=u3(m,f,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=v,l.currentWriteId=k3(t),o.splice(o.indexOf(y),1),r=r.concat(Q4(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),r=r.concat(ao(t.serverSyncTree_,y,!0))}else u=!0,d="nodata",r=r.concat(ao(t.serverSyncTree_,l.currentWriteId,!0))}Kr(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}yf(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)ec(i[a]);Py(t,t.transactionQueueTree_)}function gT(t,e){let n,i=t.transactionQueueTree_;for(n=de(e);n!==null&&ta(i)===void 0;)i=Cy(i,n),e=Te(e),n=de(e);return i}function yT(t,e){const n=[];return vT(t,e,n),n.sort((i,r)=>i.order-r.order),n}function vT(t,e,n){const i=ta(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);gf(e,r=>{vT(t,r,n)})}function yf(t,e){const n=ta(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,rT(e,n.length>0?n:void 0)}gf(e,i=>{yf(t,i)})}function O3(t,e){const n=rc(gT(t,e)),i=Cy(t.transactionQueueTree_,e);return f3(i,r=>{Rh(t,r)}),Rh(t,i),oT(i,r=>{Rh(t,r)}),n}function Rh(t,e){const n=ta(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(W(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(W(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(ao(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?rT(e,void 0):n.length=s+1,Kr(t.eventQueue_,rc(e),r);for(let o=0;o<i.length;o++)ec(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function L3(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):tn(`Invalid query segment '${n}' in query '${t}'`)}return e}const q0=function(t,e){const n=F3(t),i=n.namespace;n.domain==="firebase.com"&&Vi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Vi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||qL();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new vC(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Se(n.pathString)}},F3=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=D3(t.substring(u,d)));const f=L3(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const m=e.indexOf(".");i=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=i}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class j3{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return fe(this._path)?null:kC(this._path)}get ref(){return new Ki(this._repo,this._path)}get _queryIdentifier(){const e=A0(this._queryParams),n=iy(e);return n==="{}"?"default":n}get _queryObject(){return A0(this._queryParams)}isEqual(e){if(e=Yr(e),!(e instanceof Ny))return!1;const n=this._repo===e._repo,i=ay(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+MF(this._path)}}class Ki extends Ny{constructor(e,n){super(e,n,new dy,!1)}get parent(){const e=IC(this._path);return e===null?null:new Ki(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Al{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Se(e),i=wd(this.ref,e);return new Al(this._node.getChild(n),i,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Al(r,wd(this.ref,i),He)))}hasChild(e){const n=new Se(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Q0(t,e){return t=Yr(t),t._checkNotDeleted("ref"),e!==void 0?wd(t._root,e):t._root}function wd(t,e){return t=Yr(t),de(t._path)===null?y3("child","path",e):uT("child","path",e),new Ki(t._repo,Ge(t._path,e))}function B3(t){t=Yr(t);const e=new _T(()=>{}),n=new vf(e);return P3(t._repo,t,n).then(i=>new Al(i,new Ki(t._repo,t._path),t._queryParams.getIndex()))}class vf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new z3("value",this,new Al(e.snapshotNode,new Ki(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new j3(this,e,n):null}matches(e){return e instanceof vf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function H3(t,e,n,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){const l=n,c=(u,d)=>{G0(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new _T(n,s||void 0),a=new vf(o);return N3(t._repo,t,a),()=>G0(t._repo,t,a)}function W3(t,e,n,i){return H3(t,"value",e,n,i)}W4(Ki);K4(Ki);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="FIREBASE_DATABASE_EMULATOR_HOST",wm={};let V3=!1;function U3(t,e,n,i){const r=e.lastIndexOf(":"),s=e.substring(0,r),o=ty(s);t.repoInfo_=new vC(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function Y3(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||Vi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=q0(s,r),a=o.repoInfo,l;typeof process<"u"&&m0&&(l=m0[$3]),l?(s=`http://${l}?ns=${a.namespace}`,o=q0(s,r),a=o.repoInfo):o.repoInfo.secure;const c=new oF(t.name,t.options,e);v3("Invalid Firebase Database URL",o),fe(o.path)||Vi("Database URL must point to the root of a Firebase Database (not including a child path).");const u=G3(a,t,c,new sF(t,n));return new q3(u,t)}function K3(t,e){const n=wm[e];(!n||n[t.key]!==t)&&Vi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),R3(t),delete n[t.key]}function G3(t,e,n,i){let r=wm[e.name];r||(r={},wm[e.name]=r);let s=r[t.toURLString()];return s&&Vi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new S3(t,V3,n,i),r[t.toURLString()]=s,s}class q3{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(E3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ki(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(K3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vi("Cannot call "+e+" on a deleted database.")}}function Q3(t=eC(),e){const n=uf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=p2("database");i&&X3(n,...i)}return n}function X3(t,e,n,i={}){t=Yr(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&sd(i,s.repoInfo_.emulatorOptions))return;Vi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Vi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new wu(wu.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:g2(i.mockUserToken,t.app.options.projectId);o=new wu(a)}ty(e)&&(m2(e),_2("Database",!0)),U3(s,r,i,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){$L(NL),Lr(new Wi("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Y3(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),ui(g0,y0,t),ui(g0,y0,"esm2020")}Di.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Di.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Z3();const wT="@firebase/installations",Ry="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=1e4,bT=`w:${Ry}`,ST="FIS_v2",J3="https://firebaseinstallations.googleapis.com/v1",e5=60*60*1e3,t5="installations",n5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rs=new af(t5,n5,i5);function ET(t){return t instanceof Jo&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT({projectId:t}){return`${J3}/projects/${t}/installations`}function TT(t){return{token:t.token,requestStatus:2,expiresIn:s5(t.expiresIn),creationTime:Date.now()}}async function kT(t,e){const i=(await e.json()).error;return Rs.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function PT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function r5(t,{refreshToken:e}){const n=PT(t);return n.append("Authorization",o5(e)),n}async function IT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function s5(t){return Number(t.replace("s","000"))}function o5(t){return`${ST} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=CT(t),r=PT(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={fid:n,authVersion:ST,appId:t.appId,sdkVersion:bT},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await IT(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:TT(c.authToken)}}else throw await kT("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=/^[cdef][\w-]{21}$/,xm="";function u5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=d5(t);return c5.test(n)?n:xm}catch{return xm}}function d5(t){return l5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;function MT(t,e){const n=_f(t);AT(n,e),f5(n,e)}function AT(t,e){const n=RT.get(t);if(n)for(const i of n)i(e)}function f5(t,e){const n=h5();n&&n.postMessage({key:t,fid:e}),p5()}let cs=null;function h5(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=t=>{AT(t.data.key,t.data.fid)}),cs}function p5(){RT.size===0&&cs&&(cs.close(),cs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="firebase-installations-database",g5=1,Ms="firebase-installations-store";let Mh=null;function My(){return Mh||(Mh=cf(m5,g5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ms)}}})),Mh}async function xd(t,e){const n=_f(t),r=(await My()).transaction(Ms,"readwrite"),s=r.objectStore(Ms),o=await s.get(n);return await s.put(e,n),await r.done,(!o||o.fid!==e.fid)&&MT(t,e.fid),e}async function OT(t){const e=_f(t),i=(await My()).transaction(Ms,"readwrite");await i.objectStore(Ms).delete(e),await i.done}async function wf(t,e){const n=_f(t),r=(await My()).transaction(Ms,"readwrite"),s=r.objectStore(Ms),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&MT(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ay(t){let e;const n=await wf(t.appConfig,i=>{const r=y5(i),s=v5(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===xm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function y5(t){const e=t||{fid:u5(),registrationStatus:0};return DT(e)}function v5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Rs.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=_5(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:w5(t)}:{installationEntry:e}}async function _5(t,e){try{const n=await a5(t,e);return xd(t.appConfig,n)}catch(n){throw ET(n)&&n.customData.serverCode===409?await OT(t.appConfig):await xd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function w5(t){let e=await X0(t.appConfig);for(;e.registrationStatus===1;)await NT(100),e=await X0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Ay(t);return i||n}return e}function X0(t){return wf(t,e=>{if(!e)throw Rs.create("installation-not-found");return DT(e)})}function DT(t){return x5(t)?{fid:t.fid,registrationStatus:0}:t}function x5(t){return t.registrationStatus===1&&t.registrationTime+xT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5({appConfig:t,heartbeatServiceProvider:e},n){const i=S5(t,n),r=r5(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={installation:{sdkVersion:bT,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await IT(()=>fetch(i,a));if(l.ok){const c=await l.json();return TT(c)}else throw await kT("Generate Auth Token",l)}function S5(t,{fid:e}){return`${CT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oy(t,e=!1){let n;const i=await wf(t.appConfig,s=>{if(!LT(s))throw Rs.create("not-registered");const o=s.authToken;if(!e&&T5(o))return s;if(o.requestStatus===1)return n=E5(t,e),s;{if(!navigator.onLine)throw Rs.create("app-offline");const a=P5(s);return n=C5(t,a),a}});return n?await n:i.authToken}async function E5(t,e){let n=await Z0(t.appConfig);for(;n.authToken.requestStatus===1;)await NT(100),n=await Z0(t.appConfig);const i=n.authToken;return i.requestStatus===0?Oy(t,e):i}function Z0(t){return wf(t,e=>{if(!LT(e))throw Rs.create("not-registered");const n=e.authToken;return I5(n)?{...e,authToken:{requestStatus:0}}:e})}async function C5(t,e){try{const n=await b5(t,e),i={...e,authToken:n};return await xd(t.appConfig,i),n}catch(n){if(ET(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await OT(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await xd(t.appConfig,i)}throw n}}function LT(t){return t!==void 0&&t.registrationStatus===2}function T5(t){return t.requestStatus===2&&!k5(t)}function k5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+e5}function P5(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function I5(t){return t.requestStatus===1&&t.requestTime+xT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(t){const e=t,{installationEntry:n,registrationPromise:i}=await Ay(e);return i?i.catch(console.error):Oy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t,e=!1){const n=t;return await M5(n),(await Oy(n,e)).token}async function M5(t){const{registrationPromise:e}=await Ay(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t){if(!t||!t.options)throw Ah("App Configuration");if(!t.name)throw Ah("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ah(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ah(t){return Rs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="installations",O5="installations-internal",D5=t=>{const e=t.getProvider("app").getImmediate(),n=A5(e),i=uf(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},L5=t=>{const e=t.getProvider("app").getImmediate(),n=uf(e,FT).getImmediate();return{getId:()=>N5(n),getToken:r=>R5(n,r)}};function F5(){Lr(new Wi(FT,D5,"PUBLIC")),Lr(new Wi(O5,L5,"PRIVATE"))}F5();ui(wT,Ry);ui(wT,Ry,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="/firebase-messaging-sw.js",j5="/firebase-cloud-messaging-push-scope",zT="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",B5="https://fcmregistrations.googleapis.com/v1",jT="google.c.a.c_id",H5="google.c.a.c_l",W5="google.c.a.ts",$5="google.c.a.e",J0=1e4;var ew;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(ew||(ew={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ol;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Ol||(Ol={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function V5(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="fcm_token_details_db",U5=5,tw="fcm_token_object_Store";async function Y5(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Oh))return null;let e=null;return(await cf(Oh,U5,{upgrade:async(i,r,s,o)=>{if(r<2||!i.objectStoreNames.contains(tw))return;const a=o.objectStore(tw),l=await a.index("fcmSenderId").get(t);if(await a.clear(),!!l){if(r===2){const c=l;if(!c.auth||!c.p256dh||!c.endpoint)return;e={token:c.fcmToken,createTime:c.createTime??Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:Ci(c.vapidKey)}}}else if(r===3){const c=l;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Ci(c.auth),p256dh:Ci(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Ci(c.vapidKey)}}}else if(r===4){const c=l;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Ci(c.auth),p256dh:Ci(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Ci(c.vapidKey)}}}}}})).close(),await bh(Oh),await bh("fcm_vapid_details_db"),await bh("undefined"),K5(e)?e:null}function K5(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="firebase-messaging-database",q5=1,Dl="firebase-messaging-store";let Dh=null;function BT(){return Dh||(Dh=cf(G5,q5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Dl)}}})),Dh}async function Q5(t){const e=HT(t),i=await(await BT()).transaction(Dl).objectStore(Dl).get(e);if(i)return i;{const r=await Y5(t.appConfig.senderId);if(r)return await Dy(t,r),r}}async function Dy(t,e){const n=HT(t),r=(await BT()).transaction(Dl,"readwrite");return await r.objectStore(Dl).put(e,n),await r.done,e}function HT({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},yt=new af("messaging","Messaging",X5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(t,e){const n=await Fy(t),i=WT(e),r={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(Ly(t.appConfig),r)).json()}catch(o){throw yt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw yt.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw yt.create("token-subscribe-no-token");return s.token}async function J5(t,e){const n=await Fy(t),i=WT(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(`${Ly(t.appConfig)}/${e.token}`,r)).json()}catch(o){throw yt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw yt.create("token-update-failed",{errorInfo:o})}if(!s.token)throw yt.create("token-update-no-token");return s.token}async function ez(t,e){const i={method:"DELETE",headers:await Fy(t)};try{const s=await(await fetch(`${Ly(t.appConfig)}/${e}`,i)).json();if(s.error){const o=s.error.message;throw yt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(r){throw yt.create("token-unsubscribe-failed",{errorInfo:r==null?void 0:r.toString()})}}function Ly({projectId:t}){return`${B5}/projects/${t}/registrations`}async function Fy({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function WT({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const r={web:{endpoint:n,auth:e,p256dh:t}};return i!==zT&&(r.web.applicationPubKey=i),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=7*24*60*60*1e3;async function nz(t){const e=await rz(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ci(e.getKey("auth")),p256dh:Ci(e.getKey("p256dh"))},i=await Q5(t.firebaseDependencies);if(i){if(sz(i.subscriptionOptions,n))return Date.now()>=i.createTime+tz?iz(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await ez(t.firebaseDependencies,i.token)}catch(r){console.warn(r)}return nw(t.firebaseDependencies,n)}else return nw(t.firebaseDependencies,n)}async function iz(t,e){try{const n=await J5(t.firebaseDependencies,e),i={...e,token:n,createTime:Date.now()};return await Dy(t.firebaseDependencies,i),n}catch(n){throw n}}async function nw(t,e){const i={token:await Z5(t,e),createTime:Date.now(),subscriptionOptions:e};return await Dy(t,i),i.token}async function rz(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:V5(e)})}function sz(t,e){const n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,r=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&i&&r&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return oz(e,t),az(e,t),lz(e,t),e}function oz(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const r=e.notification.image;r&&(t.notification.image=r);const s=e.notification.icon;s&&(t.notification.icon=s)}function az(t,e){e.data&&(t.data=e.data)}function lz(t,e){var r,s,o,a;if(!e.fcmOptions&&!((r=e.notification)!=null&&r.click_action))return;t.fcmOptions={};const n=((s=e.fcmOptions)==null?void 0:s.link)??((o=e.notification)==null?void 0:o.click_action);n&&(t.fcmOptions.link=n);const i=(a=e.fcmOptions)==null?void 0:a.analytics_label;i&&(t.fcmOptions.analyticsLabel=i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t){return typeof t=="object"&&!!t&&jT in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(t){if(!t||!t.options)throw Lh("App Configuration Object");if(!t.name)throw Lh("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw Lh(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Lh(t){return yt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=uz(e);this.firebaseDependencies={app:e,appConfig:r,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t){try{t.swRegistration=await navigator.serviceWorker.register(z5,{scope:j5}),t.swRegistration.update().catch(()=>{}),await hz(t.swRegistration)}catch(e){throw yt.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function hz(t){return new Promise((e,n)=>{const i=setTimeout(()=>n(new Error(`Service worker not registered after ${J0} ms`)),J0),r=t.installing||t.waiting;t.active?(clearTimeout(i),e()):r?r.onstatechange=s=>{var o;((o=s.target)==null?void 0:o.state)==="activated"&&(r.onstatechange=null,clearTimeout(i),e())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e){if(!e&&!t.swRegistration&&await fz(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw yt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mz(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=zT)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $T(t,e){if(!navigator)throw yt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw yt.create("permission-blocked");return await mz(t,e==null?void 0:e.vapidKey),await pz(t,e==null?void 0:e.serviceWorkerRegistration),nz(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(t,e,n){const i=yz(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[jT],message_name:n[H5],message_time:n[W5],message_device_time:Math.floor(Date.now()/1e3)})}function yz(t){switch(t){case Ol.NOTIFICATION_CLICKED:return"notification_open";case Ol.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ol.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(iw(n)):t.onMessageHandler.next(iw(n)));const i=n.data;cz(i)&&i[$5]==="1"&&await gz(t,n.messageType,i)}const rw="@firebase/messaging",sw="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=t=>{const e=new dz(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>vz(e,n)),e},wz=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>$T(e,i)}};function xz(){Lr(new Wi("messaging",_z,"PUBLIC")),Lr(new Wi("messaging-internal",wz,"PRIVATE")),ui(rw,sw),ui(rw,sw,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(){try{await KE()}catch{return!1}return typeof window<"u"&&YE()&&S2()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t,e){if(!navigator)throw yt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(t=eC()){return bz().then(e=>{if(!e)throw yt.create("unsupported-browser")},e=>{throw yt.create("indexed-db-unsupported")}),uf(Yr(t),"messaging").getImmediate()}async function Cz(t,e){return t=Yr(t),$T(t,e)}function Tz(t,e){return t=Yr(t),Sz(t,e)}xz();const kz={apiKey:"AIzaSyD4M_ZOMqR9MtSkbgH2SQQvj2QSAFKLOhU",authDomain:"beehive-d31e3.firebaseapp.com",databaseURL:"https://beehive-d31e3-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"beehive-d31e3",storageBucket:"beehive-d31e3.firebasestorage.app",messagingSenderId:"412298384436",appId:"1:412298384436:web:469569b024f27482456661",measurementId:"G-P6FF4EJC3K"},VT=JE(kz),ow=Q3(VT),Fh=typeof window<"u"&&"Notification"in window?Ez(VT):null;function Pz(){const[t,e]=S.useState(null),[n,i]=S.useState({}),[r,s]=S.useState(!0),[o,a]=S.useState(null),[l,c]=S.useState(!0);return S.useEffect(()=>{const u=Q0(ow,"beehive"),d=W3(u,m=>{const p=m.val();p&&(e(p),s(!0),a(new Date),(p.temperature<18||p.temperature>30||p.humidity<60||p.air_quality<60)&&(new Audio("/alert.mp3").play().catch(console.error),(p.temperature<18||p.temperature>30)&&Ii.error(`Temperature Alert: ${p.temperature}°C`,{description:"Temperature is outside safe range (18-30°C)"}),p.humidity<60&&Ii.error(`Humidity Alert: ${p.humidity}%`,{description:"Humidity is below safe threshold (60%)"}),p.air_quality<60&&Ii.error(`Air Quality Alert: ${p.air_quality}%`,{description:"Air quality is below safe threshold (60%)"}))),c(!1)},m=>{console.error("Firebase connection error:",m),s(!1),c(!1),Ii.error("Connection Error",{description:"Unable to connect to Firebase"})});(async()=>{try{const m=Q0(ow),p=await B3(wd(m,"history"));p.exists()&&i(p.val())}catch(m){console.error("Error fetching historical data:",m)}})();const h=setInterval(()=>{o&&new Date().getTime()-o.getTime()>6e4&&s(!1)},1e4);return()=>{d(),clearInterval(h)}},[o]),{currentData:t,historicalData:n,isOnline:r,lastSeen:o,loading:l}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function sc(t){return t+.5|0}const gr=(t,e,n)=>Math.max(Math.min(t,n),e);function Ra(t){return gr(sc(t*2.55),0,255)}function Ir(t){return gr(sc(t*255),0,255)}function ki(t){return gr(sc(t/2.55)/100,0,1)}function aw(t){return gr(sc(t*100),0,100)}const dn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},bm=[..."0123456789ABCDEF"],Iz=t=>bm[t&15],Nz=t=>bm[(t&240)>>4]+bm[t&15],$c=t=>(t&240)>>4===(t&15),Rz=t=>$c(t.r)&&$c(t.g)&&$c(t.b)&&$c(t.a);function Mz(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&dn[t[1]]*17,g:255&dn[t[2]]*17,b:255&dn[t[3]]*17,a:e===5?dn[t[4]]*17:255}:(e===7||e===9)&&(n={r:dn[t[1]]<<4|dn[t[2]],g:dn[t[3]]<<4|dn[t[4]],b:dn[t[5]]<<4|dn[t[6]],a:e===9?dn[t[7]]<<4|dn[t[8]]:255})),n}const Az=(t,e)=>t<255?e(t):"";function Oz(t){var e=Rz(t)?Iz:Nz;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Az(t.a,e):void 0}const Dz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function UT(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Lz(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Fz(t,e,n){const i=UT(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function zz(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function zy(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=zz(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function jy(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Ir)}function By(t,e,n){return jy(UT,t,e,n)}function jz(t,e,n){return jy(Fz,t,e,n)}function Bz(t,e,n){return jy(Lz,t,e,n)}function YT(t){return(t%360+360)%360}function Hz(t){const e=Dz.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Ra(+e[5]):Ir(+e[5]));const r=YT(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=jz(r,s,o):e[1]==="hsv"?i=Bz(r,s,o):i=By(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function Wz(t,e){var n=zy(t);n[0]=YT(n[0]+e),n=By(n),t.r=n[0],t.g=n[1],t.b=n[2]}function $z(t){if(!t)return;const e=zy(t),n=e[0],i=aw(e[1]),r=aw(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${ki(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const lw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Vz(){const t={},e=Object.keys(cw),n=Object.keys(lw);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,lw[s]);s=parseInt(cw[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Vc;function Uz(t){Vc||(Vc=Vz(),Vc.transparent=[0,0,0,0]);const e=Vc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Yz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Kz(t){const e=Yz.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Ra(o):gr(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Ra(i):gr(i,0,255)),r=255&(e[4]?Ra(r):gr(r,0,255)),s=255&(e[6]?Ra(s):gr(s,0,255)),{r:i,g:r,b:s,a:n}}}function Gz(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ki(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const zh=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ks=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function qz(t,e,n){const i=Ks(ki(t.r)),r=Ks(ki(t.g)),s=Ks(ki(t.b));return{r:Ir(zh(i+n*(Ks(ki(e.r))-i))),g:Ir(zh(r+n*(Ks(ki(e.g))-r))),b:Ir(zh(s+n*(Ks(ki(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Uc(t,e,n){if(t){let i=zy(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=By(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function KT(t,e){return t&&Object.assign(e||{},t)}function uw(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ir(t[3]))):(e=KT(t,{r:0,g:0,b:0,a:1}),e.a=Ir(e.a)),e}function Qz(t){return t.charAt(0)==="r"?Kz(t):Hz(t)}class Ll{constructor(e){if(e instanceof Ll)return e;const n=typeof e;let i;n==="object"?i=uw(e):n==="string"&&(i=Mz(e)||Uz(e)||Qz(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=KT(this._rgb);return e&&(e.a=ki(e.a)),e}set rgb(e){this._rgb=uw(e)}rgbString(){return this._valid?Gz(this._rgb):void 0}hexString(){return this._valid?Oz(this._rgb):void 0}hslString(){return this._valid?$z(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=qz(this._rgb,e._rgb,n)),this}clone(){return new Ll(this.rgb)}alpha(e){return this._rgb.a=Ir(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=sc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Uc(this._rgb,2,e),this}darken(e){return Uc(this._rgb,2,-e),this}saturate(e){return Uc(this._rgb,1,e),this}desaturate(e){return Uc(this._rgb,1,-e),this}rotate(e){return Wz(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function wi(){}const Xz=(()=>{let t=0;return()=>t++})();function Pe(t){return t==null}function qe(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function pe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function _t(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Qn(t,e){return _t(t)?t:e}function ae(t,e){return typeof t>"u"?e:t}const Zz=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ee(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ue(t,e,n,i){let r,s,o;if(qe(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(pe(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function bd(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Sd(t){if(qe(t))return t.map(Sd);if(pe(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Sd(t[n[r]]);return e}return t}function GT(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Jz(t,e,n,i){if(!GT(t))return;const r=e[t],s=n[t];pe(r)&&pe(s)?Fl(r,s,i):e[t]=Sd(s)}function Fl(t,e,n){const i=qe(e)?e:[e],r=i.length;if(!pe(t))return t;n=n||{};const s=n.merger||Jz;let o;for(let a=0;a<r;++a){if(o=i[a],!pe(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function Qa(t,e){return Fl(t,e,{merger:e6})}function e6(t,e,n){if(!GT(t))return;const i=e[t],r=n[t];pe(i)&&pe(r)?Qa(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Sd(r))}const dw={"":t=>t,x:t=>t.x,y:t=>t.y};function t6(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function n6(t){const e=t6(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Ed(t,e){return(dw[e]||(dw[e]=n6(e)))(t)}function Hy(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Cd=t=>typeof t<"u",Br=t=>typeof t=="function",fw=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function i6(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const it=Math.PI,jn=2*it,r6=jn+it,Td=Number.POSITIVE_INFINITY,s6=it/180,Dn=it/2,Xr=it/4,hw=it*2/3,qT=Math.log10,Hr=Math.sign;function ws(t,e,n){return Math.abs(t-e)<n}function pw(t){const e=Math.round(t);t=ws(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(qT(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function o6(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function a6(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function zl(t){return!a6(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function l6(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function c6(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function us(t){return t*(it/180)}function u6(t){return t*(180/it)}function mw(t){if(!_t(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function d6(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*it&&(s+=jn),{angle:s,distance:r}}function Sm(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function f6(t,e){return(t-e+r6)%jn-it}function ei(t){return(t%jn+jn)%jn}function QT(t,e,n,i){const r=ei(t),s=ei(e),o=ei(n),a=ei(s-r),l=ei(o-r),c=ei(r-s),u=ei(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function gn(t,e,n){return Math.max(e,Math.min(n,t))}function h6(t){return gn(t,-32768,32767)}function lo(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Wy(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const ds=(t,e,n,i)=>Wy(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),p6=(t,e,n)=>Wy(t,n,i=>t[i][e]>=n);function m6(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const XT=["push","pop","shift","splice","unshift"];function g6(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),XT.forEach(n=>{const i="_onData"+Hy(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function gw(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(XT.forEach(s=>{delete t[s]}),delete t._chartjs)}function y6(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ZT=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function JT(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,ZT.call(window,()=>{i=!1,t.apply(e,n)}))}}function v6(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const $y=t=>t==="start"?"left":t==="end"?"right":"center",ht=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_6=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function w6(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:d,max:f,minDefined:h,maxDefined:m}=o.getUserBounds();if(h){if(r=Math.min(ds(l,u,d).lo,n?i:ds(e,u,o.getPixelForValue(d)).lo),c){const p=l.slice(0,r+1).reverse().findIndex(y=>!Pe(y[a.axis]));r-=Math.max(0,p)}r=gn(r,0,i-1)}if(m){let p=Math.max(ds(l,o.axis,f,!0).hi+1,n?0:ds(e,u,o.getPixelForValue(f),!0).hi+1);if(c){const y=l.slice(p-1).findIndex(g=>!Pe(g[a.axis]));p+=Math.max(0,y)}s=gn(p,r,i)-r}else s=i-r}return{start:r,count:s}}function x6(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Yc=t=>t===0||t===1,yw=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*jn/n)),vw=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*jn/n)+1,Xa={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Dn)+1,easeOutSine:t=>Math.sin(t*Dn),easeInOutSine:t=>-.5*(Math.cos(it*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Yc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Yc(t)?t:yw(t,.075,.3),easeOutElastic:t=>Yc(t)?t:vw(t,.075,.3),easeInOutElastic(t){return Yc(t)?t:t<.5?.5*yw(t*2,.1125,.45):.5+.5*vw(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Xa.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Xa.easeInBounce(t*2)*.5:Xa.easeOutBounce(t*2-1)*.5+.5};function Vy(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function _w(t){return Vy(t)?t:new Ll(t)}function jh(t){return Vy(t)?t:new Ll(t).saturate(.5).darken(.1).hexString()}const b6=["x","y","borderWidth","radius","tension"],S6=["color","borderColor","backgroundColor"];function E6(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:S6},numbers:{type:"number",properties:b6}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function C6(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ww=new Map;function T6(t,e){e=e||{};const n=t+JSON.stringify(e);let i=ww.get(n);return i||(i=new Intl.NumberFormat(t,e),ww.set(n,i)),i}function ek(t,e,n){return T6(e,n).format(t)}const k6={values(t){return qe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=P6(t,n)}const o=qT(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ek(t,i,l)}};function P6(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var tk={formatters:k6};function I6(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const As=Object.create(null),Em=Object.create(null);function Za(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Bh(t,e,n){return typeof e=="string"?Fl(Za(t,e),n):Fl(Za(t,""),e)}class N6{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>jh(r.backgroundColor),this.hoverBorderColor=(i,r)=>jh(r.borderColor),this.hoverColor=(i,r)=>jh(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Bh(this,e,n)}get(e){return Za(this,e)}describe(e,n){return Bh(Em,e,n)}override(e,n){return Bh(As,e,n)}route(e,n,i,r){const s=Za(this,e),o=Za(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return pe(l)?Object.assign({},c,l):ae(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var $e=new N6({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[E6,C6,I6]);function R6(t){return!t||Pe(t.size)||Pe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function xw(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Zr(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function bw(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Cm(t,e,n,i){nk(t,e,n,i,null)}function nk(t,e,n,i,r){let s,o,a,l,c,u,d,f;const h=e.pointStyle,m=e.rotation,p=e.radius;let y=(m||0)*s6;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(y),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),h){default:r?t.ellipse(n,i,r/2,p,0,0,jn):t.arc(n,i,p,0,jn),t.closePath();break;case"triangle":u=r?r/2:p,t.moveTo(n+Math.sin(y)*u,i-Math.cos(y)*p),y+=hw,t.lineTo(n+Math.sin(y)*u,i-Math.cos(y)*p),y+=hw,t.lineTo(n+Math.sin(y)*u,i-Math.cos(y)*p),t.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(y+Xr)*l,d=Math.cos(y+Xr)*(r?r/2-c:l),a=Math.sin(y+Xr)*l,f=Math.sin(y+Xr)*(r?r/2-c:l),t.arc(n-d,i-a,c,y-it,y-Dn),t.arc(n+f,i-o,c,y-Dn,y),t.arc(n+d,i+a,c,y,y+Dn),t.arc(n-f,i+o,c,y+Dn,y+it),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}y+=Xr;case"rectRot":d=Math.cos(y)*(r?r/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,f=Math.sin(y)*(r?r/2:p),t.moveTo(n-d,i-a),t.lineTo(n+f,i-o),t.lineTo(n+d,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":y+=Xr;case"cross":d=Math.cos(y)*(r?r/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,f=Math.sin(y)*(r?r/2:p),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":d=Math.cos(y)*(r?r/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,f=Math.sin(y)*(r?r/2:p),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),y+=Xr,d=Math.cos(y)*(r?r/2:p),o=Math.cos(y)*p,a=Math.sin(y)*p,f=Math.sin(y)*(r?r/2:p),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(y)*p,a=Math.sin(y)*p,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(y)*(r?r/2:p),i+Math.sin(y)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function $o(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function xf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function bf(t){t.restore()}function M6(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function A6(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function O6(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Pe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function D6(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function L6(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function jl(t,e,n,i,r,s={}){const o=qe(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,O6(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&L6(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Pe(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),D6(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function Tm(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*it,it,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,it,Dn,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Dn,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Dn,!0),t.lineTo(n+o.topLeft,i)}const F6=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,z6=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function j6(t,e){const n=(""+t).match(F6);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const B6=t=>+t||0;function ik(t,e){const n={},i=pe(e),r=i?Object.keys(e):e,s=pe(t)?i?o=>ae(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=B6(s(o));return n}function H6(t){return ik(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ja(t){return ik(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xn(t){const e=H6(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function gt(t,e){t=t||{},e=e||$e.font;let n=ae(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=ae(t.style,e.style);i&&!(""+i).match(z6)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ae(t.family,e.family),lineHeight:j6(ae(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:ae(t.weight,e.weight),string:""};return r.string=R6(r),r}function Kc(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function W6(t,e,n){const{min:i,max:r}=t,s=Zz(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Fs(t,e){return Object.assign(Object.create(t),e)}function Uy(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=ak("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Uy([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return sk(a,l,()=>Q6(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Ew(a).includes(l)},ownKeys(a){return Ew(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function Vo(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:rk(t,i),setContext:s=>Vo(t,s,n,i),override:s=>Vo(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return sk(s,o,()=>V6(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function rk(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Br(n)?n:()=>n,isIndexable:Br(i)?i:()=>i}}const $6=(t,e)=>t?t+Hy(e):e,Yy=(t,e)=>pe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function sk(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function V6(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return Br(a)&&o.isScriptable(e)&&(a=U6(e,a,t,n)),qe(a)&&a.length&&(a=Y6(e,a,t,o.isIndexable)),Yy(e,a)&&(a=Vo(a,r,s&&s[e],o)),a}function U6(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),Yy(t,l)&&(l=Ky(r._scopes,r,t,l)),l}function Y6(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(pe(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Ky(c,r,t,u);e.push(Vo(d,s,o&&o[t],a))}}return e}function ok(t,e,n){return Br(t)?t(e,n):t}const K6=(t,e)=>t===!0?e:typeof t=="string"?Ed(e,t):void 0;function G6(t,e,n,i,r){for(const s of e){const o=K6(n,s);if(o){t.add(o);const a=ok(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Ky(t,e,n,i){const r=e._rootScopes,s=ok(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=Sw(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=Sw(a,o,s,l,i),l===null)?!1:Uy(Array.from(a),[""],r,s,()=>q6(e,n,i))}function Sw(t,e,n,i,r){for(;n;)n=G6(t,e,n,i,r);return n}function q6(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return qe(r)&&pe(n)?n:r||{}}function Q6(t,e,n,i){let r;for(const s of e)if(r=ak($6(s,t),n),typeof r<"u")return Yy(t,r)?Ky(n,i,t,r):r}function ak(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Ew(t){let e=t._keys;return e||(e=t._keys=X6(t._scopes)),e}function X6(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const Z6=Number.EPSILON||1e-14,Uo=(t,e)=>e<t.length&&!t[e].skip&&t[e],lk=t=>t==="x"?"y":"x";function J6(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=Sm(s,r),l=Sm(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,f=i*u;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function ej(t,e,n){const i=t.length;let r,s,o,a,l,c=Uo(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Uo(t,u+1),!(!l||!c)){if(ws(e[u],0,Z6)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])}}function tj(t,e,n="x"){const i=lk(n),r=t.length;let s,o,a,l=Uo(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Uo(t,c+1),!a)continue;const u=a[n],d=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=d+s*e[c])}}function nj(t,e="x"){const n=lk(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Uo(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Uo(t,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Hr(r[o-1])!==Hr(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}ej(t,r,s),tj(t,s,e)}function Gc(t,e,n){return Math.max(Math.min(t,n),e)}function ij(t,e){let n,i,r,s,o,a=$o(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&$o(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Gc(r.cp1x,e.left,e.right),r.cp1y=Gc(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Gc(r.cp2x,e.left,e.right),r.cp2y=Gc(r.cp2y,e.top,e.bottom)))}function rj(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")nj(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=J6(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&ij(t,n)}function Gy(){return typeof window<"u"&&typeof document<"u"}function qy(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function kd(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Sf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function sj(t,e){return Sf(t).getPropertyValue(e)}const oj=["top","right","bottom","left"];function xs(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=oj[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const aj=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function lj(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(aj(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ri(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Sf(n),s=r.boxSizing==="border-box",o=xs(r,"padding"),a=xs(r,"border","width"),{x:l,y:c,box:u}=lj(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:h,height:m}=e;return s&&(h-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/h*n.width/i),y:Math.round((c-f)/m*n.height/i)}}function cj(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&qy(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Sf(s),l=xs(a,"border","width"),c=xs(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=kd(a.maxWidth,s,"clientWidth"),r=kd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Td,maxHeight:r||Td}}const qc=t=>Math.round(t*10)/10;function uj(t,e,n,i){const r=Sf(t),s=xs(r,"margin"),o=kd(r.maxWidth,t,"clientWidth")||Td,a=kd(r.maxHeight,t,"clientHeight")||Td,l=cj(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const f=xs(r,"border","width"),h=xs(r,"padding");c-=h.width+f.width,u-=h.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=qc(Math.min(c,o,l.maxWidth)),u=qc(Math.min(u,a,l.maxHeight)),c&&!u&&(u=qc(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=qc(Math.floor(u*i))),{width:c,height:u}}function Cw(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const dj=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Gy()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Tw(t,e){const n=sj(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function rs(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function fj(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function hj(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=rs(t,r,n),a=rs(r,s,n),l=rs(s,e,n),c=rs(o,a,n),u=rs(a,l,n);return rs(c,u,n)}const pj=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},mj=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function xo(t,e,n){return t?pj(e,n):mj()}function ck(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function uk(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function dk(t){return t==="angle"?{between:QT,compare:f6,normalize:ei}:{between:lo,compare:(e,n)=>e-n,normalize:e=>e}}function kw({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function gj(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=dk(i),l=e.length;let{start:c,end:u,loop:d}=t,f,h;if(d){for(c+=l,u+=l,f=0,h=l;f<h&&o(a(e[c%l][i]),r,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function fk(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=dk(i),{start:u,end:d,loop:f,style:h}=gj(t,e,n),m=[];let p=!1,y=null,g,v,_;const b=()=>l(r,_,g)&&a(r,_)!==0,E=()=>a(s,g)===0||l(s,_,g),T=()=>p||b(),k=()=>!p||E();for(let I=u,R=u;I<=d;++I)v=e[I%o],!v.skip&&(g=c(v[i]),g!==_&&(p=l(g,r,s),y===null&&T()&&(y=a(g,r)===0?I:R),y!==null&&k()&&(m.push(kw({start:y,end:I,loop:f,count:o,style:h})),y=null),R=I,_=g));return y!==null&&m.push(kw({start:y,end:d,loop:f,count:o,style:h})),m}function hk(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=fk(i[r],t.points,e);s.length&&n.push(...s)}return n}function yj(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function vj(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function _j(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=yj(n,r,s,i);if(i===!0)return Pw(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return Pw(t,vj(n,o,l,c),n,e)}function Pw(t,e,n,i){return!i||!i.setContext||!n?e:wj(t,e,n,i)}function wj(t,e,n,i){const r=t._chart.getContext(),s=Iw(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,d=e[0].start,f=d;function h(m,p,y,g){const v=a?-1:1;if(m!==p){for(m+=l;n[m%l].skip;)m-=v;for(;n[p%l].skip;)p+=v;m%l!==p%l&&(c.push({start:m%l,end:p%l,loop:y,style:g}),u=g,d=p%l)}}for(const m of e){d=a?d:m.start;let p=n[d%l],y;for(f=d+1;f<=m.end;f++){const g=n[f%l];y=Iw(i.setContext(Fs(r,{type:"segment",p0:p,p1:g,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),xj(y,u)&&h(d,f-1,m.loop,u),p=g,u=y}d<f-1&&h(d,f-1,m.loop,u)}return c}function Iw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function xj(t,e){if(!e)return!1;const n=[],i=function(r,s){return Vy(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Qc(t,e,n){return t.options.clip?t[n]:e[n]}function bj(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Qc(n,e,"left"),right:Qc(n,e,"right"),top:Qc(i,e,"top"),bottom:Qc(i,e,"bottom")}:e}function pk(t,e){const n=e._clip;if(n.disabled)return!1;const i=bj(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Sj{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ZT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var bi=new Sj;const Nw="transparent",Ej={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=_w(t||Nw),r=i.valid&&_w(e||Nw);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Cj{constructor(e,n,i,r){const s=n[i];r=Kc([e.to,r,s,e.from]);const o=Kc([e.from,s,r]);this._active=!0,this._fn=e.fn||Ej[e.type||typeof o],this._easing=Xa[e.easing]||Xa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Kc([e.to,n,r,e.from]),this._from=Kc([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class mk{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!pe(e))return;const n=Object.keys($e.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!pe(s))return;const o={};for(const a of n)o[a]=s[a];(qe(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=kj(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&Tj(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const f=i.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=d=new Cj(f,e,c,u),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return bi.add(this._chart,i),!0}}function Tj(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function kj(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Rw(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function Pj(t,e,n){if(n===!1)return!1;const i=Rw(t,n),r=Rw(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Ij(t){let e,n,i,r;return pe(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function gk(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function Mw(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(u=!0,i.all)continue;break}c=t.values[l],_t(c)&&(s||e===0||Hr(e)===Hr(c))&&(e+=c)}return!u&&!i.all?0:e}function Nj(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:t[u]};return a}function Hh(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Rj(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Mj(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function Aj(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Aw(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function Ow(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=Rj(s,o,i),d=e.length;let f;for(let h=0;h<d;++h){const m=e[h],{[l]:p,[c]:y}=m,g=m._stacks||(m._stacks={});f=g[c]=Aj(r,u,p),f[a]=y,f._top=Aw(f,o,!0,i.type),f._bottom=Aw(f,o,!1,i.type);const v=f._visualValues||(f._visualValues={});v[a]=y}}function Wh(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function Oj(t,e){return Fs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Dj(t,e,n){return Fs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ba(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const $h=t=>t==="reset"||t==="none",Dw=(t,e)=>e?t:Object.assign({},t),Lj=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:gk(n,!0),values:null};class el{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Hh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ba(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(d,f,h,m)=>d==="x"?f:d==="r"?m:h,s=n.xAxisID=ae(i.xAxisID,Wh(e,"x")),o=n.yAxisID=ae(i.yAxisID,Wh(e,"y")),a=n.rAxisID=ae(i.rAxisID,Wh(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),u=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&gw(this._data,this),e._stacked&&ba(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(pe(n)){const r=this._cachedMeta;this._data=Nj(n,r)}else if(i!==n){if(i){gw(i,this);const r=this._cachedMeta;ba(r),r._parsed=[]}n&&Object.isExtensible(n)&&g6(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Hh(n.vScale,n),n.stack!==i.stack&&(r=!0,ba(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(Ow(this,n._parsed),n._stacked=Hh(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,d,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{qe(r[e])?f=this.parseArrayData(i,r,e,n):pe(r[e])?f=this.parseObjectData(i,r,e,n):f=this.parsePrimitiveData(i,r,e,n);const h=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=d=f[u],l&&(h()&&(l=!1),c=d);i._sorted=l}o&&Ow(this,f)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(r);let f,h,m;for(f=0,h=r;f<h;++f)m=f+i,d[f]={[a]:u||s.parse(c[m],m),[l]:o.parse(n[m],m)};return d}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+i,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,d,f,h;for(u=0,d=r;u<d;++u)f=u+i,h=n[f],c[u]={x:s.parse(Ed(h,a),f),y:o.parse(Ed(h,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:gk(r,!0),values:n._stacks[e.axis]._visualValues};return Mw(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=Mw(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=Lj(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Mj(a);let f,h;function m(){h=r[f];const p=h[a.axis];return!_t(h[e.axis])||u>p||d<p}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,e,h,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,h,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],_t(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Ij(ae(this.options.clip,Pj(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=r[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=Dj(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Oj(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Cd(i);if(a)return Dw(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),h=Object.keys($e.elements[e]),m=()=>this.getContext(i,r,n),p=c.resolveNamedOptions(f,h,m,d);return p.$shared&&(p.$shared=l,s[o]=Object.freeze(Dw(p,l))),p}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,i,n))}const c=new mk(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||$h(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){$h(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!$h(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&ba(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}oe(el,"defaults",{}),oe(el,"datasetElementType",null),oe(el,"dataElementType",null);class xu extends el{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=w6(n,r,o);this._drawStart=a,this._drawCount=l,x6(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,r),f=o.axis,h=a.axis,{spanGaps:m,segment:p}=this.options,y=zl(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||r==="none",v=n+i,_=e.length;let b=n>0&&this.getParsed(n-1);for(let E=0;E<_;++E){const T=e[E],k=g?T:{};if(E<n||E>=v){k.skip=!0;continue}const I=this.getParsed(E),R=Pe(I[h]),O=k[f]=o.getPixelForValue(I[f],E),j=k[h]=s||R?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,I,l):I[h],E);k.skip=isNaN(O)||isNaN(j)||R,k.stop=E>0&&Math.abs(I[f]-b[f])>y,p&&(k.parsed=I,k.raw=c.data[E]),d&&(k.options=u||this.resolveDataElementOptions(E,T.active?"active":r)),g||this.updateElement(T,E,k,r),b=I}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}oe(xu,"id","line"),oe(xu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),oe(xu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Jr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qy{constructor(e){oe(this,"options");this.options=e||{}}static override(e){Object.assign(Qy.prototype,e)}init(){}formats(){return Jr()}parse(){return Jr()}format(){return Jr()}add(){return Jr()}diff(){return Jr()}startOf(){return Jr()}endOf(){return Jr()}}var Fj={_date:Qy};function zj(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?p6:ds;if(i){if(r._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=c(s,e,n-d),h=c(s,e,n+d);return{lo:f.lo,hi:h.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:d}=r._cachedMeta,{_parsed:f}=t,h=f.slice(0,u.lo+1).reverse().findIndex(p=>!Pe(p[d.axis]));u.lo-=Math.max(0,h);const m=f.slice(u.hi).findIndex(p=>!Pe(p[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:s.length-1}}function Ef(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:f}=zj(s[a],e,o,r);for(let h=d;h<=f;++h){const m=u[h];m.skip||i(m,c,h)}}}function jj(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Vh(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Ef(t,n,e,function(a,l,c){!r&&!$o(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function Bj(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=d6(o,{x:e.x,y:e.y});QT(d,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return Ef(t,n,e,s),r}function Hj(t,e,n,i,r,s){let o=[];const a=jj(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const h=u.inRange(e.x,e.y,r);if(i&&!h)return;const m=u.getCenterPoint(r);if(!(!!s||t.isPointInArea(m))&&!h)return;const y=a(e,m);y<l?(o=[{element:u,datasetIndex:d,index:f}],l=y):y===l&&o.push({element:u,datasetIndex:d,index:f})}return Ef(t,n,e,c),o}function Uh(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?Bj(t,e,n,r):Hj(t,e,n,i,r,s)}function Lw(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Ef(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var Wj={modes:{index(t,e,n,i){const r=ri(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Vh(t,r,s,i,o):Uh(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const r=ri(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Vh(t,r,s,i,o):Uh(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const r=ri(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Vh(t,r,s,i,o)},nearest(t,e,n,i){const r=ri(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Uh(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=ri(e,t);return Lw(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=ri(e,t);return Lw(t,r,"y",n.intersect,i)}}};const yk=["left","top","right","bottom"];function Sa(t,e){return t.filter(n=>n.pos===e)}function Fw(t,e){return t.filter(n=>yk.indexOf(n.pos)===-1&&n.box.axis===e)}function Ea(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function $j(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function Vj(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!yk.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function Uj(t,e){const n=Vj(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function Yj(t){const e=$j(t),n=Ea(e.filter(c=>c.box.fullSize),!0),i=Ea(Sa(e,"left"),!0),r=Ea(Sa(e,"right")),s=Ea(Sa(e,"top"),!0),o=Ea(Sa(e,"bottom")),a=Fw(e,"x"),l=Fw(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Sa(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function zw(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function vk(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Kj(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!pe(r)){n.size&&(t[r]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[r]+=n.size}s.getPadding&&vk(o,s.getPadding());const a=Math.max(0,e.outerWidth-zw(o,t,"left","right")),l=Math.max(0,e.outerHeight-zw(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Gj(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function qj(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function Ma(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,qj(a.horizontal,e));const{same:d,other:f}=Kj(e,n,a,i);c|=d&&r.length,u=u||f,l.fullSize||r.push(a)}return c&&Ma(r,e,n,i)||u}function Xc(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function jw(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;Cd(c.start)&&(o=c.start),l.fullSize?Xc(l,r.left,o,n.outerWidth-r.right-r.left,f):Xc(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;Cd(c.start)&&(s=c.start),l.fullSize?Xc(l,s,r.top,f,n.outerHeight-r.bottom-r.top):Xc(l,s,e.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var yn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=xn(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=Yj(t.boxes),l=a.vertical,c=a.horizontal;ue(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,y)=>y.box.options&&y.box.options.display===!1?p:p+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);vk(f,xn(i));const h=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),m=Uj(l.concat(c),d);Ma(a.fullSize,h,d,m),Ma(l,h,d,m),Ma(c,h,d,m)&&Ma(l,h,d,m),Gj(h),jw(a.leftAndTop,h,d,m),h.x+=h.w,h.y+=h.h,jw(a.rightAndBottom,h,d,m),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},ue(a.chartArea,p=>{const y=p.box;Object.assign(y,t.chartArea),y.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class _k{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class Qj extends _k{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const bu="$chartjs",Xj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bw=t=>t===null||t==="";function Zj(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[bu]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Bw(r)){const s=Tw(t,"width");s!==void 0&&(t.width=s)}if(Bw(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Tw(t,"height");s!==void 0&&(t.height=s)}return t}const wk=dj?{passive:!0}:!1;function Jj(t,e,n){t&&t.addEventListener(e,n,wk)}function eB(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,wk)}function tB(t,e){const n=Xj[t.type]||t.type,{x:i,y:r}=ri(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Pd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function nB(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Pd(a.addedNodes,i),o=o&&!Pd(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function iB(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Pd(a.removedNodes,i),o=o&&!Pd(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Bl=new Map;let Hw=0;function xk(){const t=window.devicePixelRatio;t!==Hw&&(Hw=t,Bl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function rB(t,e){Bl.size||window.addEventListener("resize",xk),Bl.set(t,e)}function sB(t){Bl.delete(t),Bl.size||window.removeEventListener("resize",xk)}function oB(t,e,n){const i=t.canvas,r=i&&qy(i);if(!r)return;const s=JT((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),rB(t,s),o}function Yh(t,e,n){n&&n.disconnect(),e==="resize"&&sB(t)}function aB(t,e,n){const i=t.canvas,r=JT(s=>{t.ctx!==null&&n(tB(s,t))},t);return Jj(i,e,r),r}class lB extends _k{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Zj(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[bu])return!1;const i=n[bu].initial;["height","width"].forEach(s=>{const o=i[s];Pe(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[bu],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:nB,detach:iB,resize:oB}[n]||aB;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Yh,detach:Yh,resize:Yh}[n]||eB)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return uj(e,n,i,r)}isAttached(e){const n=e&&qy(e);return!!(n&&n.isConnected)}}function cB(t){return!Gy()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Qj:lB}var ru;let zs=(ru=class{constructor(){oe(this,"x");oe(this,"y");oe(this,"active",!1);oe(this,"options");oe(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return zl(this.x)&&zl(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},oe(ru,"defaults",{}),oe(ru,"defaultRoutes"),ru);function uB(t,e){const n=t.options.ticks,i=dB(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?hB(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return pB(e,c,s,o/r),c;const u=fB(s,e,r);if(o>0){let d,f;const h=o>1?Math.round((l-a)/(o-1)):null;for(Zc(e,c,u,Pe(h)?0:a-h,a),d=0,f=o-1;d<f;d++)Zc(e,c,u,s[d],s[d+1]);return Zc(e,c,u,l,Pe(h)?e.length:l+h),c}return Zc(e,c,u),c}function dB(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function fB(t,e,n){const i=mB(t),r=e.length/n;if(!i)return Math.max(r,1);const s=o6(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function hB(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function pB(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Zc(t,e,n,i,r){const s=ae(i,0),o=Math.min(ae(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function mB(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const gB=t=>t==="left"?"right":t==="right"?"left":t,Ww=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,$w=(t,e)=>Math.min(e||t,t);function Vw(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function yB(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function vB(t,e){ue(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Ca(t){return t.drawTicks?t.tickLength:0}function Uw(t,e){if(!t.display)return 0;const n=gt(t.font,e),i=xn(t.padding);return(qe(t.text)?t.text.length:1)*n.lineHeight+i.height}function _B(t,e){return Fs(t,{scale:e,type:"scale"})}function wB(t,e,n){return Fs(t,{tick:n,index:e,type:"tick"})}function xB(t,e,n){let i=$y(t);return(n&&e!=="right"||!n&&e==="right")&&(i=gB(i)),i}function bB(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,h,m;const p=o-r,y=a-s;if(t.isHorizontal()){if(h=ht(i,s,a),pe(n)){const g=Object.keys(n)[0],v=n[g];m=u[g].getPixelForValue(v)+p-e}else n==="center"?m=(c.bottom+c.top)/2+p-e:m=Ww(t,n,e);f=a-s}else{if(pe(n)){const g=Object.keys(n)[0],v=n[g];h=u[g].getPixelForValue(v)-y+e}else n==="center"?h=(c.left+c.right)/2-y+e:h=Ww(t,n,e);m=ht(i,o,r),d=n==="left"?-Dn:Dn}return{titleX:h,titleY:m,maxWidth:f,rotation:d}}class na extends zs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Qn(e,Number.POSITIVE_INFINITY),n=Qn(n,Number.NEGATIVE_INFINITY),i=Qn(i,Number.POSITIVE_INFINITY),r=Qn(r,Number.NEGATIVE_INFINITY),{min:Qn(e,i),max:Qn(n,r),minDefined:_t(e),maxDefined:_t(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Qn(n,Qn(i,n)),max:Qn(i,Qn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ee(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=W6(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Vw(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=uB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ee(this.options.afterUpdate,[this])}beforeSetDimensions(){ee(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ee(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ee(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ee(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=ee(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){ee(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ee(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=$w(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,h=gn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:h/(i-1),d+6>a&&(a=h/(i-(e.offset?.5:1)),l=this.maxHeight-Ca(e.grid)-n.padding-Uw(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=u6(Math.min(Math.asin(gn((u.highest.height+6)/a,-1,1)),Math.asin(gn(l/c,-1,1))-Math.asin(gn(f/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ee(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ee(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Uw(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Ca(s)+l):(e.height=this.maxHeight,e.width=Ca(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),h=i.padding*2,m=us(this.labelRotation),p=Math.cos(m),y=Math.sin(m);if(a){const g=i.mirror?0:y*d.width+p*f.height;e.height=Math.min(this.maxHeight,e.height+g+h)}else{const g=i.mirror?0:p*d.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+g+h)}this._calculatePadding(c,u,y,p)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?c?(f=r*e.width,h=i*n.height):(f=i*e.height,h=r*n.width):s==="start"?h=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,h=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ee(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Pe(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Vw(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/$w(n,i));let c=0,u=0,d,f,h,m,p,y,g,v,_,b,E;for(d=0;d<n;d+=l){if(m=e[d].label,p=this._resolveTickFontOptions(d),r.font=y=p.string,g=s[y]=s[y]||{data:{},gc:[]},v=p.lineHeight,_=b=0,!Pe(m)&&!qe(m))_=xw(r,g.data,g.gc,_,m),b=v;else if(qe(m))for(f=0,h=m.length;f<h;++f)E=m[f],!Pe(E)&&!qe(E)&&(_=xw(r,g.data,g.gc,_,E),b+=v);o.push(_),a.push(b),c=Math.max(_,c),u=Math.max(b,u)}vB(s,n);const T=o.indexOf(c),k=a.indexOf(u),I=R=>({width:o[R]||0,height:a[R]||0});return{first:I(0),last:I(n-1),widest:I(T),highest:I(k),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return h6(this._alignToPixels?Zr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=wB(this.getContext(),e,i))}return this.$context||(this.$context=_B(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=us(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Ca(s),h=[],m=a.setContext(this.getContext()),p=m.display?m.width:0,y=p/2,g=function(Y){return Zr(i,Y,p)};let v,_,b,E,T,k,I,R,O,j,L,Q;if(o==="top")v=g(this.bottom),k=this.bottom-f,R=v-y,j=g(e.top)+y,Q=e.bottom;else if(o==="bottom")v=g(this.top),j=e.top,Q=g(e.bottom)-y,k=v+y,R=this.top+f;else if(o==="left")v=g(this.right),T=this.right-f,I=v-y,O=g(e.left)+y,L=e.right;else if(o==="right")v=g(this.left),O=e.left,L=g(e.right)-y,T=v+y,I=this.left+f;else if(n==="x"){if(o==="center")v=g((e.top+e.bottom)/2+.5);else if(pe(o)){const Y=Object.keys(o)[0],q=o[Y];v=g(this.chart.scales[Y].getPixelForValue(q))}j=e.top,Q=e.bottom,k=v+y,R=k+f}else if(n==="y"){if(o==="center")v=g((e.left+e.right)/2);else if(pe(o)){const Y=Object.keys(o)[0],q=o[Y];v=g(this.chart.scales[Y].getPixelForValue(q))}T=v-y,I=T-f,O=e.left,L=e.right}const B=ae(r.ticks.maxTicksLimit,d),G=Math.max(1,Math.ceil(d/B));for(_=0;_<d;_+=G){const Y=this.getContext(_),q=s.setContext(Y),M=a.setContext(Y),D=q.lineWidth,$=q.color,X=M.dash||[],K=M.dashOffset,ne=q.tickWidth,J=q.tickColor,xe=q.tickBorderDash||[],Ee=q.tickBorderDashOffset;b=yB(this,_,l),b!==void 0&&(E=Zr(i,b,D),c?T=I=O=L=E:k=R=j=Q=E,h.push({tx1:T,ty1:k,tx2:I,ty2:R,x1:O,y1:j,x2:L,y2:Q,width:D,color:$,borderDash:X,borderDashOffset:K,tickWidth:ne,tickColor:J,tickBorderDash:xe,tickBorderDashOffset:Ee}))}return this._ticksLength=d,this._borderValue=v,h}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,f=Ca(i.grid),h=f+u,m=d?-u:h,p=-us(this.labelRotation),y=[];let g,v,_,b,E,T,k,I,R,O,j,L,Q="middle";if(r==="top")T=this.bottom-m,k=this._getXAxisLabelAlignment();else if(r==="bottom")T=this.top+m,k=this._getXAxisLabelAlignment();else if(r==="left"){const G=this._getYAxisLabelAlignment(f);k=G.textAlign,E=G.x}else if(r==="right"){const G=this._getYAxisLabelAlignment(f);k=G.textAlign,E=G.x}else if(n==="x"){if(r==="center")T=(e.top+e.bottom)/2+h;else if(pe(r)){const G=Object.keys(r)[0],Y=r[G];T=this.chart.scales[G].getPixelForValue(Y)+h}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")E=(e.left+e.right)/2-h;else if(pe(r)){const G=Object.keys(r)[0],Y=r[G];E=this.chart.scales[G].getPixelForValue(Y)}k=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?Q="top":l==="end"&&(Q="bottom"));const B=this._getLabelSizes();for(g=0,v=a.length;g<v;++g){_=a[g],b=_.label;const G=s.setContext(this.getContext(g));I=this.getPixelForTick(g)+s.labelOffset,R=this._resolveTickFontOptions(g),O=R.lineHeight,j=qe(b)?b.length:1;const Y=j/2,q=G.color,M=G.textStrokeColor,D=G.textStrokeWidth;let $=k;o?(E=I,k==="inner"&&(g===v-1?$=this.options.reverse?"left":"right":g===0?$=this.options.reverse?"right":"left":$="center"),r==="top"?c==="near"||p!==0?L=-j*O+O/2:c==="center"?L=-B.highest.height/2-Y*O+O:L=-B.highest.height+O/2:c==="near"||p!==0?L=O/2:c==="center"?L=B.highest.height/2-Y*O:L=B.highest.height-j*O,d&&(L*=-1),p!==0&&!G.showLabelBackdrop&&(E+=O/2*Math.sin(p))):(T=I,L=(1-j)*O/2);let X;if(G.showLabelBackdrop){const K=xn(G.backdropPadding),ne=B.heights[g],J=B.widths[g];let xe=L-K.top,Ee=0-K.left;switch(Q){case"middle":xe-=ne/2;break;case"bottom":xe-=ne;break}switch(k){case"center":Ee-=J/2;break;case"right":Ee-=J;break;case"inner":g===v-1?Ee-=J:g>0&&(Ee-=J/2);break}X={left:Ee,top:xe,width:J+K.width,height:ne+K.height,color:G.backdropColor}}y.push({label:b,font:R,textOffset:L,options:{rotation:p,color:q,strokeColor:M,strokeWidth:D,textAlign:$,textBaseline:Q,translation:[E,T],backdrop:X}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-us(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Zr(e,this.left,o)-o/2,u=Zr(e,this.right,a)+a/2,d=f=l):(d=Zr(e,this.top,o)-o/2,f=Zr(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&xf(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;jl(i,c,0,u,l,a)}r&&bf(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=gt(i.font),o=xn(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||pe(n)?(l+=o.bottom,qe(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=bB(this,l,n,a);jl(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:f,textAlign:xB(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=ae(e.grid&&e.grid.z,-1),r=ae(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==na.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return gt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Jc{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;CB(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,SB(e,o,i),this.override&&$e.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in $e[r]&&(delete $e[r][i],this.override&&delete As[i])}}function SB(t,e,n){const i=Fl(Object.create(null),[n?$e.get(n):{},$e.get(e),t.defaults]);$e.set(e,i),t.defaultRoutes&&EB(e,t.defaultRoutes),t.descriptors&&$e.describe(e,t.descriptors)}function EB(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");$e.route(s,r,l,a)})}function CB(t){return"id"in t&&"defaults"in t}class TB{constructor(){this.controllers=new Jc(el,"datasets",!0),this.elements=new Jc(zs,"elements"),this.plugins=new Jc(Object,"plugins"),this.scales=new Jc(na,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ue(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=Hy(e);ee(i["before"+r],[],i),n[e](i),ee(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Jn=new TB;class kB{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(ee(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=ae(i.options&&i.options.plugins,{}),s=PB(i);return r===!1&&!n?[]:NB(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function PB(t){const e={},n=[],i=Object.keys(Jn.plugins.items);for(let s=0;s<i.length;s++)n.push(Jn.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function IB(t,e){return!e&&t===!1?null:t===!0?{}:t}function NB(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=IB(i[l],r);c!==null&&s.push({plugin:a,options:RB(t.config,{plugin:a,local:n[l]},c,o)})}return s}function RB(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function km(t,e){const n=$e.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function MB(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function AB(t,e){return t===e?"_index_":"_value_"}function Yw(t){if(t==="x"||t==="y"||t==="r")return t}function OB(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Pm(t,...e){if(Yw(t))return t;for(const n of e){const i=n.axis||OB(n.position)||t.length>1&&Yw(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Kw(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function DB(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Kw(t,"x",n[0])||Kw(t,"y",n[0])}return{}}function LB(t,e){const n=As[t.type]||{scales:{}},i=e.scales||{},r=km(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!pe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Pm(o,a,DB(o,t),$e.scales[a.type]),c=AB(l,r),u=n.scales||{};s[o]=Qa(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||km(a,e),u=(As[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=MB(d,l),h=o[f+"AxisID"]||f;s[h]=s[h]||Object.create(null),Qa(s[h],[{axis:f},i[h],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];Qa(a,[$e.scales[a.type],$e.scale])}),s}function bk(t){const e=t.options||(t.options={});e.plugins=ae(e.plugins,{}),e.scales=LB(t,e)}function Sk(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function FB(t){return t=t||{},t.data=Sk(t.data),bk(t),t}const Gw=new Map,Ek=new Set;function eu(t,e){let n=Gw.get(t);return n||(n=e(),Gw.set(t,n),Ek.add(n)),n}const Ta=(t,e,n)=>{const i=Ed(e,n);i!==void 0&&t.add(i)};class zB{constructor(e){this._config=FB(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Sk(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),bk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return eu(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return eu(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return eu(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return eu(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Ta(l,e,d))),u.forEach(d=>Ta(l,r,d)),u.forEach(d=>Ta(l,As[s]||{},d)),u.forEach(d=>Ta(l,$e,d)),u.forEach(d=>Ta(l,Em,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Ek.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,As[n]||{},$e.datasets[n]||{},{type:n},$e,Em]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=qw(this._resolverCache,e,r);let l=o;if(BB(o,n)){s.$shared=!1,i=Br(i)?i():i;const c=this.createResolver(e,i,a);l=Vo(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=qw(this._resolverCache,e,i);return pe(n)?Vo(s,n,void 0,r):s}}function qw(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:Uy(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const jB=t=>pe(t)&&Object.getOwnPropertyNames(t).some(e=>Br(t[e]));function BB(t,e){const{isScriptable:n,isIndexable:i}=rk(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Br(a)||jB(a))||o&&qe(a))return!0}return!1}var HB="4.5.0";const WB=["top","bottom","left","right","chartArea"];function Qw(t,e){return t==="top"||t==="bottom"||WB.indexOf(t)===-1&&e==="x"}function Xw(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Zw(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ee(n&&n.onComplete,[t],e)}function $B(t){const e=t.chart,n=e.options.animation;ee(n&&n.onProgress,[t],e)}function Ck(t){return Gy()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Su={},Jw=t=>{const e=Ck(t);return Object.values(Su).filter(n=>n.canvas===e).pop()};function VB(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function UB(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var nr;let Cf=(nr=class{static register(...e){Jn.add(...e),ex()}static unregister(...e){Jn.remove(...e),ex()}constructor(e,n){const i=this.config=new zB(n),r=Ck(e),s=Jw(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||cB(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Xz(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=v6(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Su[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}bi.listen(this,"complete",Zw),bi.listen(this,"progress",$B),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return Pe(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Jn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Cw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bw(this.canvas,this.ctx),this}stop(){return bi.stop(this),this}resize(e,n){bi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Cw(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ee(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ue(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Pm(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ue(s,o=>{const a=o.options,l=a.id,c=Pm(l,a),u=ae(a.type,o.dtype);(a.position===void 0||Qw(a.position,c)!==Qw(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const f=Jn.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),ue(r,(o,a)=>{o||delete i[a]}),ue(i,o=>{yn.configure(this,o,o.options),yn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Xw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||km(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Jn.getController(a),{datasetElementType:c,dataElementType:u}=$e.datasets[a];Object.assign(l,{dataElementType:Jn.getElement(u),datasetElementType:c&&Jn.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ue(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||ue(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Xw("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ue(this.scales,e=>{yn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!fw(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;VB(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!fw(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yn.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],ue(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Br(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bi.has(this)?this.attached&&!bi.running(this)&&bi.start(this):(this.draw(),Zw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=pk(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&xf(n,r),e.controller.draw(),r&&bf(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return $o(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=Wj.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Fs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);Cd(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),bi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),bw(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Su[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ue(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ue(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ue(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!bd(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=i6(e),c=UB(e,this._lastEvent,i,l);i&&(this._lastEvent=null,ee(s.onHover,[e,a,this],this),l&&ee(s.onClick,[e,a,this],this));const u=!bd(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},oe(nr,"defaults",$e),oe(nr,"instances",Su),oe(nr,"overrides",As),oe(nr,"registry",Jn),oe(nr,"version",HB),oe(nr,"getChart",Jw),nr);function ex(){return ue(Cf.instances,t=>t._plugins.invalidate())}function Tk(t,e,n=e){t.lineCap=ae(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ae(n.borderDash,e.borderDash)),t.lineDashOffset=ae(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ae(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ae(n.borderWidth,e.borderWidth),t.strokeStyle=ae(n.borderColor,e.borderColor)}function YB(t,e,n){t.lineTo(n.x,n.y)}function KB(t){return t.stepped?M6:t.tension||t.cubicInterpolationMode==="monotone"?A6:YB}function kk(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function GB(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=kk(r,n,i),u=KB(s);let{move:d=!0,reverse:f}=i||{},h,m,p;for(h=0;h<=c;++h)m=r[(a+(f?c-h:h))%o],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):u(t,p,m,f,s.stepped),p=m);return l&&(m=r[(a+(f?c:0))%o],u(t,p,m,f,s.stepped)),!!l}function qB(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=kk(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,f,h,m,p,y,g;const v=b=>(o+(c?a-b:b))%s,_=()=>{p!==y&&(t.lineTo(u,y),t.lineTo(u,p),t.lineTo(u,g))};for(l&&(h=r[v(0)],t.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=r[v(f)],h.skip)continue;const b=h.x,E=h.y,T=b|0;T===m?(E<p?p=E:E>y&&(y=E),u=(d*u+b)/++d):(_(),t.lineTo(b,E),m=T,d=0,p=y=E),g=E}_()}function Im(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?qB:GB}function QB(t){return t.stepped?fj:t.tension||t.cubicInterpolationMode==="monotone"?hj:rs}function XB(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),Tk(t,e.options),t.stroke(r)}function ZB(t,e,n,i){const{segments:r,options:s}=e,o=Im(e);for(const a of r)Tk(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const JB=typeof Path2D=="function";function eH(t,e,n,i){JB&&!e.options.segment?XB(t,e,n,i):ZB(t,e,n,i)}class yr extends zs{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;rj(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_j(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=hk(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=QB(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],h=s[d],m=s[f];if(h===m){a.push(h);continue}const p=Math.abs((r-h[n])/(m[n]-h[n])),y=l(h,m,p,i.stepped);y[n]=e[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Im(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Im(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),eH(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}oe(yr,"id","line"),oe(yr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),oe(yr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),oe(yr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function tx(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Eu extends zs{constructor(n){super();oe(this,"parsed");oe(this,"skip");oe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return tx(this,n,"x",i)}inYRange(n,i){return tx(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!$o(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Cm(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}oe(Eu,"id","point"),oe(Eu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),oe(Eu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function tH(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Tf(l,c,r);const u=Nm(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const d=hk(e,u);for(const f of d){const h=Nm(n,s[f.start],s[f.end],f.loop),m=fk(a,r,h);for(const p of m)o.push({source:p,target:f,start:{[n]:nx(u,h,"start",Math.max)},end:{[n]:nx(u,h,"end",Math.min)}})}}return o}function Nm(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=ei(r),s=ei(s)),{property:t,start:r,end:s}}function nH(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=Tf(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function Tf(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function nx(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function Pk(t,e){let n=[],i=!1;return qe(t)?(i=!0,n=t):n=nH(t,e),n.length?new yr({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function ix(t){return t&&t.fill!==!1}function iH(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!_t(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function rH(t,e,n){const i=lH(t);if(pe(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return _t(r)&&Math.floor(r)===r?sH(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function sH(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function oH(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:pe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function aH(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:pe(t)?i=t.value:i=e.getBaseValue(),i}function lH(t){const e=t.options,n=e.fill;let i=ae(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function cH(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=uH(e,n);a.push(Pk({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)dH(r,o[u],a)}return new yr({points:r,options:{}})}function uH(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function dH(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=fH(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function fH(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=o[u.start][n],f=o[u.end][n];if(lo(r,d,f)){a=r===d,l=r===f;break}}return{first:a,last:l,point:i}}class Ik{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:jn},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function hH(t){const{chart:e,fill:n,line:i}=t;if(_t(n))return pH(e,n);if(n==="stack")return cH(t);if(n==="shape")return!0;const r=mH(t);return r instanceof Ik?r:Pk(r,i)}function pH(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function mH(t){return(t.scale||{}).getPointPositionForValue?yH(t):gH(t)}function gH(t){const{scale:e={},fill:n}=t,i=oH(n,e);if(_t(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function yH(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=aH(n,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new Ik({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function Kh(t,e,n){const i=hH(e),{chart:r,index:s,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,d=c.backgroundColor,{above:f=d,below:h=d}=u||{},m=r.getDatasetMeta(s),p=pk(r,m);i&&o.points.length&&(xf(t,n),vH(t,{line:o,target:i,above:f,below:h,area:n,scale:a,axis:l,clip:p}),bf(t))}function vH(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let u=s;s!==r&&(c==="x"?(rx(t,i,o.top),Gh(t,{line:n,target:i,color:r,scale:a,property:c,clip:l}),t.restore(),t.save(),rx(t,i,o.bottom)):c==="y"&&(sx(t,i,o.left),Gh(t,{line:n,target:i,color:s,scale:a,property:c,clip:l}),t.restore(),t.save(),sx(t,i,o.right),u=r)),Gh(t,{line:n,target:i,color:u,scale:a,property:c,clip:l}),t.restore()}function rx(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],d=r[Tf(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function sx(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],d=r[Tf(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,d.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Gh(t,e){const{line:n,target:i,property:r,color:s,scale:o,clip:a}=e,l=tH(n,i,r);for(const{source:c,target:u,start:d,end:f}of l){const{style:{backgroundColor:h=s}={}}=c,m=i!==!0;t.save(),t.fillStyle=h,_H(t,o,a,m&&Nm(r,d,f)),t.beginPath();const p=!!n.pathSegment(t,c);let y;if(m){p?t.closePath():ox(t,i,f,r);const g=!!i.pathSegment(t,u,{move:p,reverse:!0});y=p&&g,y||ox(t,i,d,r)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function _H(t,e,n,i){const r=e.chart.chartArea,{property:s,start:o,end:a}=i||{};if(s==="x"||s==="y"){let l,c,u,d;s==="x"?(l=o,c=r.top,u=a,d=r.bottom):(l=r.left,c=o,u=r.right,d=a),t.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),d=Math.min(d,n.bottom)),t.rect(l,c,u-l,d-c),t.clip()}}function ox(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var wH={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof yr&&(l={visible:t.isDatasetVisible(o),index:o,fill:rH(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=iH(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&Kh(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;ix(s)&&Kh(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!ix(i)||n.drawTime!=="beforeDatasetDraw"||Kh(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ax=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},xH=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class lx extends zs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ee(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=gt(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=ax(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((m,p)=>{const y=i+n/2+s.measureText(m.text).width;(p===0||c[c.length-1]+y+2*a>o)&&(d+=u,c[c.length-(p>0?0:1)]=0,h+=u,f++),l[p]={left:0,top:h,row:f,width:y,height:r},c[c.length-1]+=y+a}),d}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,h=0,m=0,p=0;return this.legendItems.forEach((y,g)=>{const{itemWidth:v,itemHeight:_}=bH(i,n,s,y,r);g>0&&h+_+2*a>u&&(d+=f+a,c.push({width:f,height:h}),m+=f+a,p++,f=h=0),l[g]={left:m,top:h,col:p,width:v,height:_},f=Math.max(f,v),h+=_+a}),d+=f,c.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=xo(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=ht(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ht(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=ht(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ht(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;xf(e,this),this._draw(),bf(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=$e.color,l=xo(e.rtl,this.left,this.width),c=gt(o.font),{padding:u}=o,d=c.size,f=d/2;let h;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:m,boxHeight:p,itemHeight:y}=ax(o,d),g=function(T,k,I){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;r.save();const R=ae(I.lineWidth,1);if(r.fillStyle=ae(I.fillStyle,a),r.lineCap=ae(I.lineCap,"butt"),r.lineDashOffset=ae(I.lineDashOffset,0),r.lineJoin=ae(I.lineJoin,"miter"),r.lineWidth=R,r.strokeStyle=ae(I.strokeStyle,a),r.setLineDash(ae(I.lineDash,[])),o.usePointStyle){const O={radius:p*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:R},j=l.xPlus(T,m/2),L=k+f;nk(r,O,j,L,o.pointStyleWidth&&m)}else{const O=k+Math.max((d-p)/2,0),j=l.leftForLtr(T,m),L=Ja(I.borderRadius);r.beginPath(),Object.values(L).some(Q=>Q!==0)?Tm(r,{x:j,y:O,w:m,h:p,radius:L}):r.rect(j,O,m,p),r.fill(),R!==0&&r.stroke()}r.restore()},v=function(T,k,I){jl(r,I.text,T,k+y/2,c,{strikethrough:I.hidden,textAlign:l.textAlign(I.textAlign)})},_=this.isHorizontal(),b=this._computeTitleHeight();_?h={x:ht(s,this.left+u,this.right-i[0]),y:this.top+u+b,line:0}:h={x:this.left+u,y:ht(s,this.top+b+u,this.bottom-n[0].height),line:0},ck(this.ctx,e.textDirection);const E=y+u;this.legendItems.forEach((T,k)=>{r.strokeStyle=T.fontColor,r.fillStyle=T.fontColor;const I=r.measureText(T.text).width,R=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),O=m+f+I;let j=h.x,L=h.y;l.setWidth(this.width),_?k>0&&j+O+u>this.right&&(L=h.y+=E,h.line++,j=h.x=ht(s,this.left+u,this.right-i[h.line])):k>0&&L+E>this.bottom&&(j=h.x=j+n[h.line].width+u,h.line++,L=h.y=ht(s,this.top+b+u,this.bottom-n[h.line].height));const Q=l.x(j);if(g(Q,L,T),j=_6(R,j+m+f,_?j+O:this.right,e.rtl),v(l.x(j),L,T),_)h.x+=O+u;else if(typeof T.text!="string"){const B=c.lineHeight;h.y+=Nk(T,B)+u}else h.y+=E}),uk(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=gt(n.font),r=xn(n.padding);if(!n.display)return;const s=xo(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=ht(e.align,d,this.right-f);else{const m=this.columnSizes.reduce((p,y)=>Math.max(p,y.height),0);u=c+ht(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const h=ht(a,d,d+f);o.textAlign=s.textAlign($y(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,jl(o,n.text,h,u,i)}_computeTitleHeight(){const e=this.options.title,n=gt(e.font),i=xn(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(lo(e,this.left,this.right)&&lo(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],lo(e,r.left,r.left+r.width)&&lo(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!CH(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=xH(r,i);r&&!s&&ee(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&ee(n.onHover,[e,i,this],this)}else i&&ee(n.onClick,[e,i,this],this)}}function bH(t,e,n,i,r){const s=SH(i,t,e,n),o=EH(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function SH(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function EH(t,e,n){let i=t;return typeof e.text!="string"&&(i=Nk(e,n)),i}function Nk(t,e){const n=t.text?t.text.length:0;return e*n}function CH(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var TH={id:"legend",_element:lx,start(t,e,n){const i=t.legend=new lx({ctx:t.ctx,options:n,chart:t});yn.configure(t,i,n),yn.addBox(t,i)},stop(t){yn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;yn.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=xn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Rk extends zs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=qe(i.text)?i.text.length:1;this._padding=xn(i.padding);const s=r*gt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=ht(a,i,s),d=n+e,c=s-i):(o.position==="left"?(u=i+e,d=ht(a,r,n),l=it*-.5):(u=s-e,d=ht(a,n,r),l=it*.5),c=r-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=gt(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);jl(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:$y(n.align),textBaseline:"middle",translation:[o,a]})}}function kH(t,e){const n=new Rk({ctx:t.ctx,options:e,chart:t});yn.configure(t,n,e),yn.addBox(t,n),t.titleBlock=n}var PH={id:"title",_element:Rk,start(t,e,n){kH(t,n)},stop(t){const e=t.titleBlock;yn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;yn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Aa={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Sm(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Xn(t,e){return e&&(qe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Si(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function IH(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function cx(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=gt(e.bodyFont),c=gt(e.titleFont),u=gt(e.footerFont),d=s.length,f=r.length,h=i.length,m=xn(e.padding);let p=m.height,y=0,g=i.reduce((b,E)=>b+E.before.length+E.lines.length+E.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,d&&(p+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),g){const b=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=h*b+(g-h)*l.lineHeight+(g-1)*e.bodySpacing}f&&(p+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let v=0;const _=function(b){y=Math.max(y,n.measureText(b).width+v)};return n.save(),n.font=c.string,ue(t.title,_),n.font=l.string,ue(t.beforeBody.concat(t.afterBody),_),v=e.displayColors?o+2+e.boxPadding:0,ue(i,b=>{ue(b.before,_),ue(b.lines,_),ue(b.after,_)}),v=0,n.font=u.string,ue(t.footer,_),n.restore(),y+=m.width,{width:y,height:p}}function NH(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function RH(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function MH(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),RH(c,t,e,n)&&(c="center"),c}function ux(t,e,n){const i=n.yAlign||e.yAlign||NH(t,n);return{xAlign:n.xAlign||e.xAlign||MH(t,e,n,i),yAlign:i}}function AH(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function OH(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function dx(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=Ja(o);let m=AH(e,a);const p=OH(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,f)+r:a==="right"&&(m+=Math.max(d,h)+r),{x:gn(m,0,i.width-e.width),y:gn(p,0,i.height-e.height)}}function tu(t,e,n){const i=xn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function fx(t){return Xn([],Si(t))}function DH(t,e,n){return Fs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function hx(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Mk={beforeTitle:wi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:wi,beforeBody:wi,beforeLabel:wi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Pe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:wi,afterBody:wi,beforeFooter:wi,footer:wi,afterFooter:wi};function At(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?Mk[e].call(n,i):r}class Rm extends zs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new mk(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=DH(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=At(i,"beforeTitle",this,e),s=At(i,"title",this,e),o=At(i,"afterTitle",this,e);let a=[];return a=Xn(a,Si(r)),a=Xn(a,Si(s)),a=Xn(a,Si(o)),a}getBeforeBody(e,n){return fx(At(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return ue(e,s=>{const o={before:[],lines:[],after:[]},a=hx(i,s);Xn(o.before,Si(At(a,"beforeLabel",this,s))),Xn(o.lines,At(a,"label",this,s)),Xn(o.after,Si(At(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return fx(At(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=At(i,"beforeFooter",this,e),s=At(i,"footer",this,e),o=At(i,"afterFooter",this,e);let a=[];return a=Xn(a,Si(r)),a=Xn(a,Si(s)),a=Xn(a,Si(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(IH(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,i))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,i))),ue(a,u=>{const d=hx(e.callbacks,u);r.push(At(d,"labelColor",this,u)),s.push(At(d,"labelPointStyle",this,u)),o.push(At(d,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Aa[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=cx(this,i),c=Object.assign({},a,l),u=ux(this.chart,i,c),d=dx(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Ja(a),{x:f,y:h}=e,{width:m,height:p}=n;let y,g,v,_,b,E;return s==="center"?(b=h+p/2,r==="left"?(y=f,g=y-o,_=b+o,E=b-o):(y=f+m,g=y+o,_=b-o,E=b+o),v=y):(r==="left"?g=f+Math.max(l,u)+o:r==="right"?g=f+m-Math.max(c,d)-o:g=this.caretX,s==="top"?(_=h,b=_-o,y=g-o,v=g+o):(_=h+p,b=_+o,y=g+o,v=g-o),E=_),{x1:y,x2:g,x3:v,y1:_,y2:b,y3:E}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=xo(i.rtl,this.x,this.width);for(e.x=tu(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=gt(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=gt(s.bodyFont),d=tu(this,"left",s),f=r.x(d),h=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+h;if(s.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=r.leftForLtr(f,c)+c/2,g=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Cm(e,p,y,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Cm(e,p,y,g)}else{e.lineWidth=pe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=r.leftForLtr(f,c),y=r.leftForLtr(r.xPlus(f,1),c-2),g=Ja(o.borderRadius);Object.values(g).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Tm(e,{x:p,y:m,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Tm(e,{x:y,y:m+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(p,m,c,l),e.strokeRect(p,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=gt(i.bodyFont);let f=d.lineHeight,h=0;const m=xo(i.rtl,this.x,this.width),p=function(I){n.fillText(I,m.x(e.x+h),e.y+f/2),e.y+=f+s},y=m.textAlign(o);let g,v,_,b,E,T,k;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=tu(this,y,i),n.fillStyle=i.bodyColor,ue(this.beforeBody,p),h=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,b=0,T=r.length;b<T;++b){for(g=r[b],v=this.labelTextColors[b],n.fillStyle=v,ue(g.before,p),_=g.lines,a&&_.length&&(this._drawColorBox(n,e,b,m,i),f=Math.max(d.lineHeight,l)),E=0,k=_.length;E<k;++E)p(_[E]),f=d.lineHeight;ue(g.after,p)}h=0,f=d.lineHeight,ue(this.afterBody,p),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=xo(i.rtl,this.x,this.width);for(e.x=tu(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=gt(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:m}=Ja(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+h,l+u),n.quadraticCurveTo(a,l+u,a,l+u-h),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Aa[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=cx(this,e),l=Object.assign({},o,this._size),c=ux(n,e,l),u=dx(e,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=xn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),ck(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),uk(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!bd(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!bd(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=Aa[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}oe(Rm,"positioners",Aa);var LH={id:"tooltip",_element:Rm,positioners:Aa,afterInit(t,e,n){n&&(t.tooltip=new Rm({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Mk},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const FH=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function zH(t,e,n,i){const r=t.indexOf(e);if(r===-1)return FH(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const jH=(t,e)=>t===null?null:gn(Math.round(t),0,e);function px(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Mm extends na{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Pe(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:zH(i,e,ae(n,e),this._addedLabels),jH(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return px.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}oe(Mm,"id","category"),oe(Mm,"defaults",{ticks:{callback:px}});function BH(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,h=s||1,m=u-1,{min:p,max:y}=e,g=!Pe(o),v=!Pe(a),_=!Pe(c),b=(y-p)/(d+1);let E=pw((y-p)/m/h)*h,T,k,I,R;if(E<1e-14&&!g&&!v)return[{value:p},{value:y}];R=Math.ceil(y/E)-Math.floor(p/E),R>m&&(E=pw(R*E/m/h)*h),Pe(l)||(T=Math.pow(10,l),E=Math.ceil(E*T)/T),r==="ticks"?(k=Math.floor(p/E)*E,I=Math.ceil(y/E)*E):(k=p,I=y),g&&v&&s&&l6((a-o)/s,E/1e3)?(R=Math.round(Math.min((a-o)/E,u)),E=(a-o)/R,k=o,I=a):_?(k=g?o:k,I=v?a:I,R=c-1,E=(I-k)/R):(R=(I-k)/E,ws(R,Math.round(R),E/1e3)?R=Math.round(R):R=Math.ceil(R));const O=Math.max(mw(E),mw(k));T=Math.pow(10,Pe(l)?O:l),k=Math.round(k*T)/T,I=Math.round(I*T)/T;let j=0;for(g&&(f&&k!==o?(n.push({value:o}),k<o&&j++,ws(Math.round((k+j*E)*T)/T,o,mx(o,b,t))&&j++):k<o&&j++);j<R;++j){const L=Math.round((k+j*E)*T)/T;if(v&&L>a)break;n.push({value:L})}return v&&f&&I!==a?n.length&&ws(n[n.length-1].value,a,mx(a,b,t))?n[n.length-1].value=a:n.push({value:a}):(!v||I===a)&&n.push({value:I}),n}function mx(t,e,{horizontal:n,minRotation:i}){const r=us(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class HH extends na{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Pe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Hr(r),c=Hr(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=BH(r,s);return e.bounds==="ticks"&&c6(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return ek(e,this.chart.options.locale,this.options.ticks.format)}}class Am extends HH{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=_t(e)?e:0,this.max=_t(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=us(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}oe(Am,"id","linear"),oe(Am,"defaults",{ticks:{callback:tk.formatters.numeric}});const kf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ft=Object.keys(kf);function gx(t,e){return t-e}function yx(t,e){if(Pe(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),_t(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(zl(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function vx(t,e,n,i){const r=Ft.length;for(let s=Ft.indexOf(t);s<r-1;++s){const o=kf[Ft[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Ft[s]}return Ft[r-1]}function WH(t,e,n,i,r){for(let s=Ft.length-1;s>=Ft.indexOf(n);s--){const o=Ft[s];if(kf[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Ft[n?Ft.indexOf(n):0]}function $H(t){for(let e=Ft.indexOf(t)+1,n=Ft.length;e<n;++e)if(kf[Ft[e]].common)return Ft[e]}function _x(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=Wy(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function VH(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function wx(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:VH(t,i,r,n)}class Id extends na{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new Fj._date(e.adapters.date);r.init(n),Qa(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:yx(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=_t(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=_t(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=m6(r,s,o);return this._unit=n.unit||(i.autoSkip?vx(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):WH(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:$H(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),wx(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=gn(n,0,o),i=gn(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||vx(s.minUnit,n,i,this._getLabelCapacity(n)),a=ae(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=zl(l)||l===!0,u={};let d=n,f,h;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const m=r.ticks.source==="data"&&this.getDataTimestamps();for(f=d,h=0;f<i;f=+e.add(f,a,o),h++)_x(u,f,m);return(f===i||r.bounds==="ticks"||h===1)&&_x(u,f,m),Object.keys(u).sort(gx).map(p=>+p)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return ee(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=i[n],h=c&&d&&f&&f.major;return this._adapter.format(e,r||(h?d:u))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=us(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,wx(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(yx(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return y6(e.sort(gx))}}oe(Id,"id","time"),oe(Id,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function nu(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=ds(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=ds(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class xx extends Id{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=nu(n,this.min),this._tableRange=nu(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(nu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return nu(this._table,i*this._tableRange+this._minPos,!0)}}oe(xx,"id","timeseries"),oe(xx,"defaults",Id.defaults);const Ak="label";function bx(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function UH(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Ok(t,e){t.labels=e}function Dk(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ak;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function YH(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ak;const n={labels:[],datasets:[]};return Ok(n,t.labels),Dk(n,t.datasets,e),n}function KH(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,h=S.useRef(null),m=S.useRef(null),p=()=>{h.current&&(m.current=new Cf(h.current,{type:o,data:YH(a,s),options:l&&{...l},plugins:c}),bx(e,m.current))},y=()=>{bx(e,null),m.current&&(m.current.destroy(),m.current=null)};return S.useEffect(()=>{!r&&m.current&&l&&UH(m.current,l)},[r,l]),S.useEffect(()=>{!r&&m.current&&Ok(m.current.config.data,a.labels)},[r,a.labels]),S.useEffect(()=>{!r&&m.current&&a.datasets&&Dk(m.current.config.data,a.datasets,s)},[r,a.datasets]),S.useEffect(()=>{m.current&&(r?(y(),setTimeout(p)):m.current.update(d))},[r,l,a.labels,a.datasets,d]),S.useEffect(()=>{m.current&&(y(),setTimeout(p))},[o]),S.useEffect(()=>(p(),()=>y()),[]),H.createElement("canvas",{ref:h,role:"img",height:n,width:i,...f},u)}const GH=S.forwardRef(KH);function qH(t,e){return Cf.register(e),S.forwardRef((n,i)=>H.createElement(GH,{...n,ref:i,type:t}))}const QH=qH("line",xu);var Lk={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(t){(function(e,n,i,r){var s=["","webkit","Moz","MS","ms","o"],o=n.createElement("div"),a="function",l=Math.round,c=Math.abs,u=Date.now;function d(w,x,C){return setTimeout(_(w,C),x)}function f(w,x,C){return Array.isArray(w)?(h(w,C[x],C),!0):!1}function h(w,x,C){var N;if(w)if(w.forEach)w.forEach(x,C);else if(w.length!==r)for(N=0;N<w.length;)x.call(C,w[N],N,w),N++;else for(N in w)w.hasOwnProperty(N)&&x.call(C,w[N],N,w)}function m(w,x,C){var N="DEPRECATED METHOD: "+x+`
`+C+` AT 
`;return function(){var F=new Error("get-stack-trace"),V=F&&F.stack?F.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ce=e.console&&(e.console.warn||e.console.log);return ce&&ce.call(e.console,N,V),w.apply(this,arguments)}}var p;typeof Object.assign!="function"?p=function(x){if(x===r||x===null)throw new TypeError("Cannot convert undefined or null to object");for(var C=Object(x),N=1;N<arguments.length;N++){var F=arguments[N];if(F!==r&&F!==null)for(var V in F)F.hasOwnProperty(V)&&(C[V]=F[V])}return C}:p=Object.assign;var y=m(function(x,C,N){for(var F=Object.keys(C),V=0;V<F.length;)(!N||N&&x[F[V]]===r)&&(x[F[V]]=C[F[V]]),V++;return x},"extend","Use `assign`."),g=m(function(x,C){return y(x,C,!0)},"merge","Use `assign`.");function v(w,x,C){var N=x.prototype,F;F=w.prototype=Object.create(N),F.constructor=w,F._super=N,C&&p(F,C)}function _(w,x){return function(){return w.apply(x,arguments)}}function b(w,x){return typeof w==a?w.apply(x&&x[0]||r,x):w}function E(w,x){return w===r?x:w}function T(w,x,C){h(O(x),function(N){w.addEventListener(N,C,!1)})}function k(w,x,C){h(O(x),function(N){w.removeEventListener(N,C,!1)})}function I(w,x){for(;w;){if(w==x)return!0;w=w.parentNode}return!1}function R(w,x){return w.indexOf(x)>-1}function O(w){return w.trim().split(/\s+/g)}function j(w,x,C){if(w.indexOf&&!C)return w.indexOf(x);for(var N=0;N<w.length;){if(C&&w[N][C]==x||!C&&w[N]===x)return N;N++}return-1}function L(w){return Array.prototype.slice.call(w,0)}function Q(w,x,C){for(var N=[],F=[],V=0;V<w.length;){var ce=w[V][x];j(F,ce)<0&&N.push(w[V]),F[V]=ce,V++}return N=N.sort(function(rt,xt){return rt[x]>xt[x]}),N}function B(w,x){for(var C,N,F=x[0].toUpperCase()+x.slice(1),V=0;V<s.length;){if(C=s[V],N=C?C+F:x,N in w)return N;V++}return r}var G=1;function Y(){return G++}function q(w){var x=w.ownerDocument||w;return x.defaultView||x.parentWindow||e}var M=/mobile|tablet|ip(ad|hone|od)|android/i,D="ontouchstart"in e,$=B(e,"PointerEvent")!==r,X=D&&M.test(navigator.userAgent),K="touch",ne="pen",J="mouse",xe="kinect",Ee=25,te=1,Nt=2,_e=4,ze=8,Yt=1,an=2,Rt=4,Vn=8,hi=16,wt=an|Rt,bn=Vn|hi,Gi=wt|bn,pi=["x","y"],Gr=["clientX","clientY"];function Xe(w,x){var C=this;this.manager=w,this.callback=x,this.element=w.element,this.target=w.options.inputTarget,this.domHandler=function(N){b(w.options.enable,[w])&&C.handler(N)},this.init()}Xe.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(q(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(q(this.element),this.evWin,this.domHandler)}};function oc(w){var x,C=w.options.inputClass;return C?x=C:$?x=ln:X?x=cn:D?x=Mf:x=Ws,new x(w,mi)}function mi(w,x,C){var N=C.pointers.length,F=C.changedPointers.length,V=x&te&&N-F===0,ce=x&(_e|ze)&&N-F===0;C.isFirst=!!V,C.isFinal=!!ce,V&&(w.session={}),C.eventType=x,Pf(w,C),w.emit("hammer.input",C),w.recognize(C),w.session.prevInput=C}function Pf(w,x){var C=w.session,N=x.pointers,F=N.length;C.firstInput||(C.firstInput=gi(x)),F>1&&!C.firstMultiple?C.firstMultiple=gi(x):F===1&&(C.firstMultiple=!1);var V=C.firstInput,ce=C.firstMultiple,Ze=ce?ce.center:V.center,rt=x.center=ac(N);x.timeStamp=u(),x.deltaTime=x.timeStamp-V.timeStamp,x.angle=Hs(Ze,rt),x.distance=Bs(Ze,rt),If(C,x),x.offsetDirection=qr(x.deltaX,x.deltaY);var xt=lc(x.deltaTime,x.deltaX,x.deltaY);x.overallVelocityX=xt.x,x.overallVelocityY=xt.y,x.overallVelocity=c(xt.x)>c(xt.y)?xt.x:xt.y,x.scale=ce?qi(ce.pointers,N):1,x.rotation=ce?ra(ce.pointers,N):0,x.maxPointers=C.prevInput?x.pointers.length>C.prevInput.maxPointers?x.pointers.length:C.prevInput.maxPointers:x.pointers.length,Mt(C,x);var Gn=w.element;I(x.srcEvent.target,Gn)&&(Gn=x.srcEvent.target),x.target=Gn}function If(w,x){var C=x.center,N=w.offsetDelta||{},F=w.prevDelta||{},V=w.prevInput||{};(x.eventType===te||V.eventType===_e)&&(F=w.prevDelta={x:V.deltaX||0,y:V.deltaY||0},N=w.offsetDelta={x:C.x,y:C.y}),x.deltaX=F.x+(C.x-N.x),x.deltaY=F.y+(C.y-N.y)}function Mt(w,x){var C=w.lastInterval||x,N=x.timeStamp-C.timeStamp,F,V,ce,Ze;if(x.eventType!=ze&&(N>Ee||C.velocity===r)){var rt=x.deltaX-C.deltaX,xt=x.deltaY-C.deltaY,Gn=lc(N,rt,xt);V=Gn.x,ce=Gn.y,F=c(Gn.x)>c(Gn.y)?Gn.x:Gn.y,Ze=qr(rt,xt),w.lastInterval=x}else F=C.velocity,V=C.velocityX,ce=C.velocityY,Ze=C.direction;x.velocity=F,x.velocityX=V,x.velocityY=ce,x.direction=Ze}function gi(w){for(var x=[],C=0;C<w.pointers.length;)x[C]={clientX:l(w.pointers[C].clientX),clientY:l(w.pointers[C].clientY)},C++;return{timeStamp:u(),pointers:x,center:ac(x),deltaX:w.deltaX,deltaY:w.deltaY}}function ac(w){var x=w.length;if(x===1)return{x:l(w[0].clientX),y:l(w[0].clientY)};for(var C=0,N=0,F=0;F<x;)C+=w[F].clientX,N+=w[F].clientY,F++;return{x:l(C/x),y:l(N/x)}}function lc(w,x,C){return{x:x/w||0,y:C/w||0}}function qr(w,x){return w===x?Yt:c(w)>=c(x)?w<0?an:Rt:x<0?Vn:hi}function Bs(w,x,C){C||(C=pi);var N=x[C[0]]-w[C[0]],F=x[C[1]]-w[C[1]];return Math.sqrt(N*N+F*F)}function Hs(w,x,C){C||(C=pi);var N=x[C[0]]-w[C[0]],F=x[C[1]]-w[C[1]];return Math.atan2(F,N)*180/Math.PI}function ra(w,x){return Hs(x[1],x[0],Gr)+Hs(w[1],w[0],Gr)}function qi(w,x){return Bs(x[0],x[1],Gr)/Bs(w[0],w[1],Gr)}var cc={mousedown:te,mousemove:Nt,mouseup:_e},Qi="mousedown",Nf="mousemove mouseup";function Ws(){this.evEl=Qi,this.evWin=Nf,this.pressed=!1,Xe.apply(this,arguments)}v(Ws,Xe,{handler:function(x){var C=cc[x.type];C&te&&x.button===0&&(this.pressed=!0),C&Nt&&x.which!==1&&(C=_e),this.pressed&&(C&_e&&(this.pressed=!1),this.callback(this.manager,C,{pointers:[x],changedPointers:[x],pointerType:J,srcEvent:x}))}});var uc={pointerdown:te,pointermove:Nt,pointerup:_e,pointercancel:ze,pointerout:ze},dc={2:K,3:ne,4:J,5:xe},fc="pointerdown",$s="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(fc="MSPointerDown",$s="MSPointerMove MSPointerUp MSPointerCancel");function ln(){this.evEl=fc,this.evWin=$s,Xe.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}v(ln,Xe,{handler:function(x){var C=this.store,N=!1,F=x.type.toLowerCase().replace("ms",""),V=uc[F],ce=dc[x.pointerType]||x.pointerType,Ze=ce==K,rt=j(C,x.pointerId,"pointerId");V&te&&(x.button===0||Ze)?rt<0&&(C.push(x),rt=C.length-1):V&(_e|ze)&&(N=!0),!(rt<0)&&(C[rt]=x,this.callback(this.manager,V,{pointers:C,changedPointers:[x],pointerType:ce,srcEvent:x}),N&&C.splice(rt,1))}});var Rf={touchstart:te,touchmove:Nt,touchend:_e,touchcancel:ze},ie="touchstart",ve="touchstart touchmove touchend touchcancel";function be(){this.evTarget=ie,this.evWin=ve,this.started=!1,Xe.apply(this,arguments)}v(be,Xe,{handler:function(x){var C=Rf[x.type];if(C===te&&(this.started=!0),!!this.started){var N=Kt.call(this,x,C);C&(_e|ze)&&N[0].length-N[1].length===0&&(this.started=!1),this.callback(this.manager,C,{pointers:N[0],changedPointers:N[1],pointerType:K,srcEvent:x})}}});function Kt(w,x){var C=L(w.touches),N=L(w.changedTouches);return x&(_e|ze)&&(C=Q(C.concat(N),"identifier")),[C,N]}var Gt={touchstart:te,touchmove:Nt,touchend:_e,touchcancel:ze},Un="touchstart touchmove touchend touchcancel";function cn(){this.evTarget=Un,this.targetIds={},Xe.apply(this,arguments)}v(cn,Xe,{handler:function(x){var C=Gt[x.type],N=qt.call(this,x,C);N&&this.callback(this.manager,C,{pointers:N[0],changedPointers:N[1],pointerType:K,srcEvent:x})}});function qt(w,x){var C=L(w.touches),N=this.targetIds;if(x&(te|Nt)&&C.length===1)return N[C[0].identifier]=!0,[C,C];var F,V,ce=L(w.changedTouches),Ze=[],rt=this.target;if(V=C.filter(function(xt){return I(xt.target,rt)}),x===te)for(F=0;F<V.length;)N[V[F].identifier]=!0,F++;for(F=0;F<ce.length;)N[ce[F].identifier]&&Ze.push(ce[F]),x&(_e|ze)&&delete N[ce[F].identifier],F++;if(Ze.length)return[Q(V.concat(Ze),"identifier"),Ze]}var Yn=2500,Jy=25;function Mf(){Xe.apply(this,arguments);var w=_(this.handler,this);this.touch=new cn(this.manager,w),this.mouse=new Ws(this.manager,w),this.primaryTouch=null,this.lastTouches=[]}v(Mf,Xe,{handler:function(x,C,N){var F=N.pointerType==K,V=N.pointerType==J;if(!(V&&N.sourceCapabilities&&N.sourceCapabilities.firesTouchEvents)){if(F)Qk.call(this,C,N);else if(V&&Xk.call(this,N))return;this.callback(x,C,N)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Qk(w,x){w&te?(this.primaryTouch=x.changedPointers[0].identifier,ev.call(this,x)):w&(_e|ze)&&ev.call(this,x)}function ev(w){var x=w.changedPointers[0];if(x.identifier===this.primaryTouch){var C={x:x.clientX,y:x.clientY};this.lastTouches.push(C);var N=this.lastTouches,F=function(){var V=N.indexOf(C);V>-1&&N.splice(V,1)};setTimeout(F,Yn)}}function Xk(w){for(var x=w.srcEvent.clientX,C=w.srcEvent.clientY,N=0;N<this.lastTouches.length;N++){var F=this.lastTouches[N],V=Math.abs(x-F.x),ce=Math.abs(C-F.y);if(V<=Jy&&ce<=Jy)return!0}return!1}var tv=B(o.style,"touchAction"),nv=tv!==r,iv="compute",rv="auto",Af="manipulation",Qr="none",sa="pan-x",oa="pan-y",hc=Jk();function Of(w,x){this.manager=w,this.set(x)}Of.prototype={set:function(w){w==iv&&(w=this.compute()),nv&&this.manager.element.style&&hc[w]&&(this.manager.element.style[tv]=w),this.actions=w.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var w=[];return h(this.manager.recognizers,function(x){b(x.options.enable,[x])&&(w=w.concat(x.getTouchAction()))}),Zk(w.join(" "))},preventDefaults:function(w){var x=w.srcEvent,C=w.offsetDirection;if(this.manager.session.prevented){x.preventDefault();return}var N=this.actions,F=R(N,Qr)&&!hc[Qr],V=R(N,oa)&&!hc[oa],ce=R(N,sa)&&!hc[sa];if(F){var Ze=w.pointers.length===1,rt=w.distance<2,xt=w.deltaTime<250;if(Ze&&rt&&xt)return}if(!(ce&&V)&&(F||V&&C&wt||ce&&C&bn))return this.preventSrc(x)},preventSrc:function(w){this.manager.session.prevented=!0,w.preventDefault()}};function Zk(w){if(R(w,Qr))return Qr;var x=R(w,sa),C=R(w,oa);return x&&C?Qr:x||C?x?sa:oa:R(w,Af)?Af:rv}function Jk(){if(!nv)return!1;var w={},x=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(C){w[C]=x?e.CSS.supports("touch-action",C):!0}),w}var pc=1,un=2,Vs=4,Xi=8,yi=Xi,aa=16,Kn=32;function vi(w){this.options=p({},this.defaults,w||{}),this.id=Y(),this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=pc,this.simultaneous={},this.requireFail=[]}vi.prototype={defaults:{},set:function(w){return p(this.options,w),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(w){if(f(w,"recognizeWith",this))return this;var x=this.simultaneous;return w=mc(w,this),x[w.id]||(x[w.id]=w,w.recognizeWith(this)),this},dropRecognizeWith:function(w){return f(w,"dropRecognizeWith",this)?this:(w=mc(w,this),delete this.simultaneous[w.id],this)},requireFailure:function(w){if(f(w,"requireFailure",this))return this;var x=this.requireFail;return w=mc(w,this),j(x,w)===-1&&(x.push(w),w.requireFailure(this)),this},dropRequireFailure:function(w){if(f(w,"dropRequireFailure",this))return this;w=mc(w,this);var x=j(this.requireFail,w);return x>-1&&this.requireFail.splice(x,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(w){return!!this.simultaneous[w.id]},emit:function(w){var x=this,C=this.state;function N(F){x.manager.emit(F,w)}C<Xi&&N(x.options.event+sv(C)),N(x.options.event),w.additionalEvent&&N(w.additionalEvent),C>=Xi&&N(x.options.event+sv(C))},tryEmit:function(w){if(this.canEmit())return this.emit(w);this.state=Kn},canEmit:function(){for(var w=0;w<this.requireFail.length;){if(!(this.requireFail[w].state&(Kn|pc)))return!1;w++}return!0},recognize:function(w){var x=p({},w);if(!b(this.options.enable,[this,x])){this.reset(),this.state=Kn;return}this.state&(yi|aa|Kn)&&(this.state=pc),this.state=this.process(x),this.state&(un|Vs|Xi|aa)&&this.tryEmit(x)},process:function(w){},getTouchAction:function(){},reset:function(){}};function sv(w){return w&aa?"cancel":w&Xi?"end":w&Vs?"move":w&un?"start":""}function ov(w){return w==hi?"down":w==Vn?"up":w==an?"left":w==Rt?"right":""}function mc(w,x){var C=x.manager;return C?C.get(w):w}function Sn(){vi.apply(this,arguments)}v(Sn,vi,{defaults:{pointers:1},attrTest:function(w){var x=this.options.pointers;return x===0||w.pointers.length===x},process:function(w){var x=this.state,C=w.eventType,N=x&(un|Vs),F=this.attrTest(w);return N&&(C&ze||!F)?x|aa:N||F?C&_e?x|Xi:x&un?x|Vs:un:Kn}});function gc(){Sn.apply(this,arguments),this.pX=null,this.pY=null}v(gc,Sn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Gi},getTouchAction:function(){var w=this.options.direction,x=[];return w&wt&&x.push(oa),w&bn&&x.push(sa),x},directionTest:function(w){var x=this.options,C=!0,N=w.distance,F=w.direction,V=w.deltaX,ce=w.deltaY;return F&x.direction||(x.direction&wt?(F=V===0?Yt:V<0?an:Rt,C=V!=this.pX,N=Math.abs(w.deltaX)):(F=ce===0?Yt:ce<0?Vn:hi,C=ce!=this.pY,N=Math.abs(w.deltaY))),w.direction=F,C&&N>x.threshold&&F&x.direction},attrTest:function(w){return Sn.prototype.attrTest.call(this,w)&&(this.state&un||!(this.state&un)&&this.directionTest(w))},emit:function(w){this.pX=w.deltaX,this.pY=w.deltaY;var x=ov(w.direction);x&&(w.additionalEvent=this.options.event+x),this._super.emit.call(this,w)}});function Df(){Sn.apply(this,arguments)}v(Df,Sn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Qr]},attrTest:function(w){return this._super.attrTest.call(this,w)&&(Math.abs(w.scale-1)>this.options.threshold||this.state&un)},emit:function(w){if(w.scale!==1){var x=w.scale<1?"in":"out";w.additionalEvent=this.options.event+x}this._super.emit.call(this,w)}});function Lf(){vi.apply(this,arguments),this._timer=null,this._input=null}v(Lf,vi,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[rv]},process:function(w){var x=this.options,C=w.pointers.length===x.pointers,N=w.distance<x.threshold,F=w.deltaTime>x.time;if(this._input=w,!N||!C||w.eventType&(_e|ze)&&!F)this.reset();else if(w.eventType&te)this.reset(),this._timer=d(function(){this.state=yi,this.tryEmit()},x.time,this);else if(w.eventType&_e)return yi;return Kn},reset:function(){clearTimeout(this._timer)},emit:function(w){this.state===yi&&(w&&w.eventType&_e?this.manager.emit(this.options.event+"up",w):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}});function Ff(){Sn.apply(this,arguments)}v(Ff,Sn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Qr]},attrTest:function(w){return this._super.attrTest.call(this,w)&&(Math.abs(w.rotation)>this.options.threshold||this.state&un)}});function zf(){Sn.apply(this,arguments)}v(zf,Sn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:wt|bn,pointers:1},getTouchAction:function(){return gc.prototype.getTouchAction.call(this)},attrTest:function(w){var x=this.options.direction,C;return x&(wt|bn)?C=w.overallVelocity:x&wt?C=w.overallVelocityX:x&bn&&(C=w.overallVelocityY),this._super.attrTest.call(this,w)&&x&w.offsetDirection&&w.distance>this.options.threshold&&w.maxPointers==this.options.pointers&&c(C)>this.options.velocity&&w.eventType&_e},emit:function(w){var x=ov(w.offsetDirection);x&&this.manager.emit(this.options.event+x,w),this.manager.emit(this.options.event,w)}});function yc(){vi.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}v(yc,vi,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Af]},process:function(w){var x=this.options,C=w.pointers.length===x.pointers,N=w.distance<x.threshold,F=w.deltaTime<x.time;if(this.reset(),w.eventType&te&&this.count===0)return this.failTimeout();if(N&&F&&C){if(w.eventType!=_e)return this.failTimeout();var V=this.pTime?w.timeStamp-this.pTime<x.interval:!0,ce=!this.pCenter||Bs(this.pCenter,w.center)<x.posThreshold;this.pTime=w.timeStamp,this.pCenter=w.center,!ce||!V?this.count=1:this.count+=1,this._input=w;var Ze=this.count%x.taps;if(Ze===0)return this.hasRequireFailures()?(this._timer=d(function(){this.state=yi,this.tryEmit()},x.interval,this),un):yi}return Kn},failTimeout:function(){return this._timer=d(function(){this.state=Kn},this.options.interval,this),Kn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==yi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Zi(w,x){return x=x||{},x.recognizers=E(x.recognizers,Zi.defaults.preset),new jf(w,x)}Zi.VERSION="2.0.7",Zi.defaults={domEvents:!1,touchAction:iv,enable:!0,inputTarget:null,inputClass:null,preset:[[Ff,{enable:!1}],[Df,{enable:!1},["rotate"]],[zf,{direction:wt}],[gc,{direction:wt},["swipe"]],[yc],[yc,{event:"doubletap",taps:2},["tap"]],[Lf]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var eP=1,av=2;function jf(w,x){this.options=p({},Zi.defaults,x||{}),this.options.inputTarget=this.options.inputTarget||w,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=w,this.input=oc(this),this.touchAction=new Of(this,this.options.touchAction),lv(this,!0),h(this.options.recognizers,function(C){var N=this.add(new C[0](C[1]));C[2]&&N.recognizeWith(C[2]),C[3]&&N.requireFailure(C[3])},this)}jf.prototype={set:function(w){return p(this.options,w),w.touchAction&&this.touchAction.update(),w.inputTarget&&(this.input.destroy(),this.input.target=w.inputTarget,this.input.init()),this},stop:function(w){this.session.stopped=w?av:eP},recognize:function(w){var x=this.session;if(!x.stopped){this.touchAction.preventDefaults(w);var C,N=this.recognizers,F=x.curRecognizer;(!F||F&&F.state&yi)&&(F=x.curRecognizer=null);for(var V=0;V<N.length;)C=N[V],x.stopped!==av&&(!F||C==F||C.canRecognizeWith(F))?C.recognize(w):C.reset(),!F&&C.state&(un|Vs|Xi)&&(F=x.curRecognizer=C),V++}},get:function(w){if(w instanceof vi)return w;for(var x=this.recognizers,C=0;C<x.length;C++)if(x[C].options.event==w)return x[C];return null},add:function(w){if(f(w,"add",this))return this;var x=this.get(w.options.event);return x&&this.remove(x),this.recognizers.push(w),w.manager=this,this.touchAction.update(),w},remove:function(w){if(f(w,"remove",this))return this;if(w=this.get(w),w){var x=this.recognizers,C=j(x,w);C!==-1&&(x.splice(C,1),this.touchAction.update())}return this},on:function(w,x){if(w!==r&&x!==r){var C=this.handlers;return h(O(w),function(N){C[N]=C[N]||[],C[N].push(x)}),this}},off:function(w,x){if(w!==r){var C=this.handlers;return h(O(w),function(N){x?C[N]&&C[N].splice(j(C[N],x),1):delete C[N]}),this}},emit:function(w,x){this.options.domEvents&&tP(w,x);var C=this.handlers[w]&&this.handlers[w].slice();if(!(!C||!C.length)){x.type=w,x.preventDefault=function(){x.srcEvent.preventDefault()};for(var N=0;N<C.length;)C[N](x),N++}},destroy:function(){this.element&&lv(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function lv(w,x){var C=w.element;if(C.style){var N;h(w.options.cssProps,function(F,V){N=B(C.style,V),x?(w.oldCssProps[N]=C.style[N],C.style[N]=F):C.style[N]=w.oldCssProps[N]||""}),x||(w.oldCssProps={})}}function tP(w,x){var C=n.createEvent("Event");C.initEvent(w,!0,!0),C.gesture=x,x.target.dispatchEvent(C)}p(Zi,{INPUT_START:te,INPUT_MOVE:Nt,INPUT_END:_e,INPUT_CANCEL:ze,STATE_POSSIBLE:pc,STATE_BEGAN:un,STATE_CHANGED:Vs,STATE_ENDED:Xi,STATE_RECOGNIZED:yi,STATE_CANCELLED:aa,STATE_FAILED:Kn,DIRECTION_NONE:Yt,DIRECTION_LEFT:an,DIRECTION_RIGHT:Rt,DIRECTION_UP:Vn,DIRECTION_DOWN:hi,DIRECTION_HORIZONTAL:wt,DIRECTION_VERTICAL:bn,DIRECTION_ALL:Gi,Manager:jf,Input:Xe,TouchAction:Of,TouchInput:cn,MouseInput:Ws,PointerEventInput:ln,TouchMouseInput:Mf,SingleTouchInput:be,Recognizer:vi,AttrRecognizer:Sn,Tap:yc,Pan:gc,Swipe:zf,Pinch:Df,Rotate:Ff,Press:Lf,on:T,off:k,each:h,merge:g,extend:y,assign:p,inherit:v,bindFn:_,prefixed:B});var nP=typeof e<"u"?e:typeof self<"u"?self:{};nP.Hammer=Zi,t.exports?t.exports=Zi:e[i]=Zi})(window,document,"Hammer")})(Lk);var XH=Lk.exports;const tl=Bm(XH);/*!
* chartjs-plugin-zoom v2.2.0
* https://www.chartjs.org/chartjs-plugin-zoom/2.2.0/
 * (c) 2016-2024 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const Hl=t=>t&&t.enabled&&t.modifierKey,Fk=(t,e)=>t&&e[t+"Key"],Xy=(t,e)=>t&&!e[t+"Key"];function Wr(t,e,n){return t===void 0?!0:typeof t=="string"?t.indexOf(e)!==-1:typeof t=="function"?t({chart:n}).indexOf(e)!==-1:!1}function qh(t,e){return typeof t=="function"&&(t=t({chart:e})),typeof t=="string"?{x:t.indexOf("x")!==-1,y:t.indexOf("y")!==-1}:{x:!1,y:!1}}function ZH(t,e){let n;return function(){return clearTimeout(n),n=setTimeout(t,e),e}}function JH({x:t,y:e},n){const i=n.scales,r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]];if(e>=o.top&&e<=o.bottom&&t>=o.left&&t<=o.right)return o}return null}function zk(t,e,n){const{mode:i="xy",scaleMode:r,overScaleMode:s}=t||{},o=JH(e,n),a=qh(i,n),l=qh(r,n);if(s){const u=qh(s,n);for(const d of["x","y"])u[d]&&(l[d]=a[d],a[d]=!1)}if(o&&l[o.axis])return[o];const c=[];return ue(n.scales,function(u){a[u.axis]&&c.push(u)}),c}const Om=new WeakMap;function Le(t){let e=Om.get(t);return e||(e={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},Om.set(t,e)),e}function e8(t){Om.delete(t)}function jk(t,e,n,i){const r=Math.max(0,Math.min(1,(t-e)/n||0)),s=1-r;return{min:i*r,max:i*s}}function Bk(t,e){const n=t.isHorizontal()?e.x:e.y;return t.getValueForPixel(n)}function Hk(t,e,n){const i=t.max-t.min,r=i*(e-1),s=Bk(t,n);return jk(s,t.min,i,r)}function t8(t,e,n){const i=Bk(t,n);if(i===void 0)return{min:t.min,max:t.max};const r=Math.log10(t.min),s=Math.log10(t.max),o=Math.log10(i),a=s-r,l=a*(e-1),c=jk(o,r,a,l);return{min:Math.pow(10,r+c.min),max:Math.pow(10,s-c.max)}}function n8(t,e){return e&&(e[t.id]||e[t.axis])||{}}function Sx(t,e,n,i,r){let s=n[i];if(s==="original"){const o=t.originalScaleLimits[e.id][i];s=ae(o.options,o.scale)}return ae(s,r)}function i8(t,e,n){const i=t.getValueForPixel(e),r=t.getValueForPixel(n);return{min:Math.min(i,r),max:Math.max(i,r)}}function r8(t,{min:e,max:n,minLimit:i,maxLimit:r},s){const o=(t-n+e)/2;e-=o,n+=o;const a=s.min.options??s.min.scale,l=s.max.options??s.max.scale,c=t/1e6;return ws(e,a,c)&&(e=a),ws(n,l,c)&&(n=l),e<i?(e=i,n=Math.min(i+t,r)):n>r&&(n=r,e=Math.max(r-t,i)),{min:e,max:n}}function js(t,{min:e,max:n},i,r=!1){const s=Le(t.chart),{options:o}=t,a=n8(t,i),{minRange:l=0}=a,c=Sx(s,t,a,"min",-1/0),u=Sx(s,t,a,"max",1/0);if(r==="pan"&&(e<c||n>u))return!0;const d=t.max-t.min,f=r?Math.max(n-e,l):d;if(r&&f===l&&d<=l)return!0;const h=r8(f,{min:e,max:n,minLimit:c,maxLimit:u},s.originalScaleLimits[t.id]);return o.min=h.min,o.max=h.max,s.updatedScaleLimits[t.id]=h,t.parse(h.min)!==t.min||t.parse(h.max)!==t.max}function s8(t,e,n,i){const r=Hk(t,e,n),s={min:t.min+r.min,max:t.max-r.max};return js(t,s,i,!0)}function o8(t,e,n,i){const r=t8(t,e,n);return js(t,r,i,!0)}function a8(t,e,n,i){js(t,i8(t,e,n),i,!0)}const Ex=t=>t===0||isNaN(t)?0:t<0?Math.min(Math.round(t),-1):Math.max(Math.round(t),1);function l8(t){const n=t.getLabels().length-1;t.min>0&&(t.min-=1),t.max<n&&(t.max+=1)}function c8(t,e,n,i){const r=Hk(t,e,n);t.min===t.max&&e<1&&l8(t);const s={min:t.min+Ex(r.min),max:t.max-Ex(r.max)};return js(t,s,i,!0)}function u8(t){return t.isHorizontal()?t.width:t.height}function d8(t,e,n){const r=t.getLabels().length-1;let{min:s,max:o}=t;const a=Math.max(o-s,1),l=Math.round(u8(t)/Math.max(a,10)),c=Math.round(Math.abs(e/l));let u;return e<-l?(o=Math.min(o+c,r),s=a===1?o:o-a,u=o===r):e>l&&(s=Math.max(0,s-c),o=a===1?s:s+a,u=s===0),js(t,{min:s,max:o},n)||u}const f8={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function Wk(t,e,n,i=!1){const{min:r,max:s,options:o}=t,a=o.time&&o.time.round,l=f8[a]||0,c=t.getValueForPixel(t.getPixelForValue(r+l)-e),u=t.getValueForPixel(t.getPixelForValue(s+l)-e);return isNaN(c)||isNaN(u)?!0:js(t,{min:c,max:u},n,i?"pan":!1)}function Cx(t,e,n){return Wk(t,e,n,!0)}const Dm={category:c8,default:s8,logarithmic:o8},Lm={default:a8},Fm={category:d8,default:Wk,logarithmic:Cx,timeseries:Cx};function h8(t,e,n){const{id:i,options:{min:r,max:s}}=t;if(!e[i]||!n[i])return!0;const o=n[i];return o.min!==r||o.max!==s}function Tx(t,e){ue(t,(n,i)=>{e[i]||delete t[i]})}function ia(t,e){const{scales:n}=t,{originalScaleLimits:i,updatedScaleLimits:r}=e;return ue(n,function(s){h8(s,i,r)&&(i[s.id]={min:{scale:s.min,options:s.options.min},max:{scale:s.max,options:s.options.max}})}),Tx(i,n),Tx(r,n),i}function kx(t,e,n,i){const r=Dm[t.type]||Dm.default;ee(r,[t,e,n,i])}function Px(t,e,n,i){const r=Lm[t.type]||Lm.default;ee(r,[t,e,n,i])}function p8(t){const e=t.chartArea;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Zy(t,e,n="none",i="api"){const{x:r=1,y:s=1,focalPoint:o=p8(t)}=typeof e=="number"?{x:e,y:e}:e,a=Le(t),{options:{limits:l,zoom:c}}=a;ia(t,a);const u=r!==1,d=s!==1,f=zk(c,o,t);ue(f||t.scales,function(h){h.isHorizontal()&&u?kx(h,r,o,l):!h.isHorizontal()&&d&&kx(h,s,o,l)}),t.update(n),ee(c.onZoom,[{chart:t,trigger:i}])}function $k(t,e,n,i="none",r="api"){const s=Le(t),{options:{limits:o,zoom:a}}=s,{mode:l="xy"}=a;ia(t,s);const c=Wr(l,"x",t),u=Wr(l,"y",t);ue(t.scales,function(d){d.isHorizontal()&&c?Px(d,e.x,n.x,o):!d.isHorizontal()&&u&&Px(d,e.y,n.y,o)}),t.update(i),ee(a.onZoom,[{chart:t,trigger:r}])}function m8(t,e,n,i="none",r="api"){var a;const s=Le(t);ia(t,s);const o=t.scales[e];js(o,n,void 0,!0),t.update(i),ee((a=s.options.zoom)==null?void 0:a.onZoom,[{chart:t,trigger:r}])}function g8(t,e="default"){const n=Le(t),i=ia(t,n);ue(t.scales,function(r){const s=r.options;i[r.id]?(s.min=i[r.id].min.options,s.max=i[r.id].max.options):(delete s.min,delete s.max),delete n.updatedScaleLimits[r.id]}),t.update(e),ee(n.options.zoom.onZoomComplete,[{chart:t}])}function y8(t,e){const n=t.originalScaleLimits[e];if(!n)return;const{min:i,max:r}=n;return ae(r.options,r.scale)-ae(i.options,i.scale)}function v8(t){const e=Le(t);let n=1,i=1;return ue(t.scales,function(r){const s=y8(e,r.id);if(s){const o=Math.round(s/(r.max-r.min)*100)/100;n=Math.min(n,o),i=Math.max(i,o)}}),n<1?n:i}function Ix(t,e,n,i){const{panDelta:r}=i,s=r[t.id]||0;Hr(s)===Hr(e)&&(e+=s);const o=Fm[t.type]||Fm.default;ee(o,[t,e,n])?r[t.id]=0:r[t.id]=e}function Vk(t,e,n,i="none"){const{x:r=0,y:s=0}=typeof e=="number"?{x:e,y:e}:e,o=Le(t),{options:{pan:a,limits:l}}=o,{onPan:c}=a||{};ia(t,o);const u=r!==0,d=s!==0;ue(n||t.scales,function(f){f.isHorizontal()&&u?Ix(f,r,l,o):!f.isHorizontal()&&d&&Ix(f,s,l,o)}),t.update(i),ee(c,[{chart:t}])}function Uk(t){const e=Le(t);ia(t,e);const n={};for(const i of Object.keys(t.scales)){const{min:r,max:s}=e.originalScaleLimits[i]||{min:{},max:{}};n[i]={min:r.scale,max:s.scale}}return n}function _8(t){const e=Le(t),n={};for(const i of Object.keys(t.scales))n[i]=e.updatedScaleLimits[i];return n}function w8(t){const e=Uk(t);for(const n of Object.keys(t.scales)){const{min:i,max:r}=e[n];if(i!==void 0&&t.scales[n].min!==i||r!==void 0&&t.scales[n].max!==r)return!0}return!1}function Nx(t){const e=Le(t);return e.panning||e.dragging}const Rx=(t,e,n)=>Math.min(n,Math.max(e,t));function Lt(t,e){const{handlers:n}=Le(t),i=n[e];i&&i.target&&(i.target.removeEventListener(e,i),delete n[e])}function nl(t,e,n,i){const{handlers:r,options:s}=Le(t),o=r[n];if(o&&o.target===e)return;Lt(t,n),r[n]=l=>i(t,l,s),r[n].target=e;const a=n==="wheel"?!1:void 0;e.addEventListener(n,r[n],{passive:a})}function x8(t,e){const n=Le(t);n.dragStart&&(n.dragging=!0,n.dragEnd=e,t.update("none"))}function b8(t,e){const n=Le(t);!n.dragStart||e.key!=="Escape"||(Lt(t,"keydown"),n.dragging=!1,n.dragStart=n.dragEnd=null,t.update("none"))}function zm(t,e){if(t.target!==e.canvas){const n=e.canvas.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}return ri(t,e)}function Yk(t,e,n){const{onZoomStart:i,onZoomRejected:r}=n;if(i){const s=zm(e,t);if(ee(i,[{chart:t,event:e,point:s}])===!1)return ee(r,[{chart:t,event:e}]),!1}}function S8(t,e){if(t.legend){const s=ri(e,t);if($o(s,t.legend))return}const n=Le(t),{pan:i,zoom:r={}}=n.options;if(e.button!==0||Fk(Hl(i),e)||Xy(Hl(r.drag),e))return ee(r.onZoomRejected,[{chart:t,event:e}]);Yk(t,e,r)!==!1&&(n.dragStart=e,nl(t,t.canvas.ownerDocument,"mousemove",x8),nl(t,window.document,"keydown",b8))}function E8({begin:t,end:e},n){let i=e.x-t.x,r=e.y-t.y;const s=Math.abs(i/r);s>n?i=Math.sign(i)*Math.abs(r*n):s<n&&(r=Math.sign(r)*Math.abs(i/n)),e.x=t.x+i,e.y=t.y+r}function Mx(t,e,n,{min:i,max:r,prop:s}){t[i]=Rx(Math.min(n.begin[s],n.end[s]),e[i],e[r]),t[r]=Rx(Math.max(n.begin[s],n.end[s]),e[i],e[r])}function C8(t,e,n){const i={begin:zm(e.dragStart,t),end:zm(e.dragEnd,t)};if(n){const r=t.chartArea.width/t.chartArea.height;E8(i,r)}return i}function Kk(t,e,n,i){const r=Wr(e,"x",t),s=Wr(e,"y",t),{top:o,left:a,right:l,bottom:c,width:u,height:d}=t.chartArea,f={top:o,left:a,right:l,bottom:c},h=C8(t,n,i&&r&&s);r&&Mx(f,t.chartArea,h,{min:"left",max:"right",prop:"x"}),s&&Mx(f,t.chartArea,h,{min:"top",max:"bottom",prop:"y"});const m=f.right-f.left,p=f.bottom-f.top;return{...f,width:m,height:p,zoomX:r&&m?1+(u-m)/u:1,zoomY:s&&p?1+(d-p)/d:1}}function T8(t,e){const n=Le(t);if(!n.dragStart)return;Lt(t,"mousemove");const{mode:i,onZoomComplete:r,drag:{threshold:s=0,maintainAspectRatio:o}}=n.options.zoom,a=Kk(t,i,{dragStart:n.dragStart,dragEnd:e},o),l=Wr(i,"x",t)?a.width:0,c=Wr(i,"y",t)?a.height:0,u=Math.sqrt(l*l+c*c);if(n.dragStart=n.dragEnd=null,u<=s){n.dragging=!1,t.update("none");return}$k(t,{x:a.left,y:a.top},{x:a.right,y:a.bottom},"zoom","drag"),n.dragging=!1,n.filterNextClick=!0,ee(r,[{chart:t}])}function k8(t,e,n){if(Xy(Hl(n.wheel),e)){ee(n.onZoomRejected,[{chart:t,event:e}]);return}if(Yk(t,e,n)!==!1&&(e.cancelable&&e.preventDefault(),e.deltaY!==void 0))return!0}function P8(t,e){const{handlers:{onZoomComplete:n},options:{zoom:i}}=Le(t);if(!k8(t,e,i))return;const r=e.target.getBoundingClientRect(),s=i.wheel.speed,o=e.deltaY>=0?2-1/(1-s):1+s,a={x:o,y:o,focalPoint:{x:e.clientX-r.left,y:e.clientY-r.top}};Zy(t,a,"zoom","wheel"),ee(n,[{chart:t}])}function I8(t,e,n,i){n&&(Le(t).handlers[e]=ZH(()=>ee(n,[{chart:t}]),i))}function N8(t,e){const n=t.canvas,{wheel:i,drag:r,onZoomComplete:s}=e.zoom;i.enabled?(nl(t,n,"wheel",P8),I8(t,"onZoomComplete",s,250)):Lt(t,"wheel"),r.enabled?(nl(t,n,"mousedown",S8),nl(t,n.ownerDocument,"mouseup",T8)):(Lt(t,"mousedown"),Lt(t,"mousemove"),Lt(t,"mouseup"),Lt(t,"keydown"))}function R8(t){Lt(t,"mousedown"),Lt(t,"mousemove"),Lt(t,"mouseup"),Lt(t,"wheel"),Lt(t,"click"),Lt(t,"keydown")}function M8(t,e){return function(n,i){const{pan:r,zoom:s={}}=e.options;if(!r||!r.enabled)return!1;const o=i&&i.srcEvent;return o&&!e.panning&&i.pointerType==="mouse"&&(Xy(Hl(r),o)||Fk(Hl(s.drag),o))?(ee(r.onPanRejected,[{chart:t,event:i}]),!1):!0}}function A8(t,e){const n=Math.abs(t.clientX-e.clientX),i=Math.abs(t.clientY-e.clientY),r=n/i;let s,o;return r>.3&&r<1.7?s=o=!0:n>i?s=!0:o=!0,{x:s,y:o}}function Gk(t,e,n){if(e.scale){const{center:i,pointers:r}=n,s=1/e.scale*n.scale,o=n.target.getBoundingClientRect(),a=A8(r[0],r[1]),l=e.options.zoom.mode,c={x:a.x&&Wr(l,"x",t)?s:1,y:a.y&&Wr(l,"y",t)?s:1,focalPoint:{x:i.x-o.left,y:i.y-o.top}};Zy(t,c,"zoom","pinch"),e.scale=n.scale}}function O8(t,e,n){if(e.options.zoom.pinch.enabled){const i=ri(n,t);ee(e.options.zoom.onZoomStart,[{chart:t,event:n,point:i}])===!1?(e.scale=null,ee(e.options.zoom.onZoomRejected,[{chart:t,event:n}])):e.scale=1}}function D8(t,e,n){e.scale&&(Gk(t,e,n),e.scale=null,ee(e.options.zoom.onZoomComplete,[{chart:t}]))}function qk(t,e,n){const i=e.delta;i&&(e.panning=!0,Vk(t,{x:n.deltaX-i.x,y:n.deltaY-i.y},e.panScales),e.delta={x:n.deltaX,y:n.deltaY})}function L8(t,e,n){const{enabled:i,onPanStart:r,onPanRejected:s}=e.options.pan;if(!i)return;const o=n.target.getBoundingClientRect(),a={x:n.center.x-o.left,y:n.center.y-o.top};if(ee(r,[{chart:t,event:n,point:a}])===!1)return ee(s,[{chart:t,event:n}]);e.panScales=zk(e.options.pan,a,t),e.delta={x:0,y:0},qk(t,e,n)}function F8(t,e){e.delta=null,e.panning&&(e.panning=!1,e.filterNextClick=!0,ee(e.options.pan.onPanComplete,[{chart:t}]))}const jm=new WeakMap;function Ax(t,e){const n=Le(t),i=t.canvas,{pan:r,zoom:s}=e,o=new tl.Manager(i);s&&s.pinch.enabled&&(o.add(new tl.Pinch),o.on("pinchstart",a=>O8(t,n,a)),o.on("pinch",a=>Gk(t,n,a)),o.on("pinchend",a=>D8(t,n,a))),r&&r.enabled&&(o.add(new tl.Pan({threshold:r.threshold,enable:M8(t,n)})),o.on("panstart",a=>L8(t,n,a)),o.on("panmove",a=>qk(t,n,a)),o.on("panend",()=>F8(t,n))),jm.set(t,o)}function Ox(t){const e=jm.get(t);e&&(e.remove("pinchstart"),e.remove("pinch"),e.remove("pinchend"),e.remove("panstart"),e.remove("pan"),e.remove("panend"),e.destroy(),jm.delete(t))}function z8(t,e){var o,a,l,c;const{pan:n,zoom:i}=t,{pan:r,zoom:s}=e;return((a=(o=i==null?void 0:i.zoom)==null?void 0:o.pinch)==null?void 0:a.enabled)!==((c=(l=s==null?void 0:s.zoom)==null?void 0:l.pinch)==null?void 0:c.enabled)||(n==null?void 0:n.enabled)!==(r==null?void 0:r.enabled)||(n==null?void 0:n.threshold)!==(r==null?void 0:r.threshold)}var j8="2.2.0";function iu(t,e,n){const i=n.zoom.drag,{dragStart:r,dragEnd:s}=Le(t);if(i.drawTime!==e||!s)return;const{left:o,top:a,width:l,height:c}=Kk(t,n.zoom.mode,{dragStart:r,dragEnd:s},i.maintainAspectRatio),u=t.ctx;u.save(),u.beginPath(),u.fillStyle=i.backgroundColor||"rgba(225,225,225,0.3)",u.fillRect(o,a,l,c),i.borderWidth>0&&(u.lineWidth=i.borderWidth,u.strokeStyle=i.borderColor||"rgba(225,225,225)",u.strokeRect(o,a,l,c)),u.restore()}var B8={id:"zoom",version:j8,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(t,e,n){const i=Le(t);i.options=n,Object.prototype.hasOwnProperty.call(n.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(n.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(n.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),tl&&Ax(t,n),t.pan=(r,s,o)=>Vk(t,r,s,o),t.zoom=(r,s)=>Zy(t,r,s),t.zoomRect=(r,s,o)=>$k(t,r,s,o),t.zoomScale=(r,s,o)=>m8(t,r,s,o),t.resetZoom=r=>g8(t,r),t.getZoomLevel=()=>v8(t),t.getInitialScaleBounds=()=>Uk(t),t.getZoomedScaleBounds=()=>_8(t),t.isZoomedOrPanned=()=>w8(t),t.isZoomingOrPanning=()=>Nx(t)},beforeEvent(t,{event:e}){if(Nx(t))return!1;if(e.type==="click"||e.type==="mouseup"){const n=Le(t);if(n.filterNextClick)return n.filterNextClick=!1,!1}},beforeUpdate:function(t,e,n){const i=Le(t),r=i.options;i.options=n,z8(r,n)&&(Ox(t),Ax(t,n)),N8(t,n)},beforeDatasetsDraw(t,e,n){iu(t,"beforeDatasetsDraw",n)},afterDatasetsDraw(t,e,n){iu(t,"afterDatasetsDraw",n)},beforeDraw(t,e,n){iu(t,"beforeDraw",n)},afterDraw(t,e,n){iu(t,"afterDraw",n)},stop:function(t){R8(t),tl&&Ox(t),e8(t)},panFunctions:Fm,zoomFunctions:Dm,zoomRectFunctions:Lm};Cf.register(Mm,Am,Eu,yr,PH,LH,TH,wH,B8);const H8=(t,e)=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:t,color:e?"#fef3c7":"#1f1408",font:{size:16,weight:"bold"}},tooltip:{mode:"index",intersect:!1,backgroundColor:e?"#292524":"#ffffff",titleColor:e?"#fef3c7":"#1f1408",bodyColor:e?"#fef3c7":"#1f1408",borderColor:e?"#44403c":"#fde68a",borderWidth:1},zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{grid:{color:e?"#44403c":"#fef3c7",display:!0},ticks:{color:e?"#fde68a":"#78350f",maxRotation:45,minRotation:0}},y:{min:0,max:100,grid:{color:e?"#44403c":"#fef3c7",display:!0},ticks:{color:e?"#fde68a":"#78350f",stepSize:20}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}),W8=(t,e,n,i)=>({labels:t,datasets:[{data:e,borderColor:n,backgroundColor:`${n}33`,borderWidth:2,fill:!0,tension:.4,pointRadius:4,pointBackgroundColor:n,pointBorderColor:i?"#1f1408":"#ffffff",pointBorderWidth:2,pointHoverRadius:6}]}),$8=MS("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Nd=S.forwardRef(({className:t,variant:e,size:n,asChild:i=!1,...r},s)=>{const o=i?zN:"button";return P.jsx(o,{className:Ct($8({variant:e,size:n,className:t})),ref:s,...r})});Nd.displayName="Button";const V8={temperature:{icon:BR,color:"temp",chartColor:"#fbbf24",label:"Temperature",normalRange:{min:18,max:30}},humidity:{icon:DR,color:"humidity",chartColor:"#06b6d4",label:"Humidity",normalRange:{min:60,max:100}},airpurity:{icon:$R,color:"air",chartColor:"#10b981",label:"Air Quality",normalRange:{min:60,max:100}}};function Qh({type:t,value:e,unit:n,historicalData:i}){var b;const[r,s]=S.useState(!1),[o,a]=S.useState("24h"),[l,c]=S.useState(!1),{theme:u}=zE(),d=u==="dark",f=V8[t],h=f.icon,m=e!=null&&(e<f.normalRange.min||f.normalRange.max<100&&e>f.normalRange.max),p=e!=null&&i.length>1&&((b=i[i.length-2])==null?void 0:b.value)!=null?e-i[i.length-2].value:0,g=(()=>{const E=new Date;let T=[...i];switch(o){case"live":T=i.slice(-20);break;case"24h":T=i.filter(k=>{const I=new Date(k.timestamp);return E.getTime()-I.getTime()<=24*60*60*1e3});break;case"7d":T=i.filter(k=>{const I=new Date(k.timestamp);return E.getTime()-I.getTime()<=7*24*60*60*1e3});break;case"15d":T=i.filter(k=>{const I=new Date(k.timestamp);return E.getTime()-I.getTime()<=15*24*60*60*1e3});break;case"30d":T=i.filter(k=>{const I=new Date(k.timestamp);return E.getTime()-I.getTime()<=30*24*60*60*1e3});break}return T})(),v=g.map(E=>{const T=new Date(E.timestamp);return o==="live"||o==="24h"?T.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):T.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),_=g.map(E=>E.value);return P.jsxs("div",{className:"space-y-4 animate-fade-in",children:[P.jsxs("div",{onClick:()=>s(!r),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),className:Ct("relative p-6 rounded-2xl cursor-pointer","transform transition-all duration-500 ease-out","shadow-smooth hover:shadow-hover","bg-card border-2",m?"border-danger animate-pulse-danger":"border-border/50 hover:border-primary/30","group",l&&"scale-[1.02] -translate-y-1"),children:[m&&P.jsx("div",{className:"absolute -top-3 -right-3 bg-gradient-danger text-destructive-foreground px-3 py-1 rounded-full text-xs font-bold animate-bounce-slow shadow-glow",children:"ALERT"}),P.jsxs("div",{className:"flex items-start justify-between mb-4",children:[P.jsx("div",{className:Ct("p-3 rounded-xl transition-all duration-500",t==="temperature"&&"bg-gradient-to-br from-orange-400/20 to-red-400/20",t==="humidity"&&"bg-gradient-to-br from-blue-400/20 to-cyan-400/20",t==="airpurity"&&"bg-gradient-to-br from-green-400/20 to-emerald-400/20","group-hover:scale-110 group-hover:rotate-3"),children:P.jsx(h,{className:Ct("w-6 h-6 transition-colors duration-300",t==="temperature"&&"text-temp",t==="humidity"&&"text-humidity",t==="airpurity"&&"text-air")})}),P.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground transition-all duration-300 hover:scale-105",children:[p>0?P.jsx(WR,{className:"w-4 h-4 text-success animate-fade-in"}):p<0?P.jsx(HR,{className:"w-4 h-4 text-danger animate-fade-in"}):P.jsx(FR,{className:"w-4 h-4 animate-fade-in"}),P.jsx("span",{className:"font-medium",children:Math.abs(p||0).toFixed(1)})]})]}),P.jsxs("div",{className:"space-y-1",children:[P.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:f.label}),P.jsxs("div",{className:"flex items-baseline gap-1",children:[P.jsx("span",{className:"text-3xl font-bold text-foreground",children:e!=null?e.toFixed(1):"---"}),P.jsx("span",{className:"text-lg text-muted-foreground",children:n})]}),P.jsx("div",{className:"mt-3 h-2 bg-muted rounded-full overflow-hidden",children:P.jsx("div",{className:Ct("h-full transition-all duration-500",m?"bg-gradient-danger":`bg-${f.color}`),style:{width:`${Math.min(100,Math.max(0,e||0))}%`}})})]})]}),r&&P.jsxs("div",{className:"p-6 rounded-2xl shadow-neumorphic bg-card animate-fade-in",children:[P.jsx("div",{className:"flex gap-2 mb-4 flex-wrap",children:["live","24h","7d","15d","30d"].map(E=>P.jsx(Nd,{variant:o===E?"default":"outline",size:"sm",onClick:()=>a(E),className:"uppercase",children:E},E))}),P.jsx("div",{className:"h-64",children:P.jsx(QH,{data:W8(v,_,f.chartColor,d),options:H8(`${f.label} History`,d)})})]})]})}function U8({isOnline:t,lastSeen:e}){const n=()=>{if(!e)return"Never";const i=Date.now()-e.getTime(),r=Math.floor(i/1e3),s=Math.floor(r/60),o=Math.floor(s/60);return r<60?"Just now":s<60?`${s}m ago`:o<24?`${o}h ago`:e.toLocaleDateString()};return P.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl shadow-neumorphic bg-card",children:[P.jsxs("div",{className:"relative",children:[P.jsx(T_,{className:Ct("w-3 h-3 fill-current",t?"text-success":"text-danger")}),t&&P.jsx(T_,{className:"absolute top-0 left-0 w-3 h-3 text-success animate-ping"})]}),P.jsxs("div",{className:"flex flex-col",children:[P.jsx("span",{className:"text-sm font-medium text-foreground",children:t?"Online":"Offline"}),P.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last seen: ",n()]})]})]})}function Y8(){const{currentData:t,historicalData:e,isOnline:n,lastSeen:i,loading:r}=Pz();if(r)return P.jsx("div",{className:"min-h-[60vh] flex items-center justify-center animate-fade-in",children:P.jsxs("div",{className:"relative",children:[P.jsx("div",{className:"absolute inset-0 bg-gradient-honey rounded-full blur-2xl opacity-30 animate-glow"}),P.jsx(LR,{className:"relative w-12 h-12 animate-spin text-honey"})]})});if(!t)return P.jsx("div",{className:"min-h-[60vh] flex items-center justify-center animate-fade-in",children:P.jsxs("div",{className:"text-center space-y-4 p-8 bg-card/50 rounded-2xl backdrop-blur-sm",children:[P.jsx("p",{className:"text-xl text-muted-foreground",children:"No data available"}),P.jsx("p",{className:"text-sm text-muted-foreground animate-pulse",children:"Waiting for sensor data..."})]})});const s=o=>Object.entries(e).filter(([a,l])=>l&&l[o]!=null).map(([a,l])=>({timestamp:a,value:l[o]})).sort((a,l)=>new Date(a.timestamp).getTime()-new Date(l.timestamp).getTime());return P.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6 animate-fade-in",children:[P.jsx("div",{className:"flex justify-end animate-slide-up",children:P.jsx(U8,{isOnline:n,lastSeen:i})}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[P.jsx("div",{className:"animate-fade-in",style:{animationDelay:"0.1s"},children:P.jsx(Qh,{type:"temperature",value:t.temperature??0,unit:"°C",historicalData:s("temperature")})}),P.jsx("div",{className:"animate-fade-in",style:{animationDelay:"0.2s"},children:P.jsx(Qh,{type:"humidity",value:t.humidity??0,unit:"%",historicalData:s("humidity")})}),P.jsx("div",{className:"animate-fade-in",style:{animationDelay:"0.3s"},children:P.jsx(Qh,{type:"airpurity",value:t.air_quality??0,unit:"%",historicalData:s("air_quality")})})]}),P.jsxs("div",{className:"text-center text-sm text-muted-foreground animate-fade-in mt-8 p-4 bg-card/50 rounded-xl backdrop-blur-sm",children:[P.jsx("span",{className:"font-medium",children:"Last updated:"}),P.jsx("span",{className:"ml-2 text-foreground",children:t.last_time?new Date(t.last_time).toLocaleString():"N/A"})]})]})}const K8="BKagOny0KF_2pCJQ3m_RFmHkPBgcKmYNOWUaR5euV8HcBU1AdRSSfKRhbPEg4pcPM5wGUROZa4FX9V0tkcAXfJQ";function G8(){const[t,e]=S.useState(()=>localStorage.getItem("notificationsEnabled")==="true"),[n,i]=S.useState(null);return S.useEffect(()=>{if(!Fh)return;t&&(async()=>{try{const a=await Notification.requestPermission();if(a==="granted"&&t){const l=await Cz(Fh,{vapidKey:K8});l&&(i(l),console.log("FCM Token:",l))}else a==="denied"&&Ii.error("Notifications blocked",{description:"Please enable notifications in your browser settings"})}catch(a){console.error("Error setting up notifications:",a)}})();const o=Tz(Fh,a=>{if(console.log("Foreground message received:",a),a.notification){const{title:l,body:c,icon:u}=a.notification;Notification.permission==="granted"&&new Notification(l||"Beehive Alert",{body:c||"Check your beehive monitor",icon:u||"/icon-192.png",badge:"/icon-192.png",tag:"beehive-alert",requireInteraction:!0}),Ii.error(l||"Beehive Alert",{description:c||"Check your beehive monitor"}),new Audio("/alert.mp3").play().catch(console.error)}});return()=>{o()}},[t]),{notificationsEnabled:t,toggleNotifications:async()=>{const s=!t;e(s),localStorage.setItem("notificationsEnabled",String(s)),s?await Notification.requestPermission()!=="granted"?(e(!1),localStorage.setItem("notificationsEnabled","false"),Ii.error("Permission denied",{description:"Please enable notifications in your browser settings"})):Ii.success("Notifications enabled"):Ii.info("Notifications disabled")},fcmToken:n}}function q8({className:t}){return P.jsxs("svg",{viewBox:"0 0 100 100",className:Ct("w-12 h-12",t),xmlns:"http://www.w3.org/2000/svg",children:[P.jsx("defs",{children:P.jsx("pattern",{id:"honeycomb",x:"0",y:"0",width:"20",height:"17.32",patternUnits:"userSpaceOnUse",children:P.jsx("polygon",{points:"10,0 20,5 20,12.32 10,17.32 0,12.32 0,5",fill:"none",stroke:"currentColor",strokeOpacity:"0.1",strokeWidth:"0.5"})})}),P.jsx("rect",{width:"100",height:"100",fill:"url(#honeycomb)"}),P.jsx("polygon",{points:"50,20 70,35 70,55 50,70 30,55 30,35",fill:"hsl(var(--primary))",stroke:"hsl(var(--primary))",strokeWidth:"2"}),P.jsx("ellipse",{cx:"25",cy:"40",rx:"15",ry:"25",fill:"hsl(var(--accent))",fillOpacity:"0.8",transform:"rotate(-20 25 40)"}),P.jsx("ellipse",{cx:"75",cy:"40",rx:"15",ry:"25",fill:"hsl(var(--accent))",fillOpacity:"0.8",transform:"rotate(20 75 40)"}),P.jsx("rect",{x:"30",y:"38",width:"40",height:"4",fill:"hsl(var(--honey))"}),P.jsx("rect",{x:"30",y:"48",width:"40",height:"4",fill:"hsl(var(--honey))"}),P.jsx("circle",{cx:"42",cy:"32",r:"3",fill:"white"}),P.jsx("circle",{cx:"58",cy:"32",r:"3",fill:"white"}),P.jsx("circle",{cx:"42",cy:"32",r:"2",fill:"black"}),P.jsx("circle",{cx:"58",cy:"32",r:"2",fill:"black"}),P.jsx("line",{x1:"45",y1:"25",x2:"40",y2:"15",stroke:"hsl(var(--primary))",strokeWidth:"2",strokeLinecap:"round"}),P.jsx("line",{x1:"55",y1:"25",x2:"60",y2:"15",stroke:"hsl(var(--primary))",strokeWidth:"2",strokeLinecap:"round"}),P.jsx("circle",{cx:"40",cy:"15",r:"2",fill:"hsl(var(--primary))"}),P.jsx("circle",{cx:"60",cy:"15",r:"2",fill:"hsl(var(--primary))"})]})}function Q8(){const{theme:t,toggleTheme:e}=zE(),{notificationsEnabled:n,toggleNotifications:i}=G8();return P.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-background/95 border-b border-border transition-all duration-500",children:P.jsx("div",{className:"container mx-auto px-4 py-3",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center gap-4",children:[P.jsxs("div",{className:"relative group",children:[P.jsx("div",{className:"absolute inset-0 bg-gradient-honey rounded-2xl blur-xl opacity-50 group-hover:opacity-75 transition-opacity duration-500"}),P.jsx("div",{className:"relative p-2 rounded-2xl bg-gradient-honey shadow-hover transform transition-all duration-500 hover:scale-110 hover:rotate-3",children:P.jsx(q8,{className:"text-primary-foreground"})})]}),P.jsxs("div",{className:"transform transition-all duration-300 hover:translate-x-1",children:[P.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"BEE Monitor"}),P.jsx("p",{className:"text-sm text-muted-foreground animate-fade-in",children:"Real-time Beehive Monitoring System"})]})]}),P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsxs(Nd,{variant:"ghost",size:"icon",onClick:i,className:Ct("relative transform transition-all duration-300 hover:scale-110",n&&"text-honey"),children:[n?P.jsx(OR,{className:"w-5 h-5 transition-transform duration-300"}):P.jsx(AR,{className:"w-5 h-5 transition-transform duration-300"}),n&&P.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-success rounded-full animate-pulse"})]}),P.jsx(Nd,{variant:"ghost",size:"icon",onClick:e,className:"relative transform transition-all duration-300 hover:scale-110 hover:rotate-180",children:t==="light"?P.jsx(zR,{className:"w-5 h-5"}):P.jsx(jR,{className:"w-5 h-5"})})]})]})})})}const X8=()=>P.jsxs("div",{className:"min-h-screen bg-background",children:[P.jsx(Q8,{}),P.jsx(Y8,{})]}),Z8=()=>{const t=DE();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),P.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:P.jsxs("div",{className:"text-center",children:[P.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),P.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),P.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},J8=new hD,eW=()=>P.jsx(mD,{client:J8,children:P.jsx(i2,{children:P.jsxs($O,{children:[P.jsx(TM,{}),P.jsx(rA,{}),P.jsx(n2,{children:P.jsxs(JD,{children:[P.jsx(nm,{path:"/",element:P.jsx(X8,{})}),P.jsx(nm,{path:"*",element:P.jsx(Z8,{})})]})})]})})});iS(document.getElementById("root")).render(P.jsx(eW,{}));
